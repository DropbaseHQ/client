import{_ as Ne,h as J,im as Ue,dE as Le,eI as ot,eN as at,B as ct,is as ke,ig as ut,eZ as lt,dr as ht,hR as dt,it as qe,hS as pt,bu as gt}from"./index-5b71d1bd.js";import{aM as be,aD as ft,dL as mt,rP as Ge,lu as _t,j7 as Ve,rQ as yt,iS as St,iT as kt,aL as He,rR as Ke,rS as bt,j2 as Tt,rT as je,rU as vt,rV as wt,d6 as Ct,iW as Qe,ca as Rt,ds as Lt,b8 as Je,cb as Xe,a_ as At,cK as Ye,d_ as Ze,bu as et,fL as _e,dr as Pt,iR as It,b6 as ve,af as Be,b0 as xt,rW as xe,rX as Fe,cq as Et,av as O,aZ as Mt,bb as Nt,aY as tt,cU as Ot,rY as Pe,cw as nt,bq as Dt,ag as Gt,rZ as jt,r_ as Bt,hc as Ft,al as ze,dE as zt,r$ as $t,aW as Wt,fu as Ut,fg as qt}from"./vendor-332432be.js";function rt(D,g){for(var T=0;T<g.length;T++){const v=g[T];if(typeof v!="string"&&!Array.isArray(v)){for(const w in v)if(w!=="default"&&!(w in D)){const n=Object.getOwnPropertyDescriptor(v,w);n&&Object.defineProperty(D,w,n.get?n:{enumerable:!0,get:()=>v[w]})}}}return Object.freeze(Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}))}class Vt extends be{constructor(g,T,v,w,n=()=>!1,d){super(),this._grammar=g,this._initialState=T,this._containsEmbeddedLanguages=v,this._createBackgroundTokenizer=w,this._backgroundTokenizerShouldOnlyVerifyTokens=n,this._reportTokenizationTime=d,this._seenLanguages=[],this._onDidEncounterLanguage=this._register(new ft),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this._backgroundTokenizerShouldOnlyVerifyTokens()}getInitialState(){return this._initialState}tokenize(g,T,v){throw new Error("Not supported!")}createBackgroundTokenizer(g,T){if(this._createBackgroundTokenizer)return this._createBackgroundTokenizer(g,T)}tokenizeEncoded(g,T,v){const w=this._reportTokenizationTime&&Math.random()*1e4<1,n=w?new mt(!0):void 0,d=this._grammar.tokenizeLine2(g,v,500);if(w){const _=n.elapsed();this._reportTokenizationTime(_,g.length)}if(d.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${g.substring(0,100)}`),new Ge(d.tokens,v);if(this._containsEmbeddedLanguages){const _=this._seenLanguages,r=d.tokens;for(let S=0,h=r.length>>>1;S<h;S++){const f=r[(S<<1)+1],A=_t.getLanguageId(f);_[A]||(_[A]=!0,this._onDidEncounterLanguage.fire(A))}}let u;return v.equals(d.ruleStack)?u=v:u=d.ruleStack,new Ge(d.tokens,u)}}class Ht extends be{get backgroundTokenizerShouldOnlyVerifyTokens(){return this._actual.backgroundTokenizerShouldOnlyVerifyTokens}constructor(g,T,v){super(),this._encodedLanguageId=g,this._actual=T,this._maxTokenizationLineLength=v,this._register(Ve(this._maxTokenizationLineLength))}getInitialState(){return this._actual.getInitialState()}tokenize(g,T,v){throw new Error("Not supported!")}tokenizeEncoded(g,T,v){return g.length>=this._maxTokenizationLineLength.get()?yt(this._encodedLanguageId,v):this._actual.tokenizeEncoded(g,T,v)}createBackgroundTokenizer(g,T){if(this._actual.createBackgroundTokenizer)return this._actual.createBackgroundTokenizer(g,T)}}class Kt{constructor(g){this.edits=g.slice().sort(St(T=>T.offset,kt))}applyToArray(g){for(let T=this.edits.length-1;T>=0;T--){const v=this.edits[T];g.splice(v.offset,v.length,...new Array(v.newLength))}}}class Qt{constructor(g,T,v){this.offset=g,this.length=T,this.newLength=v}toString(){return`[${this.offset}, +${this.length}) -> +${this.newLength}}`}}class we{static fromMany(g){const T=g.map(v=>new we(v));return new Jt(T)}constructor(g){this.transformation=g,this.idx=0,this.offset=0}transform(g){let T=this.transformation.edits[this.idx];for(;T&&T.offset+T.length<=g;)this.offset+=T.newLength-T.length,this.idx++,T=this.transformation.edits[this.idx];if(!(T&&T.offset<=g))return g+this.offset}}class Jt{constructor(g){this.transformers=g}transform(g){for(const T of this.transformers){const v=T.transform(g);if(v===void 0)return;g=v}return g}}var st={exports:{}};(function(D,g){(function(T,v){D.exports=v()})(He,function(){return(()=>{var T={350:(w,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UseOnigurumaFindOptions=n.DebugFlags=void 0,n.DebugFlags={InDebugMode:typeof process<"u"&&!!{}.VSCODE_TEXTMATE_DEBUG},n.UseOnigurumaFindOptions=!1},442:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.applyStateStackDiff=n.diffStateStacksRefEq=void 0;const u=d(391);n.diffStateStacksRefEq=function(_,r){let S=0;const h=[];let f=_,A=r;for(;f!==A;)f&&(!A||f.depth>=A.depth)?(S++,f=f.parent):(h.push(A.toStateStackFrame()),A=A.parent);return{pops:S,newFrames:h.reverse()}},n.applyStateStackDiff=function(_,r){let S=_;for(let h=0;h<r.pops;h++)S=S.parent;for(const h of r.newFrames)S=u.StateStackImpl.pushFrame(S,h);return S}},36:(w,n)=>{var d;Object.defineProperty(n,"__esModule",{value:!0}),n.toOptionalTokenType=n.EncodedTokenAttributes=void 0,(d=n.EncodedTokenAttributes||(n.EncodedTokenAttributes={})).toBinaryStr=function(u){let _=u.toString(2);for(;_.length<32;)_="0"+_;return _},d.print=function(u){const _=d.getLanguageId(u),r=d.getTokenType(u),S=d.getFontStyle(u),h=d.getForeground(u),f=d.getBackground(u);console.log({languageId:_,tokenType:r,fontStyle:S,foreground:h,background:f})},d.getLanguageId=function(u){return(255&u)>>>0},d.getTokenType=function(u){return(768&u)>>>8},d.containsBalancedBrackets=function(u){return(1024&u)!=0},d.getFontStyle=function(u){return(30720&u)>>>11},d.getForeground=function(u){return(16744448&u)>>>15},d.getBackground=function(u){return(4278190080&u)>>>24},d.set=function(u,_,r,S,h,f,A){let b=d.getLanguageId(u),C=d.getTokenType(u),R=d.containsBalancedBrackets(u)?1:0,p=d.getFontStyle(u),o=d.getForeground(u),m=d.getBackground(u);return _!==0&&(b=_),r!==8&&(C=r),S!==null&&(R=S?1:0),h!==-1&&(p=h),f!==0&&(o=f),A!==0&&(m=A),(b<<0|C<<8|R<<10|p<<11|o<<15|m<<24)>>>0},n.toOptionalTokenType=function(u){return u}},996:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BasicScopeAttributesProvider=n.BasicScopeAttributes=void 0;const u=d(878);class _{constructor(f,A){this.languageId=f,this.tokenType=A}}n.BasicScopeAttributes=_;class r{constructor(f,A){this._getBasicScopeAttributes=new u.CachedFn(b=>{const C=this._scopeToLanguage(b),R=this._toStandardTokenType(b);return new _(C,R)}),this._defaultAttributes=new _(f,8),this._embeddedLanguagesMatcher=new S(Object.entries(A||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(f){return f===null?r._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(f)}_scopeToLanguage(f){return this._embeddedLanguagesMatcher.match(f)||0}_toStandardTokenType(f){const A=f.match(r.STANDARD_TOKEN_TYPE_REGEXP);if(!A)return 8;switch(A[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}n.BasicScopeAttributesProvider=r,r._NULL_SCOPE_METADATA=new _(0,0),r.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class S{constructor(f){if(f.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(f);const A=f.map(([b,C])=>u.escapeRegExpCharacters(b));A.sort(),A.reverse(),this.scopesRegExp=new RegExp(`^((${A.join(")|(")}))($|\\.)`,"")}}match(f){if(!this.scopesRegExp)return;const A=f.match(this.scopesRegExp);return A?this.values.get(A[1]):void 0}}},947:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LineTokens=n.BalancedBracketSelectors=n.StateStackImpl=n.AttributedScopeStack=n.Grammar=n.createGrammar=void 0;const u=d(350),_=d(36),r=d(736),S=d(44),h=d(792),f=d(583),A=d(878),b=d(996),C=d(47);function R(i,t,l,c,k){const L=r.createMatchers(t,p),I=h.RuleFactory.getCompiledRuleId(l,c,k.repository);for(const E of L)i.push({debugSelector:t,matcher:E.matcher,ruleId:I,grammar:k,priority:E.priority})}function p(i,t){if(t.length<i.length)return!1;let l=0;return i.every(c=>{for(let k=l;k<t.length;k++)if(o(t[k],c))return l=k+1,!0;return!1})}function o(i,t){if(!i)return!1;if(i===t)return!0;const l=t.length;return i.length>l&&i.substr(0,l)===t&&i[l]==="."}n.createGrammar=function(i,t,l,c,k,L,I,E){return new m(i,t,l,c,k,L,I,E)};class m{constructor(t,l,c,k,L,I,E,M){if(this._rootScopeName=t,this.balancedBracketSelectors=I,this._onigLib=M,this._basicScopeAttributesProvider=new b.BasicScopeAttributesProvider(c,k),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=E,this._grammar=y(l,null),this._injections=null,this._tokenTypeMatchers=[],L)for(const V of Object.keys(L)){const $=r.createMatchers(V,p);for(const G of $)this._tokenTypeMatchers.push({matcher:G.matcher,type:L[V]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t=[],l=this._rootScopeName,c=(k=>k===this._rootScopeName?this._grammar:this.getExternalGrammar(k))(l);if(c){const k=c.injections;if(k)for(let I in k)R(t,I,k[I],this,c);const L=this._grammarRepository.injections(l);L&&L.forEach(I=>{const E=this.getExternalGrammar(I);if(E){const M=E.injectionSelector;M&&R(t,M,E,this,E)}})}return t.sort((k,L)=>k.priority-L.priority),t}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),u.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const t of this._injections)console.log(`  - ${t.debugSelector}`)}return this._injections}registerRule(t){const l=++this._lastRuleId,c=t(h.ruleIdFromNumber(l));return this._ruleId2desc[l]=c,c}getRule(t){return this._ruleId2desc[h.ruleIdToNumber(t)]}getExternalGrammar(t,l){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const c=this._grammarRepository.lookup(t);if(c)return this._includedGrammars[t]=y(c,l&&l.$base),this._includedGrammars[t]}}tokenizeLine(t,l,c=0){const k=this._tokenize(t,l,!1,c);return{tokens:k.lineTokens.getResult(k.ruleStack,k.lineLength),ruleStack:k.ruleStack,stoppedEarly:k.stoppedEarly}}tokenizeLine2(t,l,c=0){const k=this._tokenize(t,l,!0,c);return{tokens:k.lineTokens.getBinaryResult(k.ruleStack,k.lineLength),ruleStack:k.ruleStack,stoppedEarly:k.stoppedEarly}}_tokenize(t,l,c,k){let L;if(this._rootId===-1&&(this._rootId=h.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),l&&l!==e.NULL)L=!1,l.reset();else{L=!0;const $=this._basicScopeAttributesProvider.getDefaultAttributes(),G=this.themeProvider.getDefaults(),H=_.EncodedTokenAttributes.set(0,$.languageId,$.tokenType,null,G.fontStyle,G.foregroundId,G.backgroundId),K=this.getRule(this._rootId).getName(null,null);let U;U=K?a.createRootAndLookUpScopeName(K,H,this):a.createRoot("unknown",H),l=new e(null,this._rootId,-1,-1,!1,null,U,U)}t+=`
`;const I=this.createOnigString(t),E=I.content.length,M=new s(c,t,this._tokenTypeMatchers,this.balancedBracketSelectors),V=C._tokenizeString(this,I,L,0,l,M,!0,k);return S.disposeOnigString(I),{lineLength:E,lineTokens:M,ruleStack:V.stack,stoppedEarly:V.stoppedEarly}}}function y(i,t){return(i=A.clone(i)).repository=i.repository||{},i.repository.$self={$vscodeTextmateLocation:i.$vscodeTextmateLocation,patterns:i.patterns,name:i.scopeName},i.repository.$base=t||i.repository.$self,i}n.Grammar=m;class a{constructor(t,l,c){this.parent=t,this.scopePath=l,this.tokenAttributes=c}static fromExtension(t,l){let c=t,k=(t==null?void 0:t.scopePath)??null;for(const L of l)k=f.ScopeStack.push(k,L.scopeNames),c=new a(c,k,L.encodedTokenAttributes);return c}static createRoot(t,l){return new a(null,new f.ScopeStack(null,t),l)}static createRootAndLookUpScopeName(t,l,c){const k=c.getMetadataForScope(t),L=new f.ScopeStack(null,t),I=c.themeProvider.themeMatch(L),E=a.mergeAttributes(l,k,I);return new a(null,L,E)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return a.equals(this,t)}static equals(t,l){for(;;){if(t===l||!t&&!l)return!0;if(!t||!l||t.scopeName!==l.scopeName||t.tokenAttributes!==l.tokenAttributes)return!1;t=t.parent,l=l.parent}}static mergeAttributes(t,l,c){let k=-1,L=0,I=0;return c!==null&&(k=c.fontStyle,L=c.foregroundId,I=c.backgroundId),_.EncodedTokenAttributes.set(t,l.languageId,l.tokenType,null,k,L,I)}pushAttributed(t,l){if(t===null)return this;if(t.indexOf(" ")===-1)return a._pushAttributed(this,t,l);const c=t.split(/ /g);let k=this;for(const L of c)k=a._pushAttributed(k,L,l);return k}static _pushAttributed(t,l,c){const k=c.getMetadataForScope(l),L=t.scopePath.push(l),I=c.themeProvider.themeMatch(L),E=a.mergeAttributes(t.tokenAttributes,k,I);return new a(t,L,E)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){var k;const l=[];let c=this;for(;c&&c!==t;)l.push({encodedTokenAttributes:c.tokenAttributes,scopeNames:c.scopePath.getExtensionIfDefined(((k=c.parent)==null?void 0:k.scopePath)??null)}),c=c.parent;return c===t?l.reverse():void 0}}n.AttributedScopeStack=a;class e{constructor(t,l,c,k,L,I,E,M){this.parent=t,this.ruleId=l,this.beginRuleCapturedEOL=L,this.endRule=I,this.nameScopesList=E,this.contentNameScopesList=M,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=c,this._anchorPos=k}equals(t){return t!==null&&e._equals(this,t)}static _equals(t,l){return t===l||!!this._structuralEquals(t,l)&&a.equals(t.contentNameScopesList,l.contentNameScopesList)}static _structuralEquals(t,l){for(;;){if(t===l||!t&&!l)return!0;if(!t||!l||t.depth!==l.depth||t.ruleId!==l.ruleId||t.endRule!==l.endRule)return!1;t=t.parent,l=l.parent}}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,l,c,k,L,I,E){return new e(this,t,l,c,k,L,I,E)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,l){var c,k;return this.parent&&(l=this.parent._writeString(t,l)),t[l++]=`(${this.ruleId}, ${(c=this.nameScopesList)==null?void 0:c.toString()}, ${(k=this.contentNameScopesList)==null?void 0:k.toString()})`,l}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let l=this;for(;l&&l._enterPos===t._enterPos;){if(l.ruleId===t.ruleId)return!0;l=l.parent}return!1}toStateStackFrame(){var t,l,c;return{ruleId:h.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((l=this.nameScopesList)==null?void 0:l.getExtensionIfDefined(((t=this.parent)==null?void 0:t.nameScopesList)??null))??[],contentNameScopesList:((c=this.contentNameScopesList)==null?void 0:c.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(t,l){const c=a.fromExtension((t==null?void 0:t.nameScopesList)??null,l.nameScopesList);return new e(t,h.ruleIdFromNumber(l.ruleId),l.enterPos??-1,l.anchorPos??-1,l.beginRuleCapturedEOL,l.endRule,c,a.fromExtension(c,l.contentNameScopesList))}}n.StateStackImpl=e,e.NULL=new e(null,0,0,0,!1,null,null,null),n.BalancedBracketSelectors=class{constructor(i,t){this.allowAny=!1,this.balancedBracketScopes=i.flatMap(l=>l==="*"?(this.allowAny=!0,[]):r.createMatchers(l,p).map(c=>c.matcher)),this.unbalancedBracketScopes=t.flatMap(l=>r.createMatchers(l,p).map(c=>c.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(i){for(const t of this.unbalancedBracketScopes)if(t(i))return!1;for(const t of this.balancedBracketScopes)if(t(i))return!0;return this.allowAny}};class s{constructor(t,l,c,k){this.balancedBracketSelectors=k,this._emitBinaryTokens=t,this._tokenTypeOverrides=c,u.DebugFlags.InDebugMode?this._lineText=l:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,l){this.produceFromScopes(t.contentNameScopesList,l)}produceFromScopes(t,l){var k;if(this._lastTokenEndIndex>=l)return;if(this._emitBinaryTokens){let L=(t==null?void 0:t.tokenAttributes)??0,I=!1;if((k=this.balancedBracketSelectors)!=null&&k.matchesAlways&&(I=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const E=(t==null?void 0:t.getScopeNames())??[];for(const M of this._tokenTypeOverrides)M.matcher(E)&&(L=_.EncodedTokenAttributes.set(L,0,_.toOptionalTokenType(M.type),null,-1,0,0));this.balancedBracketSelectors&&(I=this.balancedBracketSelectors.match(E))}if(I&&(L=_.EncodedTokenAttributes.set(L,0,8,I,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===L)return void(this._lastTokenEndIndex=l);if(u.DebugFlags.InDebugMode){const E=(t==null?void 0:t.getScopeNames())??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,l).replace(/\n$/,"\\n")+"|");for(let M=0;M<E.length;M++)console.log("      * "+E[M])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(L),void(this._lastTokenEndIndex=l)}const c=(t==null?void 0:t.getScopeNames())??[];if(u.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,l).replace(/\n$/,"\\n")+"|");for(let L=0;L<c.length;L++)console.log("      * "+c[L])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:l,scopes:c}),this._lastTokenEndIndex=l}getResult(t,l){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===l-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,l),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,l){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===l-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,l),this._binaryTokens[this._binaryTokens.length-2]=0);const c=new Uint32Array(this._binaryTokens.length);for(let k=0,L=this._binaryTokens.length;k<L;k++)c[k]=this._binaryTokens[k];return c}}n.LineTokens=s},965:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseInclude=n.TopLevelRepositoryReference=n.TopLevelReference=n.RelativeReference=n.SelfReference=n.BaseReference=n.ScopeDependencyProcessor=n.ExternalReferenceCollector=n.TopLevelRepositoryRuleReference=n.TopLevelRuleReference=void 0;const u=d(878);class _{constructor(e){this.scopeName=e}toKey(){return this.scopeName}}n.TopLevelRuleReference=_;class r{constructor(e,s){this.scopeName=e,this.ruleName=s}toKey(){return`${this.scopeName}#${this.ruleName}`}}n.TopLevelRepositoryRuleReference=r;class S{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(e){const s=e.toKey();this._seenReferenceKeys.has(s)||(this._seenReferenceKeys.add(s),this._references.push(e))}}function h(a,e,s,i){const t=s.lookup(a.scopeName);if(!t){if(a.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const l=s.lookup(e);a instanceof _?A({baseGrammar:l,selfGrammar:t},i):f(a.ruleName,{baseGrammar:l,selfGrammar:t,repository:t.repository},i);const c=s.injections(a.scopeName);if(c)for(const k of c)i.add(new _(k))}function f(a,e,s){e.repository&&e.repository[a]&&b([e.repository[a]],e,s)}function A(a,e){a.selfGrammar.patterns&&Array.isArray(a.selfGrammar.patterns)&&b(a.selfGrammar.patterns,{...a,repository:a.selfGrammar.repository},e),a.selfGrammar.injections&&b(Object.values(a.selfGrammar.injections),{...a,repository:a.selfGrammar.repository},e)}function b(a,e,s){for(const i of a){if(s.visitedRule.has(i))continue;s.visitedRule.add(i);const t=i.repository?u.mergeObjects({},e.repository,i.repository):e.repository;Array.isArray(i.patterns)&&b(i.patterns,{...e,repository:t},s);const l=i.include;if(!l)continue;const c=y(l);switch(c.kind){case 0:A({...e,selfGrammar:e.baseGrammar},s);break;case 1:A(e,s);break;case 2:f(c.ruleName,{...e,repository:t},s);break;case 3:case 4:const k=c.scopeName===e.selfGrammar.scopeName?e.selfGrammar:c.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(k){const L={baseGrammar:e.baseGrammar,selfGrammar:k,repository:t};c.kind===4?f(c.ruleName,L,s):A(L,s)}else c.kind===4?s.add(new r(c.scopeName,c.ruleName)):s.add(new _(c.scopeName))}}}n.ExternalReferenceCollector=S,n.ScopeDependencyProcessor=class{constructor(a,e){this.repo=a,this.initialScopeName=e,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new _(this.initialScopeName)]}processQueue(){const a=this.Q;this.Q=[];const e=new S;for(const s of a)h(s,this.initialScopeName,this.repo,e);for(const s of e.references)if(s instanceof _){if(this.seenFullScopeRequests.has(s.scopeName))continue;this.seenFullScopeRequests.add(s.scopeName),this.Q.push(s)}else{if(this.seenFullScopeRequests.has(s.scopeName)||this.seenPartialScopeRequests.has(s.toKey()))continue;this.seenPartialScopeRequests.add(s.toKey()),this.Q.push(s)}}};class C{constructor(){this.kind=0}}n.BaseReference=C;class R{constructor(){this.kind=1}}n.SelfReference=R;class p{constructor(e){this.ruleName=e,this.kind=2}}n.RelativeReference=p;class o{constructor(e){this.scopeName=e,this.kind=3}}n.TopLevelReference=o;class m{constructor(e,s){this.scopeName=e,this.ruleName=s,this.kind=4}}function y(a){if(a==="$base")return new C;if(a==="$self")return new R;const e=a.indexOf("#");if(e===-1)return new o(a);if(e===0)return new p(a.substring(1));{const s=a.substring(0,e),i=a.substring(e+1);return new m(s,i)}}n.TopLevelRepositoryReference=m,n.parseInclude=y},391:function(w,n,d){var u=this&&this.__createBinding||(Object.create?function(r,S,h,f){f===void 0&&(f=h),Object.defineProperty(r,f,{enumerable:!0,get:function(){return S[h]}})}:function(r,S,h,f){f===void 0&&(f=h),r[f]=S[h]}),_=this&&this.__exportStar||function(r,S){for(var h in r)h==="default"||Object.prototype.hasOwnProperty.call(S,h)||u(S,r,h)};Object.defineProperty(n,"__esModule",{value:!0}),_(d(947),n)},47:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LocalStackElement=n._tokenizeString=void 0;const u=d(350),_=d(44),r=d(792),S=d(878);class h{constructor(m,y){this.stack=m,this.stoppedEarly=y}}function f(o,m,y,a,e,s,i,t){const l=m.content.length;let c=!1,k=-1;if(i){const E=function(M,V,$,G,H,K){let U=H.beginRuleCapturedEOL?0:-1;const F=[];for(let j=H;j;j=j.pop()){const B=j.getRule(M);B instanceof r.BeginWhileRule&&F.push({rule:B,stack:j})}for(let j=F.pop();j;j=F.pop()){const{ruleScanner:B,findOptions:X}=b(j.rule,M,j.stack.endRule,$,G===U),P=B.findNextMatchSync(V,G,X);if(u.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(B.toString())),!P){u.DebugFlags.InDebugMode&&console.log("  popping "+j.rule.debugName+" - "+j.rule.debugWhileRegExp),H=j.stack.pop();break}if(P.ruleId!==r.whileRuleId){H=j.stack.pop();break}P.captureIndices&&P.captureIndices.length&&(K.produce(j.stack,P.captureIndices[0].start),R(M,V,$,j.stack,K,j.rule.whileCaptures,P.captureIndices),K.produce(j.stack,P.captureIndices[0].end),U=P.captureIndices[0].end,P.captureIndices[0].end>G&&(G=P.captureIndices[0].end,$=!1))}return{stack:H,linePos:G,anchorPosition:U,isFirstLine:$}}(o,m,y,a,e,s);e=E.stack,a=E.linePos,y=E.isFirstLine,k=E.anchorPosition}const L=Date.now();for(;!c;){if(t!==0&&Date.now()-L>t)return new h(e,!0);I()}return new h(e,!1);function I(){u.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${a}: |${m.content.substr(a).replace(/\n$/,"\\n")}|`));const E=function(G,H,K,U,F,j){const B=function(te,ce,ye,re,se,pe){const ue=se.getRule(te),{ruleScanner:le,findOptions:he}=A(ue,te,se.endRule,ye,re===pe);let ie=0;u.DebugFlags.InDebugMode&&(ie=S.performanceNow());const ee=le.findNextMatchSync(ce,re,he);if(u.DebugFlags.InDebugMode){const de=S.performanceNow()-ie;de>5&&console.warn(`Rule ${ue.debugName} (${ue.id}) matching took ${de} against '${ce}'`),console.log(`  scanning for (linePos: ${re}, anchorPosition: ${pe})`),console.log(le.toString()),ee&&console.log(`matched rule id: ${ee.ruleId} from ${ee.captureIndices[0].start} to ${ee.captureIndices[0].end}`)}return ee?{captureIndices:ee.captureIndices,matchedRuleId:ee.ruleId}:null}(G,H,K,U,F,j),X=G.getInjections();if(X.length===0)return B;const P=function(te,ce,ye,re,se,pe,ue){let le,he=Number.MAX_VALUE,ie=null,ee=0;const de=pe.contentNameScopesList.getScopeNames();for(let ge=0,x=te.length;ge<x;ge++){const N=te[ge];if(!N.matcher(de))continue;const Y=ce.getRule(N.ruleId),{ruleScanner:ne,findOptions:q}=A(Y,ce,null,re,se===ue),W=ne.findNextMatchSync(ye,se,q);if(!W)continue;u.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${N.debugSelector}`),console.log(ne.toString()));const Z=W.captureIndices[0].start;if(!(Z>=he)&&(he=Z,ie=W.captureIndices,le=W.ruleId,ee=N.priority,he===se))break}return ie?{priorityMatch:ee===-1,captureIndices:ie,matchedRuleId:le}:null}(X,G,H,K,U,F,j);if(!P)return B;if(!B)return P;const Q=B.captureIndices[0].start,z=P.captureIndices[0].start;return z<Q||P.priorityMatch&&z===Q?P:B}(o,m,y,a,e,k);if(!E)return u.DebugFlags.InDebugMode&&console.log("  no more matches."),s.produce(e,l),void(c=!0);const M=E.captureIndices,V=E.matchedRuleId,$=!!(M&&M.length>0)&&M[0].end>a;if(V===r.endRuleId){const G=e.getRule(o);u.DebugFlags.InDebugMode&&console.log("  popping "+G.debugName+" - "+G.debugEndRegExp),s.produce(e,M[0].start),e=e.withContentNameScopesList(e.nameScopesList),R(o,m,y,e,s,G.endCaptures,M),s.produce(e,M[0].end);const H=e;if(e=e.parent,k=H.getAnchorPos(),!$&&H.getEnterPos()===a)return u.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),e=H,s.produce(e,l),void(c=!0)}else{const G=o.getRule(V);s.produce(e,M[0].start);const H=e,K=G.getName(m.content,M),U=e.contentNameScopesList.pushAttributed(K,o);if(e=e.push(V,a,k,M[0].end===l,null,U,U),G instanceof r.BeginEndRule){const F=G;u.DebugFlags.InDebugMode&&console.log("  pushing "+F.debugName+" - "+F.debugBeginRegExp),R(o,m,y,e,s,F.beginCaptures,M),s.produce(e,M[0].end),k=M[0].end;const j=F.getContentName(m.content,M),B=U.pushAttributed(j,o);if(e=e.withContentNameScopesList(B),F.endHasBackReferences&&(e=e.withEndRule(F.getEndWithResolvedBackReferences(m.content,M))),!$&&H.hasSameRuleAs(e))return u.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),e=e.pop(),s.produce(e,l),void(c=!0)}else if(G instanceof r.BeginWhileRule){const F=G;u.DebugFlags.InDebugMode&&console.log("  pushing "+F.debugName),R(o,m,y,e,s,F.beginCaptures,M),s.produce(e,M[0].end),k=M[0].end;const j=F.getContentName(m.content,M),B=U.pushAttributed(j,o);if(e=e.withContentNameScopesList(B),F.whileHasBackReferences&&(e=e.withEndRule(F.getWhileWithResolvedBackReferences(m.content,M))),!$&&H.hasSameRuleAs(e))return u.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),e=e.pop(),s.produce(e,l),void(c=!0)}else{const F=G;if(u.DebugFlags.InDebugMode&&console.log("  matched "+F.debugName+" - "+F.debugMatchRegExp),R(o,m,y,e,s,F.captures,M),s.produce(e,M[0].end),e=e.pop(),!$)return u.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),e=e.safePop(),s.produce(e,l),void(c=!0)}}M[0].end>a&&(a=M[0].end,y=!1)}}function A(o,m,y,a,e){return u.UseOnigurumaFindOptions?{ruleScanner:o.compile(m,y),findOptions:C(a,e)}:{ruleScanner:o.compileAG(m,y,a,e),findOptions:0}}function b(o,m,y,a,e){return u.UseOnigurumaFindOptions?{ruleScanner:o.compileWhile(m,y),findOptions:C(a,e)}:{ruleScanner:o.compileWhileAG(m,y,a,e),findOptions:0}}function C(o,m){let y=0;return o||(y|=1),m||(y|=4),y}function R(o,m,y,a,e,s,i){if(s.length===0)return;const t=m.content,l=Math.min(s.length,i.length),c=[],k=i[0].end;for(let L=0;L<l;L++){const I=s[L];if(I===null)continue;const E=i[L];if(E.length===0)continue;if(E.start>k)break;for(;c.length>0&&c[c.length-1].endPos<=E.start;)e.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?e.produceFromScopes(c[c.length-1].scopes,E.start):e.produce(a,E.start),I.retokenizeCapturedWithRuleId){const V=I.getName(t,i),$=a.contentNameScopesList.pushAttributed(V,o),G=I.getContentName(t,i),H=$.pushAttributed(G,o),K=a.push(I.retokenizeCapturedWithRuleId,E.start,-1,!1,null,$,H),U=o.createOnigString(t.substring(0,E.end));f(o,U,y&&E.start===0,E.start,K,e,!1,0),_.disposeOnigString(U);continue}const M=I.getName(t,i);if(M!==null){const V=(c.length>0?c[c.length-1].scopes:a.contentNameScopesList).pushAttributed(M,o);c.push(new p(V,E.end))}}for(;c.length>0;)e.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}n._tokenizeString=f;class p{constructor(m,y){this.scopes=m,this.endPos=y}}n.LocalStackElement=p},974:(w,n)=>{function d(S,h){throw new Error("Near offset "+S.pos+": "+h+" ~~~"+S.source.substr(S.pos,50)+"~~~")}Object.defineProperty(n,"__esModule",{value:!0}),n.parseJSON=void 0,n.parseJSON=function(S,h,f){let A=new u(S),b=new _,C=0,R=null,p=[],o=[];function m(){p.push(C),o.push(R)}function y(){C=p.pop(),R=o.pop()}function a(e){d(A,e)}for(;r(A,b);){if(C===0){if(R!==null&&a("too many constructs in root"),b.type===3){R={},f&&(R.$vscodeTextmateLocation=b.toLocation(h)),m(),C=1;continue}if(b.type===2){R=[],m(),C=4;continue}a("unexpected token in root")}if(C===2){if(b.type===5){y();continue}if(b.type===7){C=3;continue}a("expected , or }")}if(C===1||C===3){if(C===1&&b.type===5){y();continue}if(b.type===1){let e=b.value;if(r(A,b)&&b.type===6||a("expected colon"),r(A,b)||a("expected value"),C=2,b.type===1){R[e]=b.value;continue}if(b.type===8){R[e]=null;continue}if(b.type===9){R[e]=!0;continue}if(b.type===10){R[e]=!1;continue}if(b.type===11){R[e]=parseFloat(b.value);continue}if(b.type===2){let s=[];R[e]=s,m(),C=4,R=s;continue}if(b.type===3){let s={};f&&(s.$vscodeTextmateLocation=b.toLocation(h)),R[e]=s,m(),C=1,R=s;continue}}a("unexpected token in dict")}if(C===5){if(b.type===4){y();continue}if(b.type===7){C=6;continue}a("expected , or ]")}if(C===4||C===6){if(C===4&&b.type===4){y();continue}if(C=5,b.type===1){R.push(b.value);continue}if(b.type===8){R.push(null);continue}if(b.type===9){R.push(!0);continue}if(b.type===10){R.push(!1);continue}if(b.type===11){R.push(parseFloat(b.value));continue}if(b.type===2){let e=[];R.push(e),m(),C=4,R=e;continue}if(b.type===3){let e={};f&&(e.$vscodeTextmateLocation=b.toLocation(h)),R.push(e),m(),C=1,R=e;continue}a("unexpected token in array")}a("unknown state")}return o.length!==0&&a("unclosed constructs"),R};class u{constructor(h){this.source=h,this.pos=0,this.len=h.length,this.line=1,this.char=0}}class _{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(h){return{filename:h,line:this.line,char:this.char}}}function r(S,h){h.value=null,h.type=0,h.offset=-1,h.len=-1,h.line=-1,h.char=-1;let f,A=S.source,b=S.pos,C=S.len,R=S.line,p=S.char;for(;;){if(b>=C)return!1;if(f=A.charCodeAt(b),f!==32&&f!==9&&f!==13){if(f!==10)break;b++,R++,p=0}else b++,p++}if(h.offset=b,h.line=R,h.char=p,f===34){for(h.type=1,b++,p++;;){if(b>=C)return!1;if(f=A.charCodeAt(b),b++,p++,f!==92){if(f===34)break}else b++,p++}h.value=A.substring(h.offset+1,b-1).replace(/\\u([0-9A-Fa-f]{4})/g,(o,m)=>String.fromCodePoint(parseInt(m,16))).replace(/\\(.)/g,(o,m)=>{switch(m){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:d(S,"invalid escape sequence")}throw new Error("unreachable")})}else if(f===91)h.type=2,b++,p++;else if(f===123)h.type=3,b++,p++;else if(f===93)h.type=4,b++,p++;else if(f===125)h.type=5,b++,p++;else if(f===58)h.type=6,b++,p++;else if(f===44)h.type=7,b++,p++;else if(f===110){if(h.type=8,b++,p++,f=A.charCodeAt(b),f!==117||(b++,p++,f=A.charCodeAt(b),f!==108)||(b++,p++,f=A.charCodeAt(b),f!==108))return!1;b++,p++}else if(f===116){if(h.type=9,b++,p++,f=A.charCodeAt(b),f!==114||(b++,p++,f=A.charCodeAt(b),f!==117)||(b++,p++,f=A.charCodeAt(b),f!==101))return!1;b++,p++}else if(f===102){if(h.type=10,b++,p++,f=A.charCodeAt(b),f!==97||(b++,p++,f=A.charCodeAt(b),f!==108)||(b++,p++,f=A.charCodeAt(b),f!==115)||(b++,p++,f=A.charCodeAt(b),f!==101))return!1;b++,p++}else for(h.type=11;;){if(b>=C)return!1;if(f=A.charCodeAt(b),!(f===46||f>=48&&f<=57||f===101||f===69||f===45||f===43))break;b++,p++}return h.len=b-h.offset,h.value===null&&(h.value=A.substr(h.offset,h.len)),S.pos=b,S.line=R,S.char=p,!0}},787:function(w,n,d){var u=this&&this.__createBinding||(Object.create?function(C,R,p,o){o===void 0&&(o=p),Object.defineProperty(C,o,{enumerable:!0,get:function(){return R[p]}})}:function(C,R,p,o){o===void 0&&(o=p),C[o]=R[p]}),_=this&&this.__exportStar||function(C,R){for(var p in C)p==="default"||Object.prototype.hasOwnProperty.call(R,p)||u(R,C,p)};Object.defineProperty(n,"__esModule",{value:!0}),n.applyStateStackDiff=n.diffStateStacksRefEq=n.parseRawGrammar=n.INITIAL=n.Registry=void 0;const r=d(391),S=d(50),h=d(652),f=d(583),A=d(965),b=d(442);Object.defineProperty(n,"applyStateStackDiff",{enumerable:!0,get:function(){return b.applyStateStackDiff}}),Object.defineProperty(n,"diffStateStacksRefEq",{enumerable:!0,get:function(){return b.diffStateStacksRefEq}}),_(d(44),n),n.Registry=class{constructor(C){this._options=C,this._syncRegistry=new h.SyncRegistry(f.Theme.createFromRawTheme(C.theme,C.colorMap),C.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(C,R){this._syncRegistry.setTheme(f.Theme.createFromRawTheme(C,R))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(C,R,p){return this.loadGrammarWithConfiguration(C,R,{embeddedLanguages:p})}loadGrammarWithConfiguration(C,R,p){return this._loadGrammar(C,R,p.embeddedLanguages,p.tokenTypes,new r.BalancedBracketSelectors(p.balancedBracketSelectors||[],p.unbalancedBracketSelectors||[]))}loadGrammar(C){return this._loadGrammar(C,0,null,null,null)}async _loadGrammar(C,R,p,o,m){const y=new A.ScopeDependencyProcessor(this._syncRegistry,C);for(;y.Q.length>0;)await Promise.all(y.Q.map(a=>this._loadSingleGrammar(a.scopeName))),y.processQueue();return this._grammarForScopeName(C,R,p,o,m)}async _loadSingleGrammar(C){return this._ensureGrammarCache.has(C)||this._ensureGrammarCache.set(C,this._doLoadSingleGrammar(C)),this._ensureGrammarCache.get(C)}async _doLoadSingleGrammar(C){const R=await this._options.loadGrammar(C);if(R){const p=typeof this._options.getInjections=="function"?this._options.getInjections(C):void 0;this._syncRegistry.addGrammar(R,p)}}async addGrammar(C,R=[],p=0,o=null){return this._syncRegistry.addGrammar(C,R),await this._grammarForScopeName(C.scopeName,p,o)}_grammarForScopeName(C,R=0,p=null,o=null,m=null){return this._syncRegistry.grammarForScopeName(C,R,p,o,m)}},n.INITIAL=r.StateStackImpl.NULL,n.parseRawGrammar=S.parseRawGrammar},736:(w,n)=>{function d(u){return!!u&&!!u.match(/[\w\.:]+/)}Object.defineProperty(n,"__esModule",{value:!0}),n.createMatchers=void 0,n.createMatchers=function(u,_){const r=[],S=function(b){let C=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,R=C.exec(b);return{next:()=>{if(!R)return null;const p=R[0];return R=C.exec(b),p}}}(u);let h=S.next();for(;h!==null;){let b=0;if(h.length===2&&h.charAt(1)===":"){switch(h.charAt(0)){case"R":b=1;break;case"L":b=-1;break;default:console.log(`Unknown priority ${h} in scope selector`)}h=S.next()}let C=A();if(r.push({matcher:C,priority:b}),h!==",")break;h=S.next()}return r;function f(){if(h==="-"){h=S.next();const b=f();return C=>!!b&&!b(C)}if(h==="("){h=S.next();const b=function(){const C=[];let R=A();for(;R&&(C.push(R),h==="|"||h===",");){do h=S.next();while(h==="|"||h===",");R=A()}return p=>C.some(o=>o(p))}();return h===")"&&(h=S.next()),b}if(d(h)){const b=[];do b.push(h),h=S.next();while(d(h));return C=>_(b,C)}return null}function A(){const b=[];let C=f();for(;C;)b.push(C),C=f();return R=>b.every(p=>p(R))}}},44:(w,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.disposeOnigString=void 0,n.disposeOnigString=function(d){typeof d.dispose=="function"&&d.dispose()}},50:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseRawGrammar=void 0;const u=d(69),_=d(350),r=d(974);n.parseRawGrammar=function(S,h=null){return h!==null&&/\.json$/.test(h)?(f=S,A=h,_.DebugFlags.InDebugMode?r.parseJSON(f,A,!0):JSON.parse(f)):function(b,C){return _.DebugFlags.InDebugMode?u.parseWithLocation(b,C,"$vscodeTextmateLocation"):u.parsePLIST(b)}(S,h);var f,A}},69:(w,n)=>{function d(u,_,r){const S=u.length;let h=0,f=1,A=0;function b(P){if(r===null)h+=P;else for(;P>0;)u.charCodeAt(h)===10?(h++,f++,A=0):(h++,A++),P--}function C(P){r===null?h=P:b(P-h)}function R(){for(;h<S;){let P=u.charCodeAt(h);if(P!==32&&P!==9&&P!==13&&P!==10)break;b(1)}}function p(P){return u.substr(h,P.length)===P&&(b(P.length),!0)}function o(P){let Q=u.indexOf(P,h);C(Q!==-1?Q+P.length:S)}function m(P){let Q=u.indexOf(P,h);if(Q!==-1){let z=u.substring(h,Q);return C(Q+P.length),z}{let z=u.substr(h);return C(S),z}}S>0&&u.charCodeAt(0)===65279&&(h=1);let y=0,a=null,e=[],s=[],i=null;function t(P,Q){e.push(y),s.push(a),y=P,a=Q}function l(){if(e.length===0)return c("illegal state stack");y=e.pop(),a=s.pop()}function c(P){throw new Error("Near offset "+h+": "+P+" ~~~"+u.substr(h,50)+"~~~")}const k=function(){if(i===null)return c("missing <key>");let P={};r!==null&&(P[r]={filename:_,line:f,char:A}),a[i]=P,i=null,t(1,P)},L=function(){if(i===null)return c("missing <key>");let P=[];a[i]=P,i=null,t(2,P)},I=function(){let P={};r!==null&&(P[r]={filename:_,line:f,char:A}),a.push(P),t(1,P)},E=function(){let P=[];a.push(P),t(2,P)};function M(){if(y!==1)return c("unexpected </dict>");l()}function V(){return y===1||y!==2?c("unexpected </array>"):void l()}function $(P){if(y===1){if(i===null)return c("missing <key>");a[i]=P,i=null}else y===2?a.push(P):a=P}function G(P){if(isNaN(P))return c("cannot parse float");if(y===1){if(i===null)return c("missing <key>");a[i]=P,i=null}else y===2?a.push(P):a=P}function H(P){if(isNaN(P))return c("cannot parse integer");if(y===1){if(i===null)return c("missing <key>");a[i]=P,i=null}else y===2?a.push(P):a=P}function K(P){if(y===1){if(i===null)return c("missing <key>");a[i]=P,i=null}else y===2?a.push(P):a=P}function U(P){if(y===1){if(i===null)return c("missing <key>");a[i]=P,i=null}else y===2?a.push(P):a=P}function F(P){if(y===1){if(i===null)return c("missing <key>");a[i]=P,i=null}else y===2?a.push(P):a=P}function j(){let P=m(">"),Q=!1;return P.charCodeAt(P.length-1)===47&&(Q=!0,P=P.substring(0,P.length-1)),{name:P.trim(),isClosed:Q}}function B(P){if(P.isClosed)return"";let Q=m("</");return o(">"),Q.replace(/&#([0-9]+);/g,function(z,te){return String.fromCodePoint(parseInt(te,10))}).replace(/&#x([0-9a-f]+);/g,function(z,te){return String.fromCodePoint(parseInt(te,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(z){switch(z){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return z})}for(;h<S&&(R(),!(h>=S));){const P=u.charCodeAt(h);if(b(1),P!==60)return c("expected <");if(h>=S)return c("unexpected end of input");const Q=u.charCodeAt(h);if(Q===63){b(1),o("?>");continue}if(Q===33){if(b(1),p("--")){o("-->");continue}o(">");continue}if(Q===47){if(b(1),R(),p("plist")){o(">");continue}if(p("dict")){o(">"),M();continue}if(p("array")){o(">"),V();continue}return c("unexpected closed tag")}let z=j();switch(z.name){case"dict":y===1?k():y===2?I():(a={},r!==null&&(a[r]={filename:_,line:f,char:A}),t(1,a)),z.isClosed&&M();continue;case"array":y===1?L():y===2?E():(a=[],t(2,a)),z.isClosed&&V();continue;case"key":X=B(z),y!==1?c("unexpected <key>"):i!==null?c("too many <key>"):i=X;continue;case"string":$(B(z));continue;case"real":G(parseFloat(B(z)));continue;case"integer":H(parseInt(B(z),10));continue;case"date":K(new Date(B(z)));continue;case"data":U(B(z));continue;case"true":B(z),F(!0);continue;case"false":B(z),F(!1);continue}if(!/^plist/.test(z.name))return c("unexpected opened tag "+z.name)}var X;return a}Object.defineProperty(n,"__esModule",{value:!0}),n.parsePLIST=n.parseWithLocation=void 0,n.parseWithLocation=function(u,_,r){return d(u,_,r)},n.parsePLIST=function(u){return d(u,null,null)}},652:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SyncRegistry=void 0;const u=d(391);n.SyncRegistry=class{constructor(_,r){this._onigLibPromise=r,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=_}dispose(){for(const _ of this._grammars.values())_.dispose()}setTheme(_){this._theme=_}getColorMap(){return this._theme.getColorMap()}addGrammar(_,r){this._rawGrammars.set(_.scopeName,_),r&&this._injectionGrammars.set(_.scopeName,r)}lookup(_){return this._rawGrammars.get(_)}injections(_){return this._injectionGrammars.get(_)}getDefaults(){return this._theme.getDefaults()}themeMatch(_){return this._theme.match(_)}async grammarForScopeName(_,r,S,h,f){if(!this._grammars.has(_)){let A=this._rawGrammars.get(_);if(!A)return null;this._grammars.set(_,u.createGrammar(_,A,r,S,h,f,this,await this._onigLibPromise))}return this._grammars.get(_)}}},792:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CompiledRule=n.RegExpSourceList=n.RegExpSource=n.RuleFactory=n.BeginWhileRule=n.BeginEndRule=n.IncludeOnlyRule=n.MatchRule=n.CaptureRule=n.Rule=n.ruleIdToNumber=n.ruleIdFromNumber=n.whileRuleId=n.endRuleId=void 0;const u=d(878),_=d(965),r=/\\(\d+)/,S=/\\(\d+)/g;n.endRuleId=-1,n.whileRuleId=-2,n.ruleIdFromNumber=function(a){return a},n.ruleIdToNumber=function(a){return a};class h{constructor(e,s,i,t){this.$location=e,this.id=s,this._name=i||null,this._nameIsCapturing=u.RegexSource.hasCaptures(this._name),this._contentName=t||null,this._contentNameIsCapturing=u.RegexSource.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${u.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,s){return this._nameIsCapturing&&this._name!==null&&e!==null&&s!==null?u.RegexSource.replaceCaptures(this._name,e,s):this._name}getContentName(e,s){return this._contentNameIsCapturing&&this._contentName!==null?u.RegexSource.replaceCaptures(this._contentName,e,s):this._contentName}}n.Rule=h;class f extends h{constructor(e,s,i,t,l){super(e,s,i,t),this.retokenizeCapturedWithRuleId=l}dispose(){}collectPatterns(e,s){throw new Error("Not supported!")}compile(e,s){throw new Error("Not supported!")}compileAG(e,s,i,t){throw new Error("Not supported!")}}n.CaptureRule=f;class A extends h{constructor(e,s,i,t,l){super(e,s,i,null),this._match=new o(t,this.id),this.captures=l,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,s){s.push(this._match)}compile(e,s){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,s,i,t){return this._getCachedCompiledPatterns(e).compileAG(e,i,t)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}n.MatchRule=A;class b extends h{constructor(e,s,i,t,l){super(e,s,i,t),this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,s){for(const i of this.patterns)e.getRule(i).collectPatterns(e,s)}compile(e,s){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,s,i,t){return this._getCachedCompiledPatterns(e).compileAG(e,i,t)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}n.IncludeOnlyRule=b;class C extends h{constructor(e,s,i,t,l,c,k,L,I,E){super(e,s,i,t),this._begin=new o(l,this.id),this.beginCaptures=c,this._end=new o(k||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=L,this.applyEndPatternLast=I||!1,this.patterns=E.patterns,this.hasMissingPatterns=E.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,s){return this._end.resolveBackReferences(e,s)}collectPatterns(e,s){s.push(this._begin)}compile(e,s){return this._getCachedCompiledPatterns(e,s).compile(e)}compileAG(e,s,i,t){return this._getCachedCompiledPatterns(e,s).compileAG(e,i,t)}_getCachedCompiledPatterns(e,s){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new m;for(const i of this.patterns)e.getRule(i).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,s):this._cachedCompiledPatterns.setSource(0,s)),this._cachedCompiledPatterns}}n.BeginEndRule=C;class R extends h{constructor(e,s,i,t,l,c,k,L,I){super(e,s,i,t),this._begin=new o(l,this.id),this.beginCaptures=c,this.whileCaptures=L,this._while=new o(k,n.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=I.patterns,this.hasMissingPatterns=I.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,s){return this._while.resolveBackReferences(e,s)}collectPatterns(e,s){s.push(this._begin)}compile(e,s){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,s,i,t){return this._getCachedCompiledPatterns(e).compileAG(e,i,t)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new m;for(const s of this.patterns)e.getRule(s).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,s){return this._getCachedCompiledWhilePatterns(e,s).compile(e)}compileWhileAG(e,s,i,t){return this._getCachedCompiledWhilePatterns(e,s).compileAG(e,i,t)}_getCachedCompiledWhilePatterns(e,s){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new m,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,s||"￿"),this._cachedCompiledWhilePatterns}}n.BeginWhileRule=R;class p{static createCaptureRule(e,s,i,t,l){return e.registerRule(c=>new f(s,c,i,t,l))}static getCompiledRuleId(e,s,i){return e.id||s.registerRule(t=>{if(e.id=t,e.match)return new A(e.$vscodeTextmateLocation,e.id,e.name,e.match,p._compileCaptures(e.captures,s,i));if(e.begin===void 0){e.repository&&(i=u.mergeObjects({},i,e.repository));let l=e.patterns;return l===void 0&&e.include&&(l=[{include:e.include}]),new b(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,p._compilePatterns(l,s,i))}return e.while?new R(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,p._compileCaptures(e.beginCaptures||e.captures,s,i),e.while,p._compileCaptures(e.whileCaptures||e.captures,s,i),p._compilePatterns(e.patterns,s,i)):new C(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,p._compileCaptures(e.beginCaptures||e.captures,s,i),e.end,p._compileCaptures(e.endCaptures||e.captures,s,i),e.applyEndPatternLast,p._compilePatterns(e.patterns,s,i))}),e.id}static _compileCaptures(e,s,i){let t=[];if(e){let l=0;for(const c in e){if(c==="$vscodeTextmateLocation")continue;const k=parseInt(c,10);k>l&&(l=k)}for(let c=0;c<=l;c++)t[c]=null;for(const c in e){if(c==="$vscodeTextmateLocation")continue;const k=parseInt(c,10);let L=0;e[c].patterns&&(L=p.getCompiledRuleId(e[c],s,i)),t[k]=p.createCaptureRule(s,e[c].$vscodeTextmateLocation,e[c].name,e[c].contentName,L)}}return t}static _compilePatterns(e,s,i){let t=[];if(e)for(let l=0,c=e.length;l<c;l++){const k=e[l];let L=-1;if(k.include){const I=_.parseInclude(k.include);switch(I.kind){case 0:case 1:L=p.getCompiledRuleId(i[k.include],s,i);break;case 2:let E=i[I.ruleName];E&&(L=p.getCompiledRuleId(E,s,i));break;case 3:case 4:const M=I.scopeName,V=I.kind===4?I.ruleName:null,$=s.getExternalGrammar(M,i);if($)if(V){let G=$.repository[V];G&&(L=p.getCompiledRuleId(G,s,$.repository))}else L=p.getCompiledRuleId($.repository.$self,s,$.repository)}}else L=p.getCompiledRuleId(k,s,i);if(L!==-1){const I=s.getRule(L);let E=!1;if((I instanceof b||I instanceof C||I instanceof R)&&I.hasMissingPatterns&&I.patterns.length===0&&(E=!0),E)continue;t.push(L)}}return{patterns:t,hasMissingPatterns:(e?e.length:0)!==t.length}}}n.RuleFactory=p;class o{constructor(e,s){if(e){const i=e.length;let t=0,l=[],c=!1;for(let k=0;k<i;k++)if(e.charAt(k)==="\\"&&k+1<i){const L=e.charAt(k+1);L==="z"?(l.push(e.substring(t,k)),l.push("$(?!\\n)(?<!\\n)"),t=k+2):L!=="A"&&L!=="G"||(c=!0),k++}this.hasAnchor=c,t===0?this.source=e:(l.push(e.substring(t,i)),this.source=l.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=s,this.hasBackReferences=r.test(this.source)}clone(){return new o(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,s){let i=s.map(t=>e.substring(t.start,t.end));return S.lastIndex=0,this.source.replace(S,(t,l)=>u.escapeRegExpCharacters(i[parseInt(l,10)]||""))}_buildAnchorCache(){let e,s,i,t,l=[],c=[],k=[],L=[];for(e=0,s=this.source.length;e<s;e++)i=this.source.charAt(e),l[e]=i,c[e]=i,k[e]=i,L[e]=i,i==="\\"&&e+1<s&&(t=this.source.charAt(e+1),t==="A"?(l[e+1]="￿",c[e+1]="￿",k[e+1]="A",L[e+1]="A"):t==="G"?(l[e+1]="￿",c[e+1]="G",k[e+1]="￿",L[e+1]="G"):(l[e+1]=t,c[e+1]=t,k[e+1]=t,L[e+1]=t),e++);return{A0_G0:l.join(""),A0_G1:c.join(""),A1_G0:k.join(""),A1_G1:L.join("")}}resolveAnchors(e,s){return this.hasAnchor&&this._anchorCache?e?s?this._anchorCache.A1_G1:this._anchorCache.A1_G0:s?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}n.RegExpSource=o;class m{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,s){this._items[e].source!==s&&(this._disposeCaches(),this._items[e].setSource(s))}compile(e){if(!this._cached){let s=this._items.map(i=>i.source);this._cached=new y(e,s,this._items.map(i=>i.ruleId))}return this._cached}compileAG(e,s,i){return this._hasAnchors?s?i?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,s,i)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,s,i)),this._anchorCache.A1_G0):i?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,s,i)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,s,i)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,s,i){let t=this._items.map(l=>l.resolveAnchors(s,i));return new y(e,t,this._items.map(l=>l.ruleId))}}n.RegExpSourceList=m;class y{constructor(e,s,i){this.regExps=s,this.rules=i,this.scanner=e.createOnigScanner(s)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let s=0,i=this.rules.length;s<i;s++)e.push("   - "+this.rules[s]+": "+this.regExps[s]);return e.join(`
`)}findNextMatchSync(e,s,i){const t=this.scanner.findNextMatchSync(e,s,i);return t?{ruleId:this.rules[t.index],captureIndices:t.captureIndices}:null}}n.CompiledRule=y},583:(w,n,d)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeTrieElement=n.ThemeTrieElementRule=n.ColorMap=n.fontStyleToString=n.ParsedThemeRule=n.parseTheme=n.StyleAttributes=n.ScopeStack=n.Theme=void 0;const u=d(878);class _{constructor(o,m,y){this._colorMap=o,this._defaults=m,this._root=y,this._cachedMatchRoot=new u.CachedFn(a=>this._root.match(a))}static createFromRawTheme(o,m){return this.createFromParsedTheme(f(o),m)}static createFromParsedTheme(o,m){return function(y,a){y.sort((k,L)=>{let I=u.strcmp(k.scope,L.scope);return I!==0?I:(I=u.strArrCmp(k.parentScopes,L.parentScopes),I!==0?I:k.index-L.index)});let e=0,s="#000000",i="#ffffff";for(;y.length>=1&&y[0].scope==="";){let k=y.shift();k.fontStyle!==-1&&(e=k.fontStyle),k.foreground!==null&&(s=k.foreground),k.background!==null&&(i=k.background)}let t=new b(a),l=new h(e,t.getId(s),t.getId(i)),c=new R(new C(0,null,-1,0,0),[]);for(let k=0,L=y.length;k<L;k++){let I=y[k];c.insert(0,I.scope,I.parentScopes,I.fontStyle,t.getId(I.foreground),t.getId(I.background))}return new _(t,l,c)}(o,m)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(o){if(o===null)return this._defaults;const m=o.scopeName,y=this._cachedMatchRoot.get(m).find(a=>function(e,s){if(s===null)return!0;let i=0,t=s[i];for(;e;){if(S(e.scopeName,t)){if(i++,i===s.length)return!0;t=s[i]}e=e.parent}return!1}(o.parent,a.parentScopes));return y?new h(y.fontStyle,y.foreground,y.background):null}}n.Theme=_;class r{constructor(o,m){this.parent=o,this.scopeName=m}static push(o,m){for(const y of m)o=new r(o,y);return o}static from(...o){let m=null;for(let y=0;y<o.length;y++)m=new r(m,o[y]);return m}push(o){return new r(this,o)}getSegments(){let o=this;const m=[];for(;o;)m.push(o.scopeName),o=o.parent;return m.reverse(),m}toString(){return this.getSegments().join(" ")}extends(o){return this===o||this.parent!==null&&this.parent.extends(o)}getExtensionIfDefined(o){const m=[];let y=this;for(;y&&y!==o;)m.push(y.scopeName),y=y.parent;return y===o?m.reverse():void 0}}function S(p,o){return o===p||p.startsWith(o)&&p[o.length]==="."}n.ScopeStack=r;class h{constructor(o,m,y){this.fontStyle=o,this.foregroundId=m,this.backgroundId=y}}function f(p){if(!p)return[];if(!p.settings||!Array.isArray(p.settings))return[];let o=p.settings,m=[],y=0;for(let a=0,e=o.length;a<e;a++){let s,i=o[a];if(!i.settings)continue;if(typeof i.scope=="string"){let k=i.scope;k=k.replace(/^[,]+/,""),k=k.replace(/[,]+$/,""),s=k.split(",")}else s=Array.isArray(i.scope)?i.scope:[""];let t=-1;if(typeof i.settings.fontStyle=="string"){t=0;let k=i.settings.fontStyle.split(" ");for(let L=0,I=k.length;L<I;L++)switch(k[L]){case"italic":t|=1;break;case"bold":t|=2;break;case"underline":t|=4;break;case"strikethrough":t|=8}}let l=null;typeof i.settings.foreground=="string"&&u.isValidHexColor(i.settings.foreground)&&(l=i.settings.foreground);let c=null;typeof i.settings.background=="string"&&u.isValidHexColor(i.settings.background)&&(c=i.settings.background);for(let k=0,L=s.length;k<L;k++){let I=s[k].trim().split(" "),E=I[I.length-1],M=null;I.length>1&&(M=I.slice(0,I.length-1),M.reverse()),m[y++]=new A(E,M,a,t,l,c)}}return m}n.StyleAttributes=h,n.parseTheme=f;class A{constructor(o,m,y,a,e,s){this.scope=o,this.parentScopes=m,this.index=y,this.fontStyle=a,this.foreground=e,this.background=s}}n.ParsedThemeRule=A,n.fontStyleToString=function(p){if(p===-1)return"not set";let o="";return 1&p&&(o+="italic "),2&p&&(o+="bold "),4&p&&(o+="underline "),8&p&&(o+="strikethrough "),o===""&&(o="none"),o.trim()};class b{constructor(o){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(o)){this._isFrozen=!0;for(let m=0,y=o.length;m<y;m++)this._color2id[o[m]]=m,this._id2color[m]=o[m]}else this._isFrozen=!1}getId(o){if(o===null)return 0;o=o.toUpperCase();let m=this._color2id[o];if(m)return m;if(this._isFrozen)throw new Error(`Missing color in color map - ${o}`);return m=++this._lastColorId,this._color2id[o]=m,this._id2color[m]=o,m}getColorMap(){return this._id2color.slice(0)}}n.ColorMap=b;class C{constructor(o,m,y,a,e){this.scopeDepth=o,this.parentScopes=m,this.fontStyle=y,this.foreground=a,this.background=e}clone(){return new C(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(o){let m=[];for(let y=0,a=o.length;y<a;y++)m[y]=o[y].clone();return m}acceptOverwrite(o,m,y,a){this.scopeDepth>o?console.log("how did this happen?"):this.scopeDepth=o,m!==-1&&(this.fontStyle=m),y!==0&&(this.foreground=y),a!==0&&(this.background=a)}}n.ThemeTrieElementRule=C;class R{constructor(o,m=[],y={}){this._mainRule=o,this._children=y,this._rulesWithParentScopes=m}static _sortBySpecificity(o){return o.length===1||o.sort(this._cmpBySpecificity),o}static _cmpBySpecificity(o,m){if(o.scopeDepth===m.scopeDepth){const y=o.parentScopes,a=m.parentScopes;let e=y===null?0:y.length,s=a===null?0:a.length;if(e===s)for(let i=0;i<e;i++){const t=y[i].length,l=a[i].length;if(t!==l)return l-t}return s-e}return m.scopeDepth-o.scopeDepth}match(o){if(o==="")return R._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let m,y,a=o.indexOf(".");return a===-1?(m=o,y=""):(m=o.substring(0,a),y=o.substring(a+1)),this._children.hasOwnProperty(m)?this._children[m].match(y):R._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(o,m,y,a,e,s){if(m==="")return void this._doInsertHere(o,y,a,e,s);let i,t,l,c=m.indexOf(".");c===-1?(i=m,t=""):(i=m.substring(0,c),t=m.substring(c+1)),this._children.hasOwnProperty(i)?l=this._children[i]:(l=new R(this._mainRule.clone(),C.cloneArr(this._rulesWithParentScopes)),this._children[i]=l),l.insert(o+1,t,y,a,e,s)}_doInsertHere(o,m,y,a,e){if(m!==null){for(let s=0,i=this._rulesWithParentScopes.length;s<i;s++){let t=this._rulesWithParentScopes[s];if(u.strArrCmp(t.parentScopes,m)===0)return void t.acceptOverwrite(o,y,a,e)}y===-1&&(y=this._mainRule.fontStyle),a===0&&(a=this._mainRule.foreground),e===0&&(e=this._mainRule.background),this._rulesWithParentScopes.push(new C(o,m,y,a,e))}else this._mainRule.acceptOverwrite(o,y,a,e)}}n.ThemeTrieElement=R},878:(w,n)=>{function d(r){return Array.isArray(r)?function(S){let h=[];for(let f=0,A=S.length;f<A;f++)h[f]=d(S[f]);return h}(r):typeof r=="object"?function(S){let h={};for(let f in S)h[f]=d(S[f]);return h}(r):r}Object.defineProperty(n,"__esModule",{value:!0}),n.performanceNow=n.CachedFn=n.escapeRegExpCharacters=n.isValidHexColor=n.strArrCmp=n.strcmp=n.RegexSource=n.basename=n.mergeObjects=n.clone=void 0,n.clone=function(r){return d(r)},n.mergeObjects=function(r,...S){return S.forEach(h=>{for(let f in h)r[f]=h[f]}),r},n.basename=function r(S){const h=~S.lastIndexOf("/")||~S.lastIndexOf("\\");return h===0?S:~h==S.length-1?r(S.substring(0,S.length-1)):S.substr(1+~h)};let u=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function _(r,S){return r<S?-1:r>S?1:0}n.RegexSource=class{static hasCaptures(r){return r!==null&&(u.lastIndex=0,u.test(r))}static replaceCaptures(r,S,h){return r.replace(u,(f,A,b,C)=>{let R=h[parseInt(A||b,10)];if(!R)return f;{let p=S.substring(R.start,R.end);for(;p[0]===".";)p=p.substring(1);switch(C){case"downcase":return p.toLowerCase();case"upcase":return p.toUpperCase();default:return p}}})}},n.strcmp=_,n.strArrCmp=function(r,S){if(r===null&&S===null)return 0;if(!r)return-1;if(!S)return 1;let h=r.length,f=S.length;if(h===f){for(let A=0;A<h;A++){let b=_(r[A],S[A]);if(b!==0)return b}return 0}return h-f},n.isValidHexColor=function(r){return!!(/^#[0-9a-f]{6}$/i.test(r)||/^#[0-9a-f]{8}$/i.test(r)||/^#[0-9a-f]{3}$/i.test(r)||/^#[0-9a-f]{4}$/i.test(r))},n.escapeRegExpCharacters=function(r){return r.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},n.CachedFn=class{constructor(r){this.fn=r,this.cache=new Map}get(r){if(this.cache.has(r))return this.cache.get(r);const S=this.fn(r);return this.cache.set(r,S),S}},n.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},v={};return function w(n){var d=v[n];if(d!==void 0)return d.exports;var u=v[n]={exports:{}};return T[n].call(u.exports,u,u.exports,w),u.exports}(787)})()})})(st);var Ae=st.exports;const Xt=Ke(Ae),Yt=rt({__proto__:null,default:Xt},[Ae]);class Zt extends be{constructor(g,T,v,w,n,d,u){super(),this._model=g,this._worker=T,this._languageIdCodec=v,this._backgroundTokenizationStore=w,this._initialState=n,this._configurationService=d,this._maxTokenizationLineLength=u,this._pendingChanges=[],this._states=new bt,this._loggingEnabled=en("editor.experimental.asyncTokenizationLogging",!1,this._configurationService),this._register(Ve(this._loggingEnabled)),this._register(this._model.onDidChangeContent(S=>{this.shouldLog&&console.log("model change",{fileName:this._model.uri.fsPath.split("\\").pop(),changes:Ie(S.changes)}),this._worker.acceptModelChanged(this._model.uri.toString(),S),this._pendingChanges.push(S)})),this._register(this._model.onDidChangeLanguage(S=>{const h=this._model.getLanguageId(),f=this._languageIdCodec.encodeLanguageId(h);this._worker.acceptModelLanguageChanged(this._model.uri.toString(),h,f)}));const _=this._model.getLanguageId(),r=this._languageIdCodec.encodeLanguageId(_);this._worker.acceptNewModel({uri:this._model.uri,versionId:this._model.getVersionId(),lines:this._model.getLinesContent(),EOL:this._model.getEOL(),languageId:_,encodedLanguageId:r,maxTokenizationLineLength:this._maxTokenizationLineLength.get()}),this._register(Tt("update maxTokenizationLineLength",S=>{const h=this._maxTokenizationLineLength.read(S);this._worker.acceptMaxTokenizationLineLength(this._model.uri.toString(),h)}))}get shouldLog(){return this._loggingEnabled.get()}dispose(){super.dispose(),this._worker.acceptRemovedModel(this._model.uri.toString())}setTokensAndStates(g,T,v){let w=je.deserialize(new Uint8Array(T));if(this.shouldLog&&console.log("received background tokenization result",{fileName:this._model.uri.fsPath.split("\\").pop(),updatedTokenLines:w.map(d=>d.getLineRange()).join(" & "),updatedStateLines:v.map(d=>new vt(d.startLineNumber,d.startLineNumber+d.stateDeltas.length).toString()).join(" & ")}),this.shouldLog){const d=this._pendingChanges.filter(u=>u.versionId<=g).map(u=>u.changes).map(u=>Ie(u)).join(" then ");console.log("Applying changes to local states",d)}for(;this._pendingChanges.length>0&&this._pendingChanges[0].versionId<=g;){const d=this._pendingChanges.shift();this._states.acceptChanges(d.changes)}if(this._pendingChanges.length>0){if(this.shouldLog){const _=this._pendingChanges.map(r=>r.changes).map(r=>Ie(r)).join(" then ");console.log("Considering non-processed changes",_)}const d=we.fromMany(this._pendingChanges.map(_=>$e(_.changes))),u=new je;for(const _ of w)for(let r=_.startLineNumber;r<=_.endLineNumber;r++)d.transform(r-1)!==void 0&&u.add(r,_.getLineTokens(r));w=u.finalize();for(const _ of this._pendingChanges)for(const r of _.changes)for(let S=0;S<w.length;S++)w[S].applyEdit(r.range,r.text)}const n=we.fromMany(this._pendingChanges.map(d=>$e(d.changes)));for(const d of v){let u=d.startLineNumber<=1?this._initialState:this._states.getEndState(d.startLineNumber-1);for(let _=0;_<d.stateDeltas.length;_++){const r=d.stateDeltas[_];let S;r?(S=Ae.applyStateStackDiff(u,r),this._states.setEndState(d.startLineNumber+_,S)):S=this._states.getEndState(d.startLineNumber+_);const h=n.transform(d.startLineNumber+_-1);h!==void 0&&this._backgroundTokenizationStore.setEndState(h+1,S),d.startLineNumber+_>=this._model.getLineCount()-1&&this._backgroundTokenizationStore.backgroundTokenizationFinished(),u=S}}this._backgroundTokenizationStore.setTokens(w)}}function $e(D){return new Kt(D.map(g=>new Qt(g.range.startLineNumber-1,g.range.endLineNumber-g.range.startLineNumber+1,wt(g.text)[0]+1)))}function Ie(D){return D.map(g=>Ct.lift(g.range).toString()+" => "+g.text).join(" & ")}function en(D,g,T){return Qe(v=>T.onDidChangeConfiguration(w=>{w.affectsConfiguration(D)&&v(w)}),()=>T.getValue(D)??g)}let Ce=class Ee{constructor(g,T,v,w,n,d,u,_,r){this._reportTokenizationTime=g,this._extensionResourceLoaderService=T,this._modelService=v,this._languageConfigurationService=w,this._configurationService=n,this._languageService=d,this._environmentService=u,this._notificationService=_,this._telemetryService=r,this._workerProxyPromise=null,this._worker=null,this._workerProxy=null,this._workerTokenizerControllers=new Map,this._currentTheme=null,this._currentTokenColorMap=null,this._grammarDefinitions=[]}setGrammarDefinitions(g){this._grammarDefinitions=g,this._killWorker()}dispose(){this._killWorker()}acceptTheme(g,T){this._currentTheme=g,this._currentTokenColorMap=T,this._currentTheme&&this._currentTokenColorMap&&this._workerProxy&&this._workerProxy.acceptTheme(this._currentTheme,this._currentTokenColorMap)}getWorkerProxy(){return this._workerProxyPromise||(this._workerProxyPromise=this.createWorkerProxy()),this._workerProxyPromise}async createWorkerProxy(){const g=`${xe}/vscode-textmate`,T=`${Fe}/vscode-textmate`,v=`${xe}/vscode-oniguruma`,w=`${Fe}/vscode-oniguruma`,n=this._environmentService.isBuilt&&!et,d=n?T:g,u=n?w:v,_=`${d}/release/main.js`,r=`${u}/release/main.js`,S=`${u}/release/onig.wasm`,h=_e.asBrowserUri(_).toString(!0),f={grammarDefinitions:this._grammarDefinitions,textmateMainUri:h,onigurumaMainUri:_e.asBrowserUri(r).toString(!0),onigurumaWASMUri:_e.asBrowserUri(S).toString(!0)},A=Pt(this._modelService,this._languageConfigurationService,{createData:f,label:"textMateWorker",moduleId:"vs/workbench/services/textMate/browser/worker/textMate.worker",host:this});this._worker=A;const b=await A.getProxy();return this._worker!==A?null:(this._workerProxy=b,this._currentTheme&&this._currentTokenColorMap&&this._workerProxy.acceptTheme(this._currentTheme,this._currentTokenColorMap),b)}_killWorker(){for(const g of this._workerTokenizerControllers.values())g.dispose();this._workerTokenizerControllers.clear(),this._worker&&(this._worker.dispose(),this._worker=null),this._workerProxy=null,this._workerProxyPromise=null}createBackgroundTokenizer(g,T,v){if(this._workerTokenizerControllers.has(g.uri.toString()))throw new It;if(this._configurationService.getValue("editor.experimental.asyncTokenization")!==!0||g.isTooLargeForSyncing())return;const n=new ve;return this.getWorkerProxy().then(d=>{n.isDisposed||!d||n.add(tn(g,()=>{const u=new Zt(g,d,this._languageService.languageIdCodec,T,Ae.INITIAL,this._configurationService,v);return this._workerTokenizerControllers.set(g.uri.toString(),u),xt(()=>{this._workerTokenizerControllers.delete(g.uri.toString()),u.dispose()})}))}),{dispose(){n.dispose()},requestTokens:(d,u)=>{this.getWorkerProxy().then(_=>{_==null||_.retokenize(g.uri.toString(),d,u)})},reportMismatchingTokens:d=>{Ee._reportedMismatchingTokens||(Ee._reportedMismatchingTokens=!0,this._notificationService.error({message:"Async Tokenization Token Mismatch in line "+d,name:"Async Tokenization Token Mismatch"}),this._telemetryService.publicLog2("asyncTokenizationMismatchingTokens",{}))}}}async readFile(g){const T=Be.revive(g);return this._extensionResourceLoaderService.readExtensionResource(T)}async setTokensAndStates(g,T,v,w){const n=Be.revive(g),d=this._workerTokenizerControllers.get(n.toString());d&&d.setTokensAndStates(T,v,w)}reportTokenizationTime(g,T,v,w){this._reportTokenizationTime(g,T,v,w)}};Ce._reportedMismatchingTokens=!1;Ce=Ne([J(1,Ue),J(2,Rt),J(3,Lt),J(4,Je),J(5,Xe),J(6,At),J(7,Ye),J(8,Ze)],Ce);function tn(D,g){const T=new ve,v=T.add(new ve);function w(){D.isAttachedToEditor()?v.add(g()):v.clear()}return w(),T.add(D.onDidChangeAttached(()=>{w()})),T}class nn{constructor(){this._scopeNameToLanguageRegistration=Object.create(null)}reset(){this._scopeNameToLanguageRegistration=Object.create(null)}register(g){if(this._scopeNameToLanguageRegistration[g.scopeName]){const T=this._scopeNameToLanguageRegistration[g.scopeName];Et(T.location,g.location)||console.warn(`Overwriting grammar scope name to file mapping for scope ${g.scopeName}.
Old grammar file: ${T.location.toString()}.
New grammar file: ${g.location.toString()}`)}this._scopeNameToLanguageRegistration[g.scopeName]=g}getGrammarDefinition(g){return this._scopeNameToLanguageRegistration[g]||null}}const Te="No TM Grammar registered for this language.";class rn extends be{constructor(g,T,v,w){super(),this._host=g,this._initialState=v.INITIAL,this._scopeRegistry=new nn,this._injections={},this._injectedEmbeddedLanguages={},this._languageToScope=new Map,this._grammarRegistry=this._register(new v.Registry({onigLib:w,loadGrammar:async n=>{const d=this._scopeRegistry.getGrammarDefinition(n);if(!d)return this._host.logTrace(`No grammar found for scope ${n}`),null;const u=d.location;try{const _=await this._host.readFile(u);return v.parseRawGrammar(_,u.path)}catch(_){return this._host.logError(`Unable to load and parse grammar for scope ${n} from ${u}`,_),null}},getInjections:n=>{const d=n.split(".");let u=[];for(let _=1;_<=d.length;_++){const r=d.slice(0,_).join(".");u=[...u,...this._injections[r]||[]]}return u}}));for(const n of T){if(this._scopeRegistry.register(n),n.injectTo){for(const d of n.injectTo){let u=this._injections[d];u||(this._injections[d]=u=[]),u.push(n.scopeName)}if(n.embeddedLanguages)for(const d of n.injectTo){let u=this._injectedEmbeddedLanguages[d];u||(this._injectedEmbeddedLanguages[d]=u=[]),u.push(n.embeddedLanguages)}}n.language&&this._languageToScope.set(n.language,n.scopeName)}}has(g){return this._languageToScope.has(g)}setTheme(g,T){this._grammarRegistry.setTheme(g,T)}getColorMap(){return this._grammarRegistry.getColorMap()}async createGrammar(g,T){const v=this._languageToScope.get(g);if(typeof v!="string")throw new Error(Te);const w=this._scopeRegistry.getGrammarDefinition(v);if(!w)throw new Error(Te);const n=w.embeddedLanguages;if(this._injectedEmbeddedLanguages[v]){const _=this._injectedEmbeddedLanguages[v];for(const r of _)for(const S of Object.keys(r))n[S]=r[S]}const d=Object.keys(n).length>0;let u;try{u=await this._grammarRegistry.loadGrammarWithConfiguration(v,T,{embeddedLanguages:n,tokenTypes:w.tokenTypes,balancedBracketSelectors:w.balancedBracketSelectors,unbalancedBracketSelectors:w.unbalancedBracketSelectors})}catch(_){throw _.message&&_.message.startsWith("No grammar provided for")?new Error(Te):_}return{languageId:g,grammar:u,initialState:this._initialState,containsEmbeddedLanguages:d,sourceExtensionId:w.sourceExtensionId}}}const ae=Le.registerExtensionPoint({extensionPoint:"grammars",deps:[ot],jsonSchema:{description:O("vscode.extension.contributes.grammars","Contributes textmate tokenizers."),type:"array",defaultSnippets:[{body:[{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}]}],items:{type:"object",defaultSnippets:[{body:{language:"${1:id}",scopeName:"source.${2:id}",path:"./syntaxes/${3:id}.tmLanguage."}}],properties:{language:{description:O("vscode.extension.contributes.grammars.language","Language identifier for which this syntax is contributed to."),type:"string"},scopeName:{description:O("vscode.extension.contributes.grammars.scopeName","Textmate scope name used by the tmLanguage file."),type:"string"},path:{description:O("vscode.extension.contributes.grammars.path","Path of the tmLanguage file. The path is relative to the extension folder and typically starts with './syntaxes/'."),type:"string"},embeddedLanguages:{description:O("vscode.extension.contributes.grammars.embeddedLanguages","A map of scope name to language id if this grammar contains embedded languages."),type:"object"},tokenTypes:{description:O("vscode.extension.contributes.grammars.tokenTypes","A map of scope name to token types."),type:"object",additionalProperties:{enum:["string","comment","other"]}},injectTo:{description:O("vscode.extension.contributes.grammars.injectTo","List of language scope names to which this grammar is injected to."),type:"array",items:{type:"string"}},balancedBracketScopes:{description:O("vscode.extension.contributes.grammars.balancedBracketScopes","Defines which scope names contain balanced brackets."),type:"array",items:{type:"string"},default:["*"]},unbalancedBracketScopes:{description:O("vscode.extension.contributes.grammars.unbalancedBracketScopes","Defines which scope names do not contain balanced brackets."),type:"array",items:{type:"string"},default:[]}},required:["scopeName","path"]}}});var it={exports:{}};(function(D,g){(function(T,v){D.exports=v()})(He,()=>{return T={770:function(w,n,d){var u=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(n,"__esModule",{value:!0}),n.setDefaultDebugCall=n.createOnigScanner=n.createOnigString=n.loadWASM=n.OnigScanner=n.OnigString=void 0;const _=u(d(418));let r=null,S=!1;class h{static _utf8ByteLength(p){let o=0;for(let m=0,y=p.length;m<y;m++){const a=p.charCodeAt(m);let e=a,s=!1;if(a>=55296&&a<=56319&&m+1<y){const i=p.charCodeAt(m+1);i>=56320&&i<=57343&&(e=65536+(a-55296<<10)|i-56320,s=!0)}o+=e<=127?1:e<=2047?2:e<=65535?3:4,s&&m++}return o}constructor(p){const o=p.length,m=h._utf8ByteLength(p),y=m!==o,a=y?new Uint32Array(o+1):null;y&&(a[o]=m);const e=y?new Uint32Array(m+1):null;y&&(e[m]=o);const s=new Uint8Array(m);let i=0;for(let t=0;t<o;t++){const l=p.charCodeAt(t);let c=l,k=!1;if(l>=55296&&l<=56319&&t+1<o){const L=p.charCodeAt(t+1);L>=56320&&L<=57343&&(c=65536+(l-55296<<10)|L-56320,k=!0)}y&&(a[t]=i,k&&(a[t+1]=i),c<=127?e[i+0]=t:c<=2047?(e[i+0]=t,e[i+1]=t):c<=65535?(e[i+0]=t,e[i+1]=t,e[i+2]=t):(e[i+0]=t,e[i+1]=t,e[i+2]=t,e[i+3]=t)),c<=127?s[i++]=c:c<=2047?(s[i++]=192|(1984&c)>>>6,s[i++]=128|(63&c)>>>0):c<=65535?(s[i++]=224|(61440&c)>>>12,s[i++]=128|(4032&c)>>>6,s[i++]=128|(63&c)>>>0):(s[i++]=240|(1835008&c)>>>18,s[i++]=128|(258048&c)>>>12,s[i++]=128|(4032&c)>>>6,s[i++]=128|(63&c)>>>0),k&&t++}this.utf16Length=o,this.utf8Length=m,this.utf16Value=p,this.utf8Value=s,this.utf16OffsetToUtf8=a,this.utf8OffsetToUtf16=e}createString(p){const o=p._omalloc(this.utf8Length);return p.HEAPU8.set(this.utf8Value,o),o}}class f{constructor(p){if(this.id=++f.LAST_ID,!r)throw new Error("Must invoke loadWASM first.");this._onigBinding=r,this.content=p;const o=new h(p);this.utf16Length=o.utf16Length,this.utf8Length=o.utf8Length,this.utf16OffsetToUtf8=o.utf16OffsetToUtf8,this.utf8OffsetToUtf16=o.utf8OffsetToUtf16,this.utf8Length<1e4&&!f._sharedPtrInUse?(f._sharedPtr||(f._sharedPtr=r._omalloc(1e4)),f._sharedPtrInUse=!0,r.HEAPU8.set(o.utf8Value,f._sharedPtr),this.ptr=f._sharedPtr):this.ptr=o.createString(r)}convertUtf8OffsetToUtf16(p){return this.utf8OffsetToUtf16?p<0?0:p>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[p]:p}convertUtf16OffsetToUtf8(p){return this.utf16OffsetToUtf8?p<0?0:p>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[p]:p}dispose(){this.ptr===f._sharedPtr?f._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}n.OnigString=f,f.LAST_ID=0,f._sharedPtr=0,f._sharedPtrInUse=!1;class A{constructor(p){if(!r)throw new Error("Must invoke loadWASM first.");const o=[],m=[];for(let s=0,i=p.length;s<i;s++){const t=new h(p[s]);o[s]=t.createString(r),m[s]=t.utf8Length}const y=r._omalloc(4*p.length);r.HEAPU32.set(o,y/4);const a=r._omalloc(4*p.length);r.HEAPU32.set(m,a/4);const e=r._createOnigScanner(y,a,p.length);for(let s=0,i=p.length;s<i;s++)r._ofree(o[s]);r._ofree(a),r._ofree(y),e===0&&function(s){throw new Error(s.UTF8ToString(s._getLastOnigError()))}(r),this._onigBinding=r,this._ptr=e}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(p,o,m){let y=S,a=0;if(typeof m=="number"?(8&m&&(y=!0),a=m):typeof m=="boolean"&&(y=m),typeof p=="string"){p=new f(p);const e=this._findNextMatchSync(p,o,y,a);return p.dispose(),e}return this._findNextMatchSync(p,o,y,a)}_findNextMatchSync(p,o,m,y){const a=this._onigBinding;let e;if(e=m?a._findNextOnigScannerMatchDbg(this._ptr,p.id,p.ptr,p.utf8Length,p.convertUtf16OffsetToUtf8(o),y):a._findNextOnigScannerMatch(this._ptr,p.id,p.ptr,p.utf8Length,p.convertUtf16OffsetToUtf8(o),y),e===0)return null;const s=a.HEAPU32;let i=e/4;const t=s[i++],l=s[i++];let c=[];for(let k=0;k<l;k++){const L=p.convertUtf8OffsetToUtf16(s[i++]),I=p.convertUtf8OffsetToUtf16(s[i++]);c[k]={start:L,end:I,length:I-L}}return{index:t,captureIndices:c}}}n.OnigScanner=A;let b=!1,C=null;n.loadWASM=function(R){if(b)return C;let p,o,m,y;if(b=!0,function(a){return typeof a.instantiator=="function"}(R))p=R.instantiator,o=R.print;else{let a;(function(e){return e.data!==void 0})(R)?(a=R.data,o=R.print):a=R,p=function(e){return typeof Response<"u"&&e instanceof Response}(a)?typeof WebAssembly.instantiateStreaming=="function"?function(e){return s=>WebAssembly.instantiateStreaming(e,s)}(a):function(e){return async s=>{const i=await e.arrayBuffer();return WebAssembly.instantiate(i,s)}}(a):function(e){return s=>WebAssembly.instantiate(e,s)}(a)}return C=new Promise((a,e)=>{m=a,y=e}),function(a,e,s,i){(0,_.default)({print:e,instantiateWasm:(t,l)=>{if(typeof performance>"u"){const c=()=>Date.now();t.env.emscripten_get_now=c,t.wasi_snapshot_preview1.emscripten_get_now=c}return a(t).then(c=>l(c.instance),i),{}}}).then(t=>{r=t,s()})}(p,o,m,y),C},n.createOnigString=function(R){return new f(R)},n.createOnigScanner=function(R){return new A(R)},n.setDefaultDebugCall=function(R){S=R}},418:w=>{var n=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(d){var u,_,r=(d=d||{})!==void 0?d:{};r.ready=new Promise(function(x,N){u=x,_=N});var S,h=Object.assign({},r),f=!1,A="";function b(x){return r.locateFile?r.locateFile(x,A):A+x}S=function(x){let N;return typeof readbuffer=="function"?new Uint8Array(readbuffer(x)):(N=read(x,"binary"),y(typeof N=="object"),N)},typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var C,R,p=r.print||console.log.bind(console),o=r.printErr||console.warn.bind(console);Object.assign(r,h),h=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit,r.wasmBinary&&(C=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&B("no native wasm support detected");var m=!1;function y(x,N){x||B(N)}var a,e,s,i=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function t(x,N,Y){for(var ne=N+Y,q=N;x[q]&&!(q>=ne);)++q;if(q-N>16&&x.buffer&&i)return i.decode(x.subarray(N,q));for(var W="";N<q;){var Z=x[N++];if(128&Z){var fe=63&x[N++];if((224&Z)!=192){var me=63&x[N++];if((Z=(240&Z)==224?(15&Z)<<12|fe<<6|me:(7&Z)<<18|fe<<12|me<<6|63&x[N++])<65536)W+=String.fromCharCode(Z);else{var De=Z-65536;W+=String.fromCharCode(55296|De>>10,56320|1023&De)}}else W+=String.fromCharCode((31&Z)<<6|fe)}else W+=String.fromCharCode(Z)}return W}function l(x,N){return x?t(e,x,N):""}function c(x){a=x,r.HEAP8=new Int8Array(x),r.HEAP16=new Int16Array(x),r.HEAP32=new Int32Array(x),r.HEAPU8=e=new Uint8Array(x),r.HEAPU16=new Uint16Array(x),r.HEAPU32=s=new Uint32Array(x),r.HEAPF32=new Float32Array(x),r.HEAPF64=new Float64Array(x)}r.INITIAL_MEMORY;var k=[],L=[],I=[];function E(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)$(r.preRun.shift());re(k)}function M(){re(L)}function V(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)H(r.postRun.shift());re(I)}function $(x){k.unshift(x)}function G(x){L.unshift(x)}function H(x){I.unshift(x)}var K=0,U=null;function F(x){K++,r.monitorRunDependencies&&r.monitorRunDependencies(K)}function j(x){if(K--,r.monitorRunDependencies&&r.monitorRunDependencies(K),K==0&&U){var N=U;U=null,N()}}function B(x){r.onAbort&&r.onAbort(x),o(x="Aborted("+x+")"),m=!0,x+=". Build with -sASSERTIONS for more info.";var N=new WebAssembly.RuntimeError(x);throw _(N),N}var X,P,Q="data:application/octet-stream;base64,";function z(x){return x.startsWith(Q)}function te(x){try{if(x==X&&C)return new Uint8Array(C);if(S)return S(x);throw"both async and sync fetching of the wasm failed"}catch(N){B(N)}}function ce(){return C||!f||typeof fetch!="function"?Promise.resolve().then(function(){return te(X)}):fetch(X,{credentials:"same-origin"}).then(function(x){if(!x.ok)throw"failed to load wasm binary file at '"+X+"'";return x.arrayBuffer()}).catch(function(){return te(X)})}function ye(){var x={env:de,wasi_snapshot_preview1:de};function N(q,W){var Z=q.exports;r.asm=Z,c((R=r.asm.memory).buffer),r.asm.__indirect_function_table,G(r.asm.__wasm_call_ctors),j()}function Y(q){N(q.instance)}function ne(q){return ce().then(function(W){return WebAssembly.instantiate(W,x)}).then(function(W){return W}).then(q,function(W){o("failed to asynchronously prepare wasm: "+W),B(W)})}if(F(),r.instantiateWasm)try{return r.instantiateWasm(x,N)}catch(q){o("Module.instantiateWasm callback failed with error: "+q),_(q)}return(C||typeof WebAssembly.instantiateStreaming!="function"||z(X)||typeof fetch!="function"?ne(Y):fetch(X,{credentials:"same-origin"}).then(function(q){return WebAssembly.instantiateStreaming(q,x).then(Y,function(W){return o("wasm streaming compile failed: "+W),o("falling back to ArrayBuffer instantiation"),ne(Y)})})).catch(_),{}}function re(x){for(;x.length>0;)x.shift()(r)}function se(x,N,Y){e.copyWithin(x,N,N+Y)}function pe(x){try{return R.grow(x-a.byteLength+65535>>>16),c(R.buffer),1}catch{}}function ue(x){var N,Y=e.length,ne=2147483648;if((x>>>=0)>ne)return!1;for(var q=1;q<=4;q*=2){var W=Y*(1+.2/q);if(W=Math.min(W,x+100663296),pe(Math.min(ne,(N=Math.max(x,W))+(65536-N%65536)%65536)))return!0}return!1}z(X="onig.wasm")||(X=b(X)),P=typeof dateNow<"u"?dateNow:()=>performance.now();var le=[null,[],[]];function he(x,N){var Y=le[x];N===0||N===10?((x===1?p:o)(t(Y,0)),Y.length=0):Y.push(N)}function ie(x,N,Y,ne){for(var q=0,W=0;W<Y;W++){var Z=s[N>>2],fe=s[N+4>>2];N+=8;for(var me=0;me<fe;me++)he(x,e[Z+me]);q+=fe}return s[ne>>2]=q,0}var ee,de={emscripten_get_now:P,emscripten_memcpy_big:se,emscripten_resize_heap:ue,fd_write:ie};function ge(x){function N(){ee||(ee=!0,r.calledRun=!0,m||(M(),u(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),V()))}K>0||(E(),K>0||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),N()},1)):N()))}if(ye(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)},r.___errno_location=function(){return(r.___errno_location=r.asm.__errno_location).apply(null,arguments)},r._omalloc=function(){return(r._omalloc=r.asm.omalloc).apply(null,arguments)},r._ofree=function(){return(r._ofree=r.asm.ofree).apply(null,arguments)},r._getLastOnigError=function(){return(r._getLastOnigError=r.asm.getLastOnigError).apply(null,arguments)},r._createOnigScanner=function(){return(r._createOnigScanner=r.asm.createOnigScanner).apply(null,arguments)},r._freeOnigScanner=function(){return(r._freeOnigScanner=r.asm.freeOnigScanner).apply(null,arguments)},r._findNextOnigScannerMatch=function(){return(r._findNextOnigScannerMatch=r.asm.findNextOnigScannerMatch).apply(null,arguments)},r._findNextOnigScannerMatchDbg=function(){return(r._findNextOnigScannerMatchDbg=r.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},r.stackSave=function(){return(r.stackSave=r.asm.stackSave).apply(null,arguments)},r.stackRestore=function(){return(r.stackRestore=r.asm.stackRestore).apply(null,arguments)},r.stackAlloc=function(){return(r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.UTF8ToString=l,U=function x(){ee||ge(),ee||(U=x)},r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return ge(),d.ready});w.exports=n}},v={},function w(n){var d=v[n];if(d!==void 0)return d.exports;var u=v[n]={exports:{}};return T[n].call(u.exports,u,u.exports,w),u.exports}(770);var T,v})})(it);var Oe=it.exports;const sn=Ke(Oe),on=rt({__proto__:null,default:sn},[Oe]);let Re=class Se extends be{constructor(g,T,v,w,n,d,u,_,r,S){super(),this._languageService=g,this._themeService=T,this._extensionResourceLoaderService=v,this._notificationService=w,this._logService=n,this._configurationService=d,this._progressService=u,this._environmentService=_,this._instantiationService=r,this._telemetryService=S,this._createdModes=[],this._encounteredLanguages=[],this._debugMode=!1,this._debugModePrintFunc=()=>{},this._grammarDefinitions=null,this._grammarFactory=null,this._tokenizersRegistrations=new ve,this._currentTheme=null,this._currentTokenColorMap=null,this._workerHost=this._instantiationService.createInstance(Ce,(h,f,A,b)=>this.reportTokenizationTime(h,f,A,b,!0)),this._vscodeOniguruma=null,this._styleElement=Ot(),this._styleElement.className="vscode-tokens-styles",ae.setHandler(h=>this.handleGrammarsExtPoint(h)),this._updateTheme(this._themeService.getColorTheme(),!0),this._register(this._themeService.onDidColorThemeChange(()=>{this._updateTheme(this._themeService.getColorTheme(),!1)})),this._languageService.onDidRequestRichLanguageFeatures(h=>{this._createdModes.push(h)})}handleGrammarsExtPoint(g){this._grammarDefinitions=null,this._grammarFactory&&(this._grammarFactory.dispose(),this._grammarFactory=null),this._tokenizersRegistrations.clear(),this._grammarDefinitions=[];for(const T of g){const v=T.value;for(const w of v){const n=this.createValidGrammarDefinition(T,w);if(n&&(this._grammarDefinitions.push(n),n.language)){const d=new $t(()=>this.createTokenizationSupport(n.language));this._tokenizersRegistrations.add(d),this._tokenizersRegistrations.add(Pe.registerFactory(n.language,d))}}}this._workerHost.setGrammarDefinitions(this._grammarDefinitions);for(const T of this._createdModes)Pe.getOrCreate(T)}createValidGrammarDefinition(g,T){if(!un(g.description.extensionLocation,T,g.collector,this._languageService))return null;const v=nt(g.description.extensionLocation,T.path),w=Object.create(null);if(T.embeddedLanguages){const _=Object.keys(T.embeddedLanguages);for(let r=0,S=_.length;r<S;r++){const h=_[r],f=T.embeddedLanguages[h];typeof f=="string"&&this._languageService.isRegisteredLanguageId(f)&&(w[h]=this._languageService.languageIdCodec.encodeLanguageId(f))}}const n=Object.create(null);if(T.tokenTypes){const _=Object.keys(T.tokenTypes);for(const r of _)switch(T.tokenTypes[r]){case"string":n[r]=2;break;case"other":n[r]=0;break;case"comment":n[r]=1;break}}let d=null;T.language&&this._languageService.isRegisteredLanguageId(T.language)&&(d=T.language);function u(_,r){return!Array.isArray(_)||!_.every(S=>typeof S=="string")?r:_}return{location:v,language:d||void 0,scopeName:T.scopeName,embeddedLanguages:w,tokenTypes:n,injectTo:T.injectTo,balancedBracketSelectors:u(T.balancedBracketScopes,["*"]),unbalancedBracketSelectors:u(T.unbalancedBracketScopes,[]),sourceExtensionId:g.description.id}}startDebugMode(g,T){if(this._debugMode){this._notificationService.error(O("alreadyDebugging","Already Logging."));return}this._debugModePrintFunc=g,this._debugMode=!0,this._debugMode&&this._progressService.withProgress({location:15,buttons:[O("stop","Stop")]},v=>(v.report({message:O("progress1","Preparing to log TM Grammar parsing. Press Stop when finished.")}),this._getVSCodeOniguruma().then(w=>(w.setDefaultDebugCall(!0),v.report({message:O("progress2","Now logging TM Grammar parsing. Press Stop when finished.")}),new Promise((n,d)=>{})))),v=>{this._getVSCodeOniguruma().then(w=>{this._debugModePrintFunc=()=>{},this._debugMode=!1,w.setDefaultDebugCall(!1),T()})})}_canCreateGrammarFactory(){return!!this._grammarDefinitions}async _getOrCreateGrammarFactory(){if(this._grammarFactory)return this._grammarFactory;const g=await this._getVSCodeOniguruma(),T=Promise.resolve({createOnigScanner:v=>g.createOnigScanner(v),createOnigString:v=>g.createOnigString(v)});return this._grammarFactory?this._grammarFactory:(this._grammarFactory=new rn({logTrace:v=>this._logService.trace(v),logError:(v,w)=>this._logService.error(v,w),readFile:v=>this._extensionResourceLoaderService.readExtensionResource(v)},this._grammarDefinitions||[],Yt,T),this._updateTheme(this._themeService.getColorTheme(),!0),this._grammarFactory)}async createTokenizationSupport(g){if(!this._languageService.isRegisteredLanguageId(g)||!this._canCreateGrammarFactory())return null;try{const T=await this._getOrCreateGrammarFactory();if(!T.has(g))return null;const v=this._languageService.languageIdCodec.encodeLanguageId(g),w=await T.createGrammar(g,v);if(!w.grammar)return null;const n=ln("editor.maxTokenizationLineLength",g,-1,this._configurationService),d=new Vt(w.grammar,w.initialState,w.containsEmbeddedLanguages,(u,_)=>this._workerHost.createBackgroundTokenizer(u,_,n),()=>this._configurationService.getValue("editor.experimental.asyncTokenizationVerification"),(u,_)=>{this.reportTokenizationTime(u,g,w.sourceExtensionId,_,!1)});return d.onDidEncounterLanguage(u=>{if(!this._encounteredLanguages[u]){const _=this._languageService.languageIdCodec.decodeLanguageId(u);this._encounteredLanguages[u]=!0,this._languageService.requestBasicLanguageFeatures(_)}}),new Ht(v,d,n)}catch(T){return T.message&&T.message===Te||Dt(T),null}}_updateTheme(g,T){var n;if(!T&&this._currentTheme&&this._currentTokenColorMap&&cn(this._currentTheme.settings,g.tokenColors)&&Gt(this._currentTokenColorMap,g.tokenColorMap))return;this._currentTheme={name:g.label,settings:g.tokenColors},this._currentTokenColorMap=g.tokenColorMap,(n=this._grammarFactory)==null||n.setTheme(this._currentTheme,this._currentTokenColorMap);const v=an(this._currentTokenColorMap),w=jt(v);this._styleElement.textContent=w,Pe.setColorMap(v),this._currentTheme&&this._currentTokenColorMap&&this._workerHost.acceptTheme(this._currentTheme,this._currentTokenColorMap)}async createGrammar(g){if(!this._languageService.isRegisteredLanguageId(g))return null;const T=await this._getOrCreateGrammarFactory();if(!T.has(g))return null;const v=this._languageService.languageIdCodec.encodeLanguageId(g),{grammar:w}=await T.createGrammar(g,v);return w}_getVSCodeOniguruma(){return this._vscodeOniguruma||(this._vscodeOniguruma=(async()=>{const g=await this._loadVSCodeOnigurumaWASM();return await Oe.loadWASM({data:g,print:T=>{this._debugModePrintFunc(T)}}),on})()),this._vscodeOniguruma}async _loadVSCodeOnigurumaWASM(){return et?await(await fetch(_e.asBrowserUri("vscode-oniguruma/../onig.wasm").toString(!0))).arrayBuffer():await fetch(this._environmentService.isBuilt?_e.asBrowserUri(`${Bt}/vscode-oniguruma/release/onig.wasm`).toString(!0):_e.asBrowserUri(`${xe}/vscode-oniguruma/release/onig.wasm`).toString(!0))}reportTokenizationTime(g,T,v,w,n){Se.reportTokenizationTimeCounter>50||(Se.reportTokenizationTimeCounter===0&&setTimeout(()=>{Se.reportTokenizationTimeCounter=0},1e3*60*60),Se.reportTokenizationTimeCounter++,this._telemetryService.publicLog2("editor.tokenizedLine",{timeMs:g,languageId:T,lineLength:w,fromWorker:n,sourceExtensionId:v}))}};Re.reportTokenizationTimeCounter=0;Re=Ne([J(0,Xe),J(1,at),J(2,Ue),J(3,Ye),J(4,Mt),J(5,Je),J(6,Nt),J(7,ct),J(8,tt),J(9,Ze)],Re);function an(D){const g=[null];for(let T=1,v=D.length;T<v;T++)g[T]=Ft.fromHex(D[T]);return g}function cn(D,g){if(!g||!D||g.length!==D.length)return!1;for(let T=g.length-1;T>=0;T--){const v=g[T],w=D[T];if(v.scope!==w.scope)return!1;const n=v.settings,d=w.settings;if(n&&d){if(n.fontStyle!==d.fontStyle||n.foreground!==d.foreground||n.background!==d.background)return!1}else if(!n||!d)return!1}return!0}function un(D,g,T,v){if(g.language&&(typeof g.language!="string"||!v.isRegisteredLanguageId(g.language)))return T.error(O("invalid.language","Unknown language in `contributes.{0}.language`. Provided value: {1}",ae.name,String(g.language))),!1;if(!g.scopeName||typeof g.scopeName!="string")return T.error(O("invalid.scopeName","Expected string in `contributes.{0}.scopeName`. Provided value: {1}",ae.name,String(g.scopeName))),!1;if(!g.path||typeof g.path!="string")return T.error(O("invalid.path.0","Expected string in `contributes.{0}.path`. Provided value: {1}",ae.name,String(g.path))),!1;if(g.injectTo&&(!Array.isArray(g.injectTo)||g.injectTo.some(n=>typeof n!="string")))return T.error(O("invalid.injectTo","Invalid value in `contributes.{0}.injectTo`. Must be an array of language scope names. Provided value: {1}",ae.name,JSON.stringify(g.injectTo))),!1;if(g.embeddedLanguages&&!ze(g.embeddedLanguages))return T.error(O("invalid.embeddedLanguages","Invalid value in `contributes.{0}.embeddedLanguages`. Must be an object map from scope name to language. Provided value: {1}",ae.name,JSON.stringify(g.embeddedLanguages))),!1;if(g.tokenTypes&&!ze(g.tokenTypes))return T.error(O("invalid.tokenTypes","Invalid value in `contributes.{0}.tokenTypes`. Must be an object map from scope name to token type. Provided value: {1}",ae.name,JSON.stringify(g.tokenTypes))),!1;const w=nt(D,g.path);return zt(w,D)||T.warn(O("invalid.path.1","Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",ae.name,w.path,D.path)),!0}function ln(D,g,T,v){return Qe(w=>v.onDidChangeConfiguration(n=>{n.affectsConfiguration(D,{overrideIdentifier:g})&&w(n)}),()=>v.getValue(D,{overrideIdentifier:g})??T)}const oe=ut(),hn=Le.registerExtensionPoint({extensionPoint:"semanticTokenTypes",jsonSchema:{description:O("contributes.semanticTokenTypes","Contributes semantic token types."),type:"array",items:{type:"object",properties:{id:{type:"string",description:O("contributes.semanticTokenTypes.id","The identifier of the semantic token type"),pattern:ke,patternErrorMessage:O("contributes.semanticTokenTypes.id.format","Identifiers should be in the form letterOrDigit[_-letterOrDigit]*")},superType:{type:"string",description:O("contributes.semanticTokenTypes.superType","The super type of the semantic token type"),pattern:ke,patternErrorMessage:O("contributes.semanticTokenTypes.superType.format","Super types should be in the form letterOrDigit[_-letterOrDigit]*")},description:{type:"string",description:O("contributes.color.description","The description of the semantic token type")}}}}}),dn=Le.registerExtensionPoint({extensionPoint:"semanticTokenModifiers",jsonSchema:{description:O("contributes.semanticTokenModifiers","Contributes semantic token modifiers."),type:"array",items:{type:"object",properties:{id:{type:"string",description:O("contributes.semanticTokenModifiers.id","The identifier of the semantic token modifier"),pattern:ke,patternErrorMessage:O("contributes.semanticTokenModifiers.id.format","Identifiers should be in the form letterOrDigit[_-letterOrDigit]*")},description:{description:O("contributes.semanticTokenModifiers.description","The description of the semantic token modifier")}}}}}),pn=Le.registerExtensionPoint({extensionPoint:"semanticTokenScopes",jsonSchema:{description:O("contributes.semanticTokenScopes","Contributes semantic token scope maps."),type:"array",items:{type:"object",properties:{language:{description:O("contributes.semanticTokenScopes.languages","Lists the languge for which the defaults are."),type:"string"},scopes:{description:O("contributes.semanticTokenScopes.scopes","Maps a semantic token (described by semantic token selector) to one or more textMate scopes used to represent that token."),type:"object",additionalProperties:{type:"array",items:{type:"string"}}}}}}});class gn{constructor(){function g(T,v,w){if(typeof T.id!="string"||T.id.length===0)return w.error(O("invalid.id","'configuration.{0}.id' must be defined and can not be empty",v)),!1;if(!T.id.match(ke))return w.error(O("invalid.id.format","'configuration.{0}.id' must follow the pattern letterOrDigit[-_letterOrDigit]*",v)),!1;const n=T.superType;return n&&!n.match(ke)?(w.error(O("invalid.superType.format","'configuration.{0}.superType' must follow the pattern letterOrDigit[-_letterOrDigit]*",v)),!1):typeof T.description!="string"||T.id.length===0?(w.error(O("invalid.description","'configuration.{0}.description' must be defined and can not be empty",v)),!1):!0}hn.setHandler((T,v)=>{for(const w of v.added){const n=w.value,d=w.collector;if(!n||!Array.isArray(n)){d.error(O("invalid.semanticTokenTypeConfiguration","'configuration.semanticTokenType' must be an array"));return}for(const u of n)g(u,"semanticTokenType",d)&&oe.registerTokenType(u.id,u.description,u.superType)}for(const w of v.removed){const n=w.value;for(const d of n)oe.deregisterTokenType(d.id)}}),dn.setHandler((T,v)=>{for(const w of v.added){const n=w.value,d=w.collector;if(!n||!Array.isArray(n)){d.error(O("invalid.semanticTokenModifierConfiguration","'configuration.semanticTokenModifier' must be an array"));return}for(const u of n)g(u,"semanticTokenModifier",d)&&oe.registerTokenModifier(u.id,u.description)}for(const w of v.removed){const n=w.value;for(const d of n)oe.deregisterTokenModifier(d.id)}}),pn.setHandler((T,v)=>{for(const w of v.added){const n=w.value,d=w.collector;if(!n||!Array.isArray(n)){d.error(O("invalid.semanticTokenScopes.configuration","'configuration.semanticTokenScopes' must be an array"));return}for(const u of n){if(u.language&&typeof u.language!="string"){d.error(O("invalid.semanticTokenScopes.language","'configuration.semanticTokenScopes.language' must be a string"));continue}if(!u.scopes||typeof u.scopes!="object"){d.error(O("invalid.semanticTokenScopes.scopes","'configuration.semanticTokenScopes.scopes' must be defined as an object"));continue}for(const _ in u.scopes){const r=u.scopes[_];if(!Array.isArray(r)||r.some(S=>typeof S!="string")){d.error(O("invalid.semanticTokenScopes.scopes.value","'configuration.semanticTokenScopes.scopes' values must be an array of strings"));continue}try{const S=oe.parseTokenSelector(_,u.language);oe.registerTokenStyleDefault(S,{scopesToProbe:r.map(h=>h.split(" "))})}catch{d.error(O("invalid.semanticTokenScopes.scopes.selector","configuration.semanticTokenScopes.scopes': Problems parsing selector {0}.",_))}}}}for(const w of v.removed){const n=w.value;for(const d of n)for(const u in d.scopes){const _=d.scopes[u];try{const r=oe.parseTokenSelector(u,d.language);oe.registerTokenStyleDefault(r,{scopesToProbe:_.map(S=>S.split(" "))})}catch{}}}})}}const We=new URL("/assets/onig-fd885c2d.wasm",self.location).href;lt({"vscode-oniguruma/../onig.wasm":We,"vs/../../node_modules/vscode-oniguruma/release/onig.wasm":We});pt(async D=>{D.get(gt).when(2).then(()=>{qt.get(qe)})});let Me=class{constructor(g){this.instantiationService=g,this.instantiationService.createInstance(gn)}};Me=Ne([J(0,tt)],Me);Wt.as(ht.Workbench).registerWorkbenchContribution(Me,1);function yn(){return{...dt(),[qe.toString()]:new Ut(Re)}}export{qe as ITextMateTokenizationService,yn as default};
