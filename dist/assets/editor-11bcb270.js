var rn=Object.defineProperty;var sn=(l,e,t)=>e in l?rn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var de=(l,e,t)=>(sn(l,typeof e!="symbol"?e+"":e,t),t);import{cT as te,b8 as T,hV as ci,ia as Zi,iC as di,aY as ft,hX as Be,aD as Te,i3 as cn,aP as P,b6 as bt,aO as dn,br as N,b0 as ot,hd as ln,ea as Me,eb as Ae,hx as Je,hw as ae,oJ as Li,hG as Bt,oI as Qe,by as Et,av as i,qn as xt,hD as Ot,kQ as un,jJ as ki,jL as gn,bx as f,bw as y,e$ as r,hL as c,f1 as s,bH as h,f0 as L,fw as C,kp as li,c6 as ui,iq as eo,kY as hn,dj as pn,je as mn,d_ as Oe,dq as Ge,bn as fn,be as gi,h$ as bn,pm as Ti,qD as En,qE as vn,i7 as Sn,oF as yn,a$ as Q,qF as Cn,qG as wn,cG as Di,b1 as Gt,kS as In,aq as Mn,h8 as to,cl as io,au as An,aM as se,qH as q,ek as vt,cb as oo,iE as Ln,ex as no,iI as Z,qI as kn,qJ as Tn,qK as Dn,qL as xn,qM as Pn,qN as Rn,qO as _n,fM as ao,dT as ge,qP as Bn,qx as je,c5 as re,d6 as hi,d8 as On,cq as De,gr as Gn,qQ as xi,fR as ne,ey as Nn,a8 as at,qR as Pi,cI as Ri,bk as _i,c9 as Fn,af as Vn,eu as Bi,bM as Un,bh as qn,qS as Hn,aU as Wn,aZ as zn,aR as Kn,cN as $n,aW as F,dm as Jn,pu as Qn,ct as jn,cK as Yn,cc as Xn,qd as Zn,qT as pe,fu as xe,el as ea,qU as ta,qV as ia,iK as Ye,iL as Oi,ll as Gi,fg as oa,cQ as na,lZ as aa}from"./vendor-332432be.js";import{_ as A,h as u,N as pi,a6 as ro,fe as so,ff as ra,fg as sa,p as ca,Z as da,fh as he,H as co,v as x,M as Ne,n as mi,fi as rt,fj as la,fa as lo,fk as Le,x as ua,c7 as ga,fl as Nt,fm as uo,fn as ha,fo as pa,dP as ve,a1 as ma,aM as fa,b6 as ba,br as Pt,fp as Ea,fq as va,af as ce,aA as go,fr as Ft,fs as Sa,I as fi,dW as bi,ft as ya,fu as Vt,fv as Ut,aB as st,aC as ct,e0 as Ca,a5 as wa,fw as Ia,e2 as Fe,fx as z,aN as Ei,ag as Ma,$ as Aa,e6 as La,dL as ka,B as ho,aQ as Ta,e7 as Da,f3 as xa,e8 as Pa,eo as qt,e3 as Ra,y as _a,fy as Xe,bq as St,fz as Ni,fA as Ba,fB as Fi,cE as po,dr as Ve,fC as Vi,fD as Ui,fE as mo,fF as qi,fG as fo,fH as Hi,fI as bo,fJ as Oa,fK as Ga,fL as Na,fM as Fa,fN as Va,fO as Ua,fP as qa,fQ as Ha,fR as Wa,fS as za,fT as Ka,fU as $a,fV as Eo,fW as vo,fX as Ja,fY as Qa,fZ as ja,f_ as Ya,f$ as Xa,g0 as Za,g1 as vi,g2 as er,g3 as tr,g4 as ir,g5 as or,g6 as nr,g7 as ar,g8 as rr,g9 as sr,ga as cr,gb as dr,gc as lr,gd as ur,ge as gr,gf as hr,gg as pr,gh as mr,gi as fr,gj as br,gk as Er,gl as vr,gm as Sr,gn as yr,go as Cr,gp as wr,gq as Ir,gr as Mr,gs as Ar,gt as Lr,gu as kr,gv as Tr,gw as Dr,gx as xr,gy as Pr,gz as Rr,gA as _r,gB as Br,gC as Or,gD as Gr,gE as Nr,gF as Fr,gG as Vr,gH as Ur,gI as qr,gJ as Hr,gK as Wr,gL as zr,gM as Kr,gN as $r,gO as Jr,gP as Qr,gQ as jr,gR as Yr,gS as Xr,gT as Zr,gU as es,gV as ts,gW as is,gX as os,gY as ns,gZ as as,g_ as rs,g$ as So,h0 as yo,h1 as Co,h2 as wo,h3 as Io,h4 as Mo,h5 as Ao,h6 as Lo,h7 as ss,h8 as cs,h9 as ds,ha as ls,hb as us,hc as gs,hd as hs,he as ps,bl as ko,aL as yt,hf as To,hg as Ct,hh as Ue,hi as wt,hj as qe,hk as Do,hl as R,bt as Se,d3 as xo,bA as ms,hm as Po,aH as Ro,hn as He,d4 as Si,d5 as We,cY as _o,cZ as Bo,ho as Oo,aF as fs,hp as Go,aI as ye,hq as It,hr as No,aJ as Fo,hs as Vo,aK as ze,ht as bs,hu as Es,hv as vs,hw as Ss,bz as Mt,hx as ys,hy as Cs,hz as Ce,hA as Uo,hB as ws,hC as Is,hD as Ms,hE as As,eb as qo,ay as Ho,aD as Ls,bO as Wi,ef as ks,cD as Ts,fd as le,bo as zi,bp as Ki}from"./index-5b71d1bd.js";import{S as Ds}from"./simpleIconLabel-0ce5eb95.js";import{i as xs,g as Wo}from"./quickaccess-f6b93953.js";class yi extends Be{constructor(e){var t;super(e.id,e.name,(t=e.classNames)==null?void 0:t.join(" "),!0),this._activity=e,this._onDidChangeActivity=this._register(new Te),this.onDidChangeActivity=this._onDidChangeActivity.event,this._onDidChangeBadge=this._register(new Te),this.onDidChangeBadge=this._onDidChangeBadge.event}get activity(){return this._activity}set activity(e){this._label=e.name,this._activity=e,this._onDidChangeActivity.fire(this)}activate(){this.checked||this._setChecked(!0)}deactivate(){this.checked&&this._setChecked(!1)}getBadge(){return this.badge}getClass(){return this.clazz}setBadge(e,t){this.badge=e,this.clazz=t,this._onDidChangeBadge.fire(this)}dispose(){this._onDidChangeActivity.dispose(),this._onDidChangeBadge.dispose(),super.dispose()}}let Pe=class Ht extends cn{constructor(e,t,o,n,a,d,g){super(null,e,t),this.badgesEnabled=o,this.themeService=n,this.hoverService=a,this.configurationService=d,this.keybindingService=g,this.badgeDisposable=this._register(new P),this.hoverDisposables=this._register(new bt),this.showHoverScheduler=new dn(()=>this.showHover(),0),this.options=t,this._register(this.themeService.onDidColorThemeChange(this.onThemeChange,this)),this._register(e.onDidChangeActivity(this.updateActivity,this)),this._register(N.filter(g.onDidUpdateKeybindings,()=>this.keybindingLabel!==this.computeKeybindingLabel())(()=>this.updateTitle())),this._register(e.onDidChangeBadge(this.updateBadge,this)),this._register(ot(()=>this.showHoverScheduler.cancel()))}get activity(){return this._action.activity}updateStyles(){const e=this.themeService.getColorTheme(),t=this.options.colors(e);if(this.label){if(this.options.icon){const o=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor;this.activity.iconUrl?(this.label.style.backgroundColor=o?o.toString():"",this.label.style.color=""):(this.label.style.color=o?o.toString():"",this.label.style.backgroundColor="")}else{const o=this._action.checked?t.activeForegroundColor:t.inactiveForegroundColor,n=this._action.checked?t.activeBorderBottomColor:null;this.label.style.color=o?o.toString():"",this.label.style.borderBottomColor=n?n.toString():""}this.container.style.setProperty("--insert-border-color",t.dragAndDropBorder?t.dragAndDropBorder.toString():"")}if(this.badgeContent){const o=t.badgeForeground,n=t.badgeBackground,a=e.getColor(ln);this.badgeContent.style.color=o?o.toString():"",this.badgeContent.style.backgroundColor=n?n.toString():"",this.badgeContent.style.borderStyle=a?"solid":"",this.badgeContent.style.borderWidth=a?"1px":"",this.badgeContent.style.borderColor=a?a.toString():""}}render(e){super.render(e),this.container=e,this.options.icon&&this.container.classList.add("icon"),this.options.hasPopup?(this.container.setAttribute("role","button"),this.container.setAttribute("aria-haspopup","true")):this.container.setAttribute("role","tab"),this._register(Me(this.container,Ae.MOUSE_DOWN,()=>{this.container.classList.add("clicked")})),this._register(Me(this.container,Ae.MOUSE_UP,()=>{this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.mouseUpTimeout=setTimeout(()=>{this.container.classList.remove("clicked")},800)})),this.label=Je(e,ae("a")),this.badge=Je(e,ae(".badge")),this.badgeContent=Je(this.badge,ae(".badge-content")),Je(e,ae(".active-item-indicator")),Li(this.badge),this.updateActivity(),this.updateStyles(),this.updateHover()}onThemeChange(e){this.updateStyles()}updateActivity(){this.updateLabel(),this.updateTitle(),this.updateBadge(),this.updateStyles()}updateBadge(){const e=this.action;if(!this.badge||!this.badgeContent||!(e instanceof yi))return;const t=e.getBadge(),o=e.getClass();this.badgeDisposable.clear(),Bt(this.badgeContent),Li(this.badge);const n=this.badgesEnabled(this.activity.id);if(t&&n){if(t instanceof ro){if(t.number){let a=t.number.toString();if(t.number>999){const d=t.number/1e3,g=Math.floor(d);d>g?a=`${g}K+`:a=`${d}K`}this.badgeContent.textContent=a,Qe(this.badge)}}else if(t instanceof so)this.badgeContent.textContent=t.text,Qe(this.badge);else if(t instanceof ra){const a=Et.asClassNameArray(t.icon);this.badgeContent.classList.add(...a),Qe(this.badge)}else t instanceof sa&&Qe(this.badge);if(o){const a=o.split(" ");this.badge.classList.add(...a),this.badgeDisposable.value=ot(()=>this.badge.classList.remove(...a))}}this.updateTitle()}updateLabel(){this.label.className="action-label",this.activity.classNames&&this.label.classList.add(...this.activity.classNames),this.options.icon||(this.label.textContent=this.action.label)}updateTitle(){const e=this.computeTitle();[this.label,this.badge,this.container].forEach(t=>{t&&(t.setAttribute("aria-label",e),t.setAttribute("title",""),t.removeAttribute("title"))})}computeTitle(){this.keybindingLabel=this.computeKeybindingLabel();let e=this.keybindingLabel?i("titleKeybinding","{0} ({1})",this.activity.name,this.keybindingLabel):this.activity.name;const t=this.action.getBadge();return t!=null&&t.getDescription()&&(e=i("badgeTitle","{0} - {1}",e,t.getDescription())),e}computeKeybindingLabel(){const e=this.activity.keybindingId?this.keybindingService.lookupKeybinding(this.activity.keybindingId):null;return e==null?void 0:e.getLabel()}updateHover(){this.hoverDisposables.clear(),this.updateTitle(),this.hoverDisposables.add(Me(this.container,Ae.MOUSE_OVER,()=>{this.showHoverScheduler.isScheduled()||(Date.now()-Ht.hoverLeaveTime<200?this.showHover(!0):this.showHoverScheduler.schedule(this.configurationService.getValue("workbench.hover.delay")))},!0)),this.hoverDisposables.add(Me(this.container,Ae.MOUSE_LEAVE,e=>{e.target===this.container&&(Ht.hoverLeaveTime=Date.now(),this.hoverService.hideHover(),this.showHoverScheduler.cancel())},!0)),this.hoverDisposables.add(ot(()=>{this.hoverService.hideHover(),this.showHoverScheduler.cancel()}))}showHover(e=!1){if(this.lastHover&&!this.lastHover.isDisposed)return;const t=this.options.hoverOptions.position();this.lastHover=this.hoverService.showHover({target:this.container,hoverPosition:t,content:this.computeTitle(),showPointer:!0,compact:!0,hideOnKeyDown:!0,skipFadeInAnimation:e})}dispose(){super.dispose(),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.badge.remove()}};Pe.hoverLeaveTime=0;Pe=A([u(3,te),u(4,pi),u(5,T),u(6,ci)],Pe);class kc extends yi{constructor(e){super({id:"additionalComposites.action",name:i("additionalViews","Additional Views"),classNames:Et.asClassNameArray(f.more)}),this.showMenu=e}async run(){this.showMenu()}}let $i=class extends Pe{constructor(e,t,o,n,a,d,g,p,m,E,b,S){super(e,{icon:!0,colors:d,hasPopup:!0,hoverOptions:g},()=>!0,m,E,b,S),this.getOverflowingComposites=t,this.getActiveCompositeId=o,this.getBadge=n,this.getCompositeOpenAction=a,this.contextMenuService=p,this.actions=[]}showMenu(){this.actions&&xt(this.actions),this.actions=this.getActions(),this.contextMenuService.showContextMenu({getAnchor:()=>this.container,getActions:()=>this.actions,getCheckedActionsRepresentation:()=>"radio",onHide:()=>xt(this.actions)})}getActions(){return this.getOverflowingComposites().map(e=>{const t=this.getCompositeOpenAction(e.id);t.checked=this.getActiveCompositeId()===t.id;const o=this.getBadge(e.id);let n;return o instanceof ro?n=o.number:o instanceof so&&(n=o.text),n?t.label=i("numberBadge","{0} ({1})",e.name,n):t.label=e.name||"",t})}dispose(){super.dispose(),this.actions&&(this.actions=xt(this.actions))}};$i=A([u(7,Zi),u(8,te),u(9,pi),u(10,T),u(11,ci)],$i);let Wt=class extends Be{constructor(e){super("activitybar.manage.extension",i("manageExtension","Manage Extension")),this.commandService=e}run(e){return this.commandService.executeCommand("_extensions.manage",e)}};Wt=A([u(0,di)],Wt);let Ji=class nt extends Pe{constructor(e,t,o,n,a,d,g,p,m,E,b,S,v,I){super(t,e,p.areBadgesEnabled.bind(p),S,v,I,E),this.compositeActivityAction=t,this.toggleCompositePinnedAction=o,this.toggleCompositeBadgeAction=n,this.compositeContextMenuActionsProvider=a,this.contextMenuActionsProvider=d,this.dndHandler=g,this.compositeBar=p,this.contextMenuService=m,nt.manageExtensionAction||(nt.manageExtensionAction=b.createInstance(Wt))}render(e){super.render(e),this.updateChecked(),this.updateEnabled(),this._register(Me(this.container,Ae.CONTEXT_MENU,o=>{Ot.stop(o,!0),this.showContextMenu(e)}));let t;this._register(ca.INSTANCE.registerDraggable(this.container,()=>({type:"composite",id:this.activity.id}),{onDragOver:o=>{const n=o.dragAndDropData.getData().id!==this.activity.id&&this.dndHandler.onDragOver(o.dragAndDropData,this.activity.id,o.eventData);da(o.eventData.dataTransfer,"move",n),t=this.updateFromDragging(e,n,o.eventData)},onDragLeave:o=>{t=this.updateFromDragging(e,!1,o.eventData)},onDragEnd:o=>{t=this.updateFromDragging(e,!1,o.eventData)},onDrop:o=>{Ot.stop(o.eventData,!0),this.dndHandler.drop(o.dragAndDropData,this.activity.id,o.eventData,t),t=this.updateFromDragging(e,!1,o.eventData)},onDragStart:o=>{o.dragAndDropData.getData().id===this.activity.id&&(o.eventData.dataTransfer&&(o.eventData.dataTransfer.effectAllowed="move"),this.blur())}})),[this.badge,this.label].forEach(o=>this._register(new un(o,()=>{this.action.checked||this.action.run()}))),this.updateStyles()}updateFromDragging(e,t,o){const n=e.getBoundingClientRect(),a=o.clientX,d=o.clientY,g=n.bottom-n.top,p=n.right-n.left,m=d<=n.top+g*.4,E=d>n.bottom-g*.4,b=d<=n.top+g*.5,S=a<=n.left+p*.4,v=a>n.right-p*.4,I=a<=n.left+p*.5,k=e.classList,M={vertical:k.contains("top")?"top":k.contains("bottom")?"bottom":void 0,horizontal:k.contains("left")?"left":k.contains("right")?"right":void 0},V=m||b&&!M.vertical||!E&&M.vertical==="top",D=E||!b&&!M.vertical||!m&&M.vertical==="bottom",O=S||I&&!M.horizontal||!v&&M.horizontal==="left",ie=v||!I&&!M.horizontal||!S&&M.horizontal==="right";if(e.classList.toggle("top",t&&V),e.classList.toggle("bottom",t&&D),e.classList.toggle("left",t&&O),e.classList.toggle("right",t&&ie),!!t)return{verticallyBefore:V,horizontallyBefore:O}}showContextMenu(e){const t=[this.toggleCompositePinnedAction,this.toggleCompositeBadgeAction],o=this.compositeContextMenuActionsProvider(this.activity.id);o.length&&t.push(...o),this.compositeActivityAction.activity.extensionId&&(t.push(new ki),t.push(nt.manageExtensionAction)),this.compositeBar.isPinned(this.activity.id)?(this.toggleCompositePinnedAction.label=i("hide","Hide '{0}'",this.activity.name),this.toggleCompositePinnedAction.checked=!1):this.toggleCompositePinnedAction.label=i("keep","Keep '{0}'",this.activity.name),this.compositeBar.areBadgesEnabled(this.activity.id)?this.toggleCompositeBadgeAction.label=i("hideBadge","Hide Badge"):this.toggleCompositeBadgeAction.label=i("showBadge","Show Badge");const d=this.contextMenuActionsProvider();d.length&&(t.push(new ki),t.push(...d));const g=gn(e),p={x:Math.floor(g.left+g.width/2),y:g.top+g.height};this.contextMenuService.showContextMenu({getAnchor:()=>p,getActions:()=>t,getActionsContext:()=>this.activity.id})}updateChecked(){this.action.checked?(this.container.classList.add("checked"),this.container.setAttribute("aria-label",this.container.title),this.container.setAttribute("aria-expanded","true"),this.container.setAttribute("aria-selected","true")):(this.container.classList.remove("checked"),this.container.setAttribute("aria-label",this.container.title),this.container.setAttribute("aria-expanded","false"),this.container.setAttribute("aria-selected","false")),this.updateStyles()}updateEnabled(){this.element&&(this.action.enabled?this.element.classList.remove("disabled"):this.element.classList.add("disabled"))}dispose(){super.dispose(),this.label.remove()}};Ji=A([u(8,Zi),u(9,ci),u(10,ft),u(11,te),u(12,pi),u(13,T)],Ji);class Ps extends Be{constructor(e,t){super("show.toggleCompositePinned",e?e.name:i("toggle","Toggle View Pinned")),this.activity=e,this.compositeBar=t,this.checked=!!this.activity&&this.compositeBar.isPinned(this.activity.id)}async run(e){const t=this.activity?this.activity.id:e;this.compositeBar.isPinned(t)?this.compositeBar.unpin(t):this.compositeBar.pin(t)}}class xc extends Be{constructor(e,t){super("show.toggleCompositeBadge",e?e.name:i("toggleBadge","Toggle View Badge")),this.activity=e,this.compositeBar=t,this.checked=!1}async run(e){const t=this.activity?this.activity.id:e;this.compositeBar.toggleBadgeEnablement(t)}}var Ze;const Rs=y("auxiliarybar-right-layout-icon",f.layoutSidebarRight,i("toggleAuxiliaryIconRight","Icon to toggle the auxiliary bar off in its right position.")),_s=y("auxiliarybar-right-off-layout-icon",f.layoutSidebarRightOff,i("toggleAuxiliaryIconRightOn","Icon to toggle the auxiliary bar on in its right position.")),Bs=y("auxiliarybar-left-layout-icon",f.layoutSidebarLeft,i("toggleAuxiliaryIconLeft","Icon to toggle the auxiliary bar in its left position.")),Os=y("auxiliarybar-left-off-layout-icon",f.layoutSidebarLeftOff,i("toggleAuxiliaryIconLeftOn","Icon to toggle the auxiliary bar on in its left position."));class H extends L{constructor(){super({id:H.ID,title:{value:H.LABEL,original:"Toggle Secondary Side Bar Visibility"},toggled:{condition:he,title:i("secondary sidebar","Secondary Side Bar"),mnemonicTitle:i({key:"secondary sidebar mnemonic",comment:["&& denotes a mnemonic"]},"Secondary Si&&de Bar")},category:C.View,f1:!0,keybinding:{weight:200,primary:2592},menu:[{id:s.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:1},{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:2}]})}async run(e){const t=e.get(x);t.setPartHidden(t.isVisible("workbench.parts.auxiliarybar"),"workbench.parts.auxiliarybar")}}H.ID="workbench.action.toggleAuxiliaryBar";H.LABEL=i("toggleAuxiliaryBar","Toggle Secondary Side Bar Visibility");r(H);r((Ze=class zt extends L{constructor(){super({id:zt.ID,title:{value:zt.LABEL,original:"Focus into Secondary Side Bar"},category:C.View,f1:!0})}async run(e){const t=e.get(Ne),o=e.get(x);o.isVisible("workbench.parts.auxiliarybar")||o.setPartHidden(!1,"workbench.parts.auxiliarybar");const n=t.getActivePaneComposite(2);n==null||n.focus()}},Ze.ID="workbench.action.focusAuxiliaryBar",Ze.LABEL=i("focusAuxiliaryBar","Focus into Secondary Side Bar"),Ze));c.appendMenuItems([{id:s.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:H.ID,title:i("toggleSecondarySideBar","Toggle Secondary Side Bar"),toggled:{condition:he,icon:Bs},icon:Os},when:h.and(h.or(h.equals("config.workbench.layoutControl.type","toggles"),h.equals("config.workbench.layoutControl.type","both")),h.equals("config.workbench.sideBar.location","right")),order:0}},{id:s.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:H.ID,title:i("toggleSecondarySideBar","Toggle Secondary Side Bar"),toggled:{condition:he,icon:Rs},icon:_s},when:h.and(h.or(h.equals("config.workbench.layoutControl.type","toggles"),h.equals("config.workbench.layoutControl.type","both")),h.equals("config.workbench.sideBar.location","left")),order:2}},{id:s.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:H.ID,title:{value:i("hideAuxiliaryBar","Hide Secondary Side Bar"),original:"Hide Secondary Side Bar"}},when:h.and(he,h.equals("viewLocation",co(2))),order:2}}]);var Gs=".monaco-workbench.nopanel .part.panel{display:none!important;visibility:hidden!important}.monaco-workbench .part.panel.bottom .composite.title{border-top-style:solid;border-top-width:1px}.monaco-workbench.noeditorarea .part.panel.bottom .composite.title{border-top-width:0}.monaco-workbench .part.panel.right{border-left-style:solid;border-left-width:1px}.monaco-workbench.noeditorarea .part.panel.right{border-left-width:0}.monaco-workbench .part.panel.left{border-right-style:solid;border-right-width:1px}.monaco-workbench.noeditorarea .part.panel.left{border-right-width:0}.monaco-workbench .part.panel>.content .monaco-editor,.monaco-workbench .part.panel>.content .monaco-editor .margin,.monaco-workbench .part.panel>.content .monaco-editor .monaco-editor-background{background-color:var(--vscode-panel-background)}.monaco-workbench .part.panel>.title>.panel-switcher-container>.monaco-action-bar .action-item:focus .action-label,.monaco-workbench .part.panel>.title>.panel-switcher-container>.monaco-action-bar .action-item:hover .action-label{color:var(--vscode-panelTitle-activeForeground)!important}.monaco-workbench .part.panel .monaco-inputbox{border-color:var(--vscode-panelInput-border,transparent)!important}.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item:focus .active-item-indicator:before{border-top-color:var(--vscode-focusBorder)!important}.monaco-workbench .part.panel>.title>.panel-switcher-container>.monaco-action-bar .action-item:focus{outline:none}.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item.checked.clicked:focus .active-item-indicator:before,.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item.checked:not(:focus) .active-item-indicator:before{border-top-color:var(--vscode-panelTitle-activeBorder)!important}.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item.checked .action-label,.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item:hover .action-label{outline:var(--vscode-contrastActiveBorder,unset) solid 1px!important}.monaco-workbench .part.basepanel>.title>.panel-switcher-container>.monaco-action-bar .action-item:not(.checked):hover .action-label{outline:var(--vscode-contrastActiveBorder,unset) dashed 1px!important}";mi(Gs,{});var et;y("panel-maximize",f.chevronUp,i("maximizeIcon","Icon to maximize a panel."));y("panel-restore",f.chevronDown,i("restoreIcon","Icon to restore a panel."));const Ns=y("panel-close",f.close,i("closeIcon","Icon to close a panel.")),Fs=y("panel-layout-icon",f.layoutPanel,i("togglePanelOffIcon","Icon to toggle the panel off when it is on.")),Vs=y("panel-layout-icon-off",f.layoutPanelOff,i("togglePanelOnIcon","Icon to toggle the panel on when it is off."));class $ extends L{constructor(){super({id:$.ID,title:{value:$.LABEL,original:"Toggle Panel Visibility"},toggled:{condition:rt,title:i("toggle panel","Panel"),mnemonicTitle:i({key:"toggle panel mnemonic",comment:["&& denotes a mnemonic"]},"&&Panel")},f1:!0,category:C.View,keybinding:{primary:2088,weight:200},menu:[{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:5},{id:s.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:4}]})}async run(e){const t=e.get(x);t.setPartHidden(t.isVisible("workbench.parts.panel"),"workbench.parts.panel")}}$.ID="workbench.action.togglePanel";$.LABEL=i("togglePanelVisibility","Toggle Panel Visibility");r($);r((et=class extends L{constructor(){super({id:"workbench.action.focusPanel",title:{value:i("focusPanel","Focus into Panel"),original:"Focus into Panel"},category:C.View,f1:!0})}async run(l){const e=l.get(x),t=l.get(Ne);e.isVisible("workbench.parts.panel")||e.setPartHidden(!1,"workbench.parts.panel");const o=t.getActivePaneComposite(1);o==null||o.focus()}},et.ID="workbench.action.focusPanel",et.LABEL=i("focusPanel","Focus into Panel"),et));const Rt={LEFT:"workbench.action.positionPanelLeft",RIGHT:"workbench.action.positionPanelRight",BOTTOM:"workbench.action.positionPanelBottom"},tt={LEFT:"workbench.action.alignPanelLeft",RIGHT:"workbench.action.alignPanelRight",CENTER:"workbench.action.alignPanelCenter",JUSTIFY:"workbench.action.alignPanelJustify"};function zo(l,e,t,o,n){return{id:l,title:e,shortLabel:t,value:o,when:n}}function _t(l,e,t,o){return zo(l,e,t,o,la.notEqualsTo(lo(o)))}function it(l,e,t,o){return zo(l,e,t,o,Le.notEqualsTo(o))}const Us=[_t(Rt.LEFT,{value:i("positionPanelLeft","Move Panel Left"),original:"Move Panel Left"},i("positionPanelLeftShort","Left"),0),_t(Rt.RIGHT,{value:i("positionPanelRight","Move Panel Right"),original:"Move Panel Right"},i("positionPanelRightShort","Right"),1),_t(Rt.BOTTOM,{value:i("positionPanelBottom","Move Panel To Bottom"),original:"Move Panel To Bottom"},i("positionPanelBottomShort","Bottom"),2)],qs=[it(tt.LEFT,{value:i("alignPanelLeft","Set Panel Alignment to Left"),original:"Set Panel Alignment to Left"},i("alignPanelLeftShort","Left"),"left"),it(tt.RIGHT,{value:i("alignPanelRight","Set Panel Alignment to Right"),original:"Set Panel Alignment to Right"},i("alignPanelRightShort","Right"),"right"),it(tt.CENTER,{value:i("alignPanelCenter","Set Panel Alignment to Center"),original:"Set Panel Alignment to Center"},i("alignPanelCenterShort","Center"),"center"),it(tt.JUSTIFY,{value:i("alignPanelJustify","Set Panel Alignment to Justify"),original:"Set Panel Alignment to Justify"},i("alignPanelJustifyShort","Justify"),"justify")];c.appendMenuItem(s.MenubarAppearanceMenu,{submenu:s.PanelPositionMenu,title:i("positionPanel","Panel Position"),group:"3_workbench_layout_move",order:4});Us.forEach(l=>{const{id:e,title:t,shortLabel:o,value:n,when:a}=l;r(class extends L{constructor(){super({id:e,title:t,category:C.View,f1:!0})}run(d){d.get(x).setPanelPosition(n===void 0?2:n)}}),c.appendMenuItem(s.PanelPositionMenu,{command:{id:e,title:o,toggled:a.negate()},order:5})});c.appendMenuItem(s.MenubarAppearanceMenu,{submenu:s.PanelAlignmentMenu,title:i("alignPanel","Align Panel"),group:"3_workbench_layout_move",order:5});qs.forEach(l=>{const{id:e,title:t,shortLabel:o,value:n,when:a}=l;r(class extends L{constructor(){super({id:e,title:t,category:C.View,toggled:a.negate(),f1:!0})}run(d){d.get(x).setPanelAlignment(n===void 0?"center":n)}}),c.appendMenuItem(s.PanelAlignmentMenu,{command:{id:e,title:o,toggled:a.negate()},order:5})});let Kt=class extends yi{constructor(e,t,o){super(e),this.viewContainerLocation=t,this.paneCompositeService=o}async run(){await this.paneCompositeService.openPaneComposite(this.activity.id,this.viewContainerLocation,!0),this.activate()}setActivity(e){this.activity=e}};Kt=A([u(2,Ne)],Kt);let Qi=class extends Kt{constructor(e,t,o){super({id:e,name:e},t,o)}};Qi=A([u(2,Ne)],Qi);class _c extends Ps{constructor(e,t){super({id:e,name:e,classNames:void 0},t)}setActivity(e){this.label=e.name}}class Ko extends L{constructor(e,t){super({id:e,title:t,category:C.View,f1:!0})}async run(e,t){const o=e.get(Ne),n=o.getPinnedPaneCompositeIds(1),a=o.getActivePaneComposite(1);if(!a)return;let d;for(let g=0;g<n.length;g++)if(n[g]===a.getId()){d=n[(g+n.length+t)%n.length];break}typeof d=="string"&&await o.openPaneComposite(d,1,!0)}}r(class extends Ko{constructor(){super("workbench.action.previousPanelView",{value:i("previousPanelView","Previous Panel View"),original:"Previous Panel View"})}run(l){return super.run(l,-1)}});r(class extends Ko{constructor(){super("workbench.action.nextPanelView",{value:i("nextPanelView","Next Panel View"),original:"Next Panel View"})}run(l){return super.run(l,1)}});r(class extends L{constructor(){super({id:"workbench.action.closeAuxiliaryBar",title:{value:i("closeSecondarySideBar","Close Secondary Side Bar"),original:"Close Secondary Side Bar"},category:C.View,icon:Ns,menu:[{id:s.CommandPalette,when:he},{id:s.AuxiliaryBarTitle,group:"navigation",order:2}]})}run(l){l.get(x).setPartHidden(!0,"workbench.parts.auxiliarybar")}});c.appendMenuItems([{id:s.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:$.ID,title:i("togglePanel","Toggle Panel"),icon:Vs,toggled:{condition:rt,icon:Fs}},when:h.or(h.equals("config.workbench.layoutControl.type","toggles"),h.equals("config.workbench.layoutControl.type","both")),order:1}},{id:s.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:$.ID,title:{value:i("hidePanel","Hide Panel"),original:"Hide Panel"}},when:h.and(rt,h.equals("viewLocation",co(1))),order:2}}]);class At extends L{constructor(e,t,o){super(o),this.source=e,this.destination=t}run(e,...t){const o=e.get(ua),n=e.get(x),a=e.get(ga),d=o.getViewContainersByLocation(this.source),g=o.getViewContainersByLocation(this.destination);if(d.length){const p=a.getVisibleViewContainer(this.source);d.forEach(m=>o.moveViewContainerToLocation(m,this.destination)),n.setPartHidden(!1,this.destination===1?"workbench.parts.panel":"workbench.parts.auxiliarybar"),p&&g.length===0&&a.openViewContainer(p.id,!0)}}}const ut=class ut extends At{constructor(){super(1,2,{id:ut.ID,title:{value:i("movePanelToSecondarySideBar","Move Panel Views To Secondary Side Bar"),original:"Move Panel Views To Secondary Side Bar"},category:C.View,f1:!1})}};de(ut,"ID","workbench.action.movePanelToSidePanel");let $t=ut;class Lt extends At{constructor(){super(1,2,{id:Lt.ID,title:{value:i("movePanelToSecondarySideBar","Move Panel Views To Secondary Side Bar"),original:"Move Panel Views To Secondary Side Bar"},category:C.View,f1:!0})}}Lt.ID="workbench.action.movePanelToSecondarySideBar";r($t);r(Lt);const gt=class gt extends At{constructor(){super(2,1,{id:gt.ID,title:{value:i("moveSidePanelToPanel","Move Secondary Side Bar Views To Panel"),original:"Move Secondary Side Bar Views To Panel"},category:C.View,f1:!1})}};de(gt,"ID","workbench.action.moveSidePanelToPanel");let Jt=gt;class kt extends At{constructor(){super(2,1,{id:kt.ID,title:{value:i("moveSidePanelToPanel","Move Secondary Side Bar Views To Panel"),original:"Move Secondary Side Bar Views To Panel"},category:C.View,f1:!0})}}kt.ID="workbench.action.moveSecondarySideBarToPanel";r(Jt);r(kt);const Hs=y("menuBar",f.layoutMenubar,i("menuBarIcon","Represents the menu bar")),Ws=y("activity-bar-left",f.layoutActivitybarLeft,i("activityBarLeft","Represents the activity bar in the left position")),zs=y("activity-bar-right",f.layoutActivitybarRight,i("activityBarRight","Represents the activity bar in the right position")),Qt=y("panel-left",f.layoutSidebarLeft,i("panelLeft","Represents a side bar in the left position"));y("panel-left-off",f.layoutSidebarLeftOff,i("panelLeftOff","Represents a side bar in the left position toggled off"));const jt=y("panel-right",f.layoutSidebarRight,i("panelRight","Represents side bar in the right position"));y("panel-right-off",f.layoutSidebarRightOff,i("panelRightOff","Represents side bar in the right position toggled off"));const Ks=y("panel-bottom",f.layoutPanel,i("panelBottom","Represents the bottom panel")),$s=y("statusBar",f.layoutStatusbar,i("statusBarIcon","Represents the status bar")),Js=y("panel-align-left",f.layoutPanelLeft,i("panelBottomLeft","Represents the bottom panel alignment set to the left")),Qs=y("panel-align-right",f.layoutPanelRight,i("panelBottomRight","Represents the bottom panel alignment set to the right")),js=y("panel-align-center",f.layoutPanelCenter,i("panelBottomCenter","Represents the bottom panel alignment set to the center")),Ys=y("panel-align-justify",f.layoutPanelJustify,i("panelBottomJustify","Represents the bottom panel alignment set to justified")),Xs=y("fullscreen",f.screenFull,i("fullScreenIcon","Represents full screen")),Zs=y("centerLayoutIcon",f.layoutCentered,i("centerLayoutIcon","Represents centered layout mode")),ec=y("zenMode",f.target,i("zenModeIcon","Represents zen mode"));class me extends L{constructor(){super({id:me.ID,title:{value:i("toggleActivityBar","Toggle Activity Bar Visibility"),mnemonicTitle:i({key:"miActivityBar",comment:["&& denotes a mnemonic"]},"&&Activity Bar"),original:"Toggle Activity Bar Visibility"},category:C.View,f1:!0,toggled:h.equals("config.workbench.activityBar.visible",!0),menu:[{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:4}]})}run(e){const t=e.get(x),o=e.get(T),a=!t.isVisible("workbench.parts.activitybar");o.updateValue(me.activityBarVisibleKey,a)}}me.ID="workbench.action.toggleActivityBarVisibility";me.activityBarVisibleKey="workbench.activityBar.visible";const $o="workbench.sideBar.location";class Jo extends L{constructor(e,t,o){super({id:e,title:t,f1:!1}),this.position=o}async run(e){const t=e.get(x),o=e.get(T);if(t.getSideBarPosition()!==this.position)return o.updateValue($o,lo(this.position))}}const ht=class ht extends Jo{constructor(){super(ht.ID,{value:i("moveSidebarRight","Move Primary Side Bar Right"),original:"Move Primary Side Bar Right"},1)}};de(ht,"ID","workbench.action.moveSideBarRight");let Yt=ht;const pt=class pt extends Jo{constructor(){super(pt.ID,{value:i("moveSidebarLeft","Move Primary Side Bar Left"),original:"Move Primary Side Bar Left"},0)}};de(pt,"ID","workbench.action.moveSideBarLeft");let Xt=pt;class Tt extends L{static getLabel(e){return e.getSideBarPosition()===0?i("moveSidebarRight","Move Primary Side Bar Right"):i("moveSidebarLeft","Move Primary Side Bar Left")}constructor(){super({id:Tt.ID,title:{value:i("toggleSidebarPosition","Toggle Primary Side Bar Position"),original:"Toggle Primary Side Bar Position"},category:C.View,f1:!0})}run(e){const t=e.get(x),o=e.get(T),a=t.getSideBarPosition()===0?"right":"left";return o.updateValue($o,a)}}Tt.ID="workbench.action.toggleSidebarPosition";Tt.LABEL=i("toggleSidebarPosition","Toggle Primary Side Bar Position");y("configure-layout-icon",f.layout,i("cofigureLayoutIcon","Icon represents workbench layout configuration."));const mt=class mt extends L{constructor(){super({id:mt.ID,title:{value:i("toggleSidebar","Toggle Primary Side Bar Visibility"),original:"Toggle Primary Side Bar Visibility"},toggled:{condition:uo,title:i("primary sidebar","Primary Side Bar"),mnemonicTitle:i({key:"primary sidebar mnemonic",comment:["&& denotes a mnemonic"]},"&&Primary Side Bar")},category:C.View,f1:!0,keybinding:{weight:200,primary:2080},menu:[{id:s.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:0},{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:1}]})}run(e){const t=e.get(x);t.setPartHidden(t.isVisible("workbench.parts.sidebar"),"workbench.parts.sidebar")}};de(mt,"ID","workbench.action.toggleSidebarVisibility");let Zt=mt;class fe extends L{constructor(){super({id:fe.ID,title:{value:i("toggleStatusbar","Toggle Status Bar Visibility"),mnemonicTitle:i({key:"miStatusbar",comment:["&& denotes a mnemonic"]},"S&&tatus Bar"),original:"Toggle Status Bar Visibility"},category:C.View,f1:!0,toggled:h.equals("config.workbench.statusBar.visible",!0),menu:[{id:s.MenubarAppearanceMenu,group:"2_workbench_layout",order:3}]})}run(e){const t=e.get(x),o=e.get(T),a=!t.isVisible("workbench.parts.statusbar");return o.updateValue(fe.statusbarVisibleKey,a)}}fe.ID="workbench.action.toggleStatusbarVisibility";fe.statusbarVisibleKey="workbench.statusBar.visible";class we extends L{constructor(){super({id:we.ID,title:{value:i("toggleTabs","Toggle Tab Visibility"),original:"Toggle Tab Visibility"},category:C.View,f1:!0})}run(e){const t=e.get(T),n=!t.getValue("workbench.editor.showTabs");return t.updateValue("workbench.editor.showTabs",n)}}we.ID="workbench.action.toggleTabsVisibility";r(we);li.registerCommandAndKeybindingRule({id:"workbench.action.exitZenMode",weight:100-1e3,handler(l){const e=l.get(x),t=l.get(ui);Nt.getValue(t)&&e.toggleZenMode()},when:Nt,primary:eo(9,9)});const ue=(l,e,t,o)=>({id:l,active:e,label:t,visualIcon:o,activeIcon:f.eye,inactiveIcon:f.eyeClosed,activeAriaLabel:i("selectToHide","Select to Hide"),inactiveAriaLabel:i("selectToShow","Select to Show"),useButtons:!0}),K=(l,e,t,o)=>({id:l,active:e,label:t,visualIcon:o,activeIcon:f.check,activeAriaLabel:i("active","Active"),useButtons:!1}),tc=h.and(hn.toNegated(),h.notEquals("config.window.menuBarVisibility","hidden"),h.notEquals("config.window.menuBarVisibility","toggle"),h.notEquals("config.window.menuBarVisibility","compact")),Ci=[];(!pn||!mn)&&Ci.push(ue("workbench.action.toggleMenuBar",tc,i("menuBar","Menu Bar"),Hs));Ci.push(ue(me.ID,h.equals("config.workbench.activityBar.visible",!0),i("activityBar","Activity Bar"),{whenA:h.equals("config.workbench.sideBar.location","left"),iconA:Ws,iconB:zs}),ue(Zt.ID,uo,i("sideBar","Primary Side Bar"),{whenA:h.equals("config.workbench.sideBar.location","left"),iconA:Qt,iconB:jt}),ue(H.ID,he,i("secondarySideBar","Secondary Side Bar"),{whenA:h.equals("config.workbench.sideBar.location","left"),iconA:jt,iconB:Qt}),ue($.ID,rt,i("panel","Panel"),Ks),ue(fe.ID,h.equals("config.workbench.statusBar.visible",!0),i("statusBar","Status Bar"),$s));const ic=[K(Xt.ID,h.equals("config.workbench.sideBar.location","left"),i("leftSideBar","Left"),Qt),K(Yt.ID,h.equals("config.workbench.sideBar.location","right"),i("rightSideBar","Right"),jt)],oc=[K("workbench.action.alignPanelLeft",Le.isEqualTo("left"),i("leftPanel","Left"),Js),K("workbench.action.alignPanelRight",Le.isEqualTo("right"),i("rightPanel","Right"),Qs),K("workbench.action.alignPanelCenter",Le.isEqualTo("center"),i("centerPanel","Center"),js),K("workbench.action.alignPanelJustify",Le.isEqualTo("justify"),i("justifyPanel","Justify"),Ys)],nc=[K("workbench.action.toggleFullScreen",ha,i("fullscreen","Full Screen"),Xs),K("workbench.action.toggleZenMode",Nt,i("zenMode","Zen Mode"),ec),K("workbench.action.toggleCenteredLayout",pa,i("centeredLayout","Centered Layout"),Zs)],ac=new Set;for(const{active:l}of[...Ci,...ic,...oc,...nc])for(const e of l.keys())ac.add(e);var rc=".monaco-editor-pane-placeholder{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;gap:10px;justify-content:center;padding:0 16px}.monaco-editor-pane-placeholder:focus{outline:none!important}.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon{font-size:48px}.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon.codicon-error{color:var(--vscode-editorError-foreground)}.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon.codicon-warning{color:var(--vscode-editorWarning-foreground)}.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon.codicon-info,.monaco-editor-pane-placeholder .editor-placeholder-icon-container .codicon.codicon-workspace-untrusted{color:var(--vscode-editorInfo-foreground)}.monaco-editor-pane-placeholder.max-height-200px .editor-placeholder-icon-container{display:none}.monaco-editor-pane-placeholder .editor-placeholder-label-container{font-size:14px;max-width:450px;text-align:center;word-break:break-word}.monaco-editor-pane-placeholder .editor-placeholder-buttons-container{display:flex}.monaco-editor-pane-placeholder .editor-placeholder-buttons-container>.monaco-button{font-size:14px;margin:4px 5px;outline-offset:2px!important;padding:6px 11px;width:fit-content}";mi(rc,{});let be=class Qo extends fa{constructor(e,t,o,n){super(e,t,o,n),this.inputDisposable=this._register(new P)}createEditor(e){this.container=document.createElement("div"),this.container.className="monaco-editor-pane-placeholder",this.container.style.outline="none",this.container.tabIndex=0,this.scrollbar=this._register(new bn(this.container,{horizontal:1,vertical:1})),e.appendChild(this.scrollbar.getDomNode())}async setInput(e,t,o,n){await super.setInput(e,t,o,n),!n.isCancellationRequested&&(this.inputDisposable.value=await this.renderInput(e,t))}async renderInput(e,t){const[o,n]=Ti(this.container,this.scrollbar);Bt(o);const a=new bt,{icon:d,label:g,actions:p}=await this.getContents(e,t,a),m=En(g,Qo.PLACEHOLDER_LABEL_MAX_LENGTH),E=o.appendChild(ae(".editor-placeholder-icon-container")),b=new Ds(E);b.text=d;const S=o.appendChild(ae(".editor-placeholder-label-container")),v=document.createElement("span");if(v.textContent=m,S.appendChild(v),o.setAttribute("aria-label",`${ba(e,void 0,this.group,void 0)}, ${m}`),p.length){const I=o.appendChild(ae(".editor-placeholder-buttons-container")),k=a.add(new vn(I));for(let M=0;M<p.length;M++){const V=a.add(k.addButton({...Sn,secondary:M!==0}));V.label=p[M].label,a.add(V.onDidClick(D=>{D&&Ot.stop(D,!0),p[M].run()}))}}return n.scanDomNode(),a}clearInput(){this.container&&Bt(this.container),this.inputDisposable.clear(),super.clearInput()}layout(e){const[t,o]=Ti(this.container,this.scrollbar);yn(t,e.width,e.height),o.scanDomNode(),t.classList.toggle("max-height-200px",e.height<=200)}focus(){Q(this.container).focus()}dispose(){var e;(e=this.container)==null||e.remove(),super.dispose()}};be.PLACEHOLDER_LABEL_MAX_LENGTH=1024;be=A([u(1,Oe),u(2,te),u(3,Ge)],be);let j=class ei extends be{constructor(e,t,o,n,a){super(ei.ID,e,t,a),this.commandService=o,this.workspaceService=n}getTitle(){return ei.LABEL}async getContents(){return{icon:"$(workspace-untrusted)",label:Cn(wn(this.workspaceService.getWorkspace()))?i("requiresFolderTrustText","The file is not displayed in the editor because trust has not been granted to the folder."):i("requiresWorkspaceTrustText","The file is not displayed in the editor because trust has not been granted to the workspace."),actions:[{label:i("manageTrust","Manage Workspace Trust"),run:()=>this.commandService.executeCommand("workbench.trust.manage")}]}}};j.ID="workbench.editors.workspaceTrustRequiredEditor";j.LABEL=i("trustRequiredEditor","Workspace Trust Required");j.DESCRIPTOR=ve.create(j,j.ID,j.LABEL);j=A([u(0,Oe),u(1,te),u(2,di),u(3,fn),u(4,Ge)],j);let Y=class jo extends be{constructor(e,t,o,n,a){super(jo.ID,e,t,o),this.fileService=n,this.dialogService=a}async getContents(e,t,o){const n=e.resource,a=this.group,d=t.error,g=(d==null?void 0:d.fileOperationResult)===1;let p;g?p=i("unavailableResourceErrorEditorText","The editor could not be opened because the file was not found."):Pt(d)&&d.forceMessage?p=d.message:d?p=i("unknownErrorEditorTextWithError","The editor could not be opened due to an unexpected error: {0}",Di(d)):p=i("unknownErrorEditorTextWithoutError","The editor could not be opened due to an unexpected error.");let m="$(error)";Pt(d)&&(d.forceSeverity===Gt.Info?m="$(info)":d.forceSeverity===Gt.Warning&&(m="$(warning)"));let E;return Pt(d)&&d.actions.length>0?E=d.actions.map(b=>({label:b.label,run:()=>{const S=b.run();S instanceof Promise&&S.catch(v=>this.dialogService.error(Di(v)))}})):a&&(E=[{label:i("retry","Try Again"),run:()=>a.openEditor(e,{...t,source:In.USER})}]),a&&g&&n&&this.fileService.hasProvider(n)&&o.add(this.fileService.onDidFilesChange(b=>{b.contains(n,1,0)&&a.openEditor(e,t)})),{icon:m,label:p,actions:E??[]}}};Y.ID="workbench.editors.errorEditor";Y.LABEL=i("errorEditor","Error Editor");Y.DESCRIPTOR=ve.create(Y,Y.ID,Y.LABEL);Y=A([u(0,Oe),u(1,te),u(2,Ge),u(3,gi),u(4,ma)],Y);let ti=class extends Ea{constructor(e,t,o){super(),this.resource=e,this.name=t,this.fileService=o,this.mime=Mn.binary}getName(){return this.name}getSize(){return this.size}getMime(){return this.mime}getETag(){return this.etag}async resolve(){if(this.fileService.hasProvider(this.resource)){const e=await this.fileService.stat(this.resource);this.etag=e.etag,typeof e.size=="number"&&(this.size=e.size)}return super.resolve()}};ti=A([u(2,gi)],ti);let X=class extends be{constructor(e,t,o,n,a){super(e,o,n,a),this.callbacks=t,this._onDidChangeMetadata=this._register(new Te),this.onDidChangeMetadata=this._onDidChangeMetadata.event,this._onDidOpenInPlace=this._register(new Te),this.onDidOpenInPlace=this._onDidOpenInPlace.event}getTitle(){return this.input?this.input.getName():i("binaryEditor","Binary Viewer")}async getContents(e,t){const o=await e.resolve(t);if(!(o instanceof ti))throw new Error("Unable to open file as binary");const n=o.getSize();return this.handleMetadataChanged(typeof n=="number"?to.formatSize(n):""),{icon:"$(warning)",label:i("binaryError","The file is not displayed in the text editor because it is either binary or uses an unsupported text encoding."),actions:[{label:i("openAnyway","Open Anyway"),run:async()=>{await this.callbacks.openInternal(e,t),this._onDidOpenInPlace.fire()}}]}}handleMetadataChanged(e){this.metadata=e,this._onDidChangeMetadata.fire()}getMetadata(){return this.metadata}};X=A([u(4,Ge)],X);let ee=class extends Ft{constructor(e,t,o,n,a,d,g,p){super(e,t,o,n,a,d,g,p)}getMetadata(){const e=this.getPrimaryEditorPane(),t=this.getSecondaryEditorPane();if(e instanceof X&&t instanceof X)return i("metadataDiff","{0} â†” {1}",t.getMetadata(),e.getMetadata())}};ee.ID=va;ee=A([u(0,Oe),u(1,ft),u(2,te),u(3,Ge),u(4,T),u(5,io),u(6,ce),u(7,go)],ee);var sc=".monaco-workbench .screen-reader-detected-explanation{cursor:default;padding:1em;right:6px;top:30px;width:420px}.monaco-workbench .screen-reader-detected-explanation .cancel{border:none;cursor:pointer;height:22px;padding:.5em;position:absolute;right:0;top:0;width:22px}.monaco-workbench .screen-reader-detected-explanation h2{font-size:1.8em;font-weight:400;margin:0;padding:0}.monaco-workbench .screen-reader-detected-explanation p{font-size:1.2em}.monaco-workbench .screen-reader-detected-explanation hr{border:0;height:2px}.monaco-workbench .screen-reader-detected-explanation .buttons{display:flex}.monaco-workbench .screen-reader-detected-explanation .buttons a{font-size:13px;margin-right:5px;max-width:fit-content;padding-left:12px;padding-right:12px}";mi(sc,{});const cc=new An("editorTabFocusMode",!1,!0);let ii=class extends se{constructor(e,t){super(),this._onDidChange=this._register(new Te),this.onDidChange=this._onDidChange.event,this._editorContext=cc.bindTo(e),this._terminalContext=Sa.bindTo(e);const o=t.getValue("editor.tabFocusMode"),n=t.getValue("terminal.integrated.tabFocusMode")??o;this._editorContext.set(o),this._terminalContext.set(n),q.setTabFocusMode(o,"editorFocus"),q.setTabFocusMode(n,"terminalFocus");const a=new Set;a.add("focusedView"),this._register(e.onDidChangeContext(d=>{if(d.affectsSome(a)){const g=e.getContextKeyValue("focusedView")==="terminal",p=g?"terminalFocus":"editorFocus";if(this._previousViewContext===p)return;g?this._editorContext.reset():this._terminalContext.reset(),this._previousViewContext=p,this._onDidChange.fire()}})),this._register(t.onDidChangeConfiguration(d=>{if(d.affectsConfiguration("editor.tabFocusMode")){const g=t.getValue("editor.tabFocusMode");q.setTabFocusMode(g,"editorFocus"),this._editorContext.set(g),t.getValue("terminal.integrated.tabFocusMode")===null&&(t.updateValue("terminal.integrated.tabFocusMode",g),q.setTabFocusMode(g,"terminalFocus"),this._terminalContext.set(g)),this._onDidChange.fire()}else if(d.affectsConfiguration("terminal.integrated.tabFocusMode")){const g=t.getValue("terminal.integrated.tabFocusMode")??t.getValue("editor.tabFocusMode");t.updateValue("terminal.integrated.tabFocusMode",g),q.setTabFocusMode(g,"terminalFocus"),this._terminalContext.set(g),this._onDidChange.fire()}})),q.onDidChangeTabFocus(()=>{const d=e.getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus";d==="terminalFocus"?this._terminalContext.set(q.getTabFocusMode(d)):this._editorContext.set(q.getTabFocusMode(d))})}};ii=A([u(0,ui),u(1,T)],ii);class dc{constructor(e,t){this.primary=e,this.secondary=t}getEncoding(){return this.primary.getEncoding()}async setEncoding(e,t){await Wn.settled([this.primary,this.secondary].map(o=>o.setEncoding(e,t)))}}class lc{constructor(e,t){this.primary=e,this.secondary=t}setLanguageId(e,t){[this.primary,this.secondary].forEach(o=>o.setLanguageId(e,t))}}function Re(l){if(l instanceof Fe)return l;if(l instanceof Ei){const t=Re(l.primary),o=Re(l.secondary);return t&&o?new dc(t,o):t}const e=l;return Hn(e.setEncoding,e.getEncoding)?e:null}function dt(l){if(l instanceof Fe)return l;if(l instanceof Ei){const t=dt(l.primary),o=dt(l.secondary);return t&&o?new lc(t,o):t}const e=l;return typeof e.setLanguageId=="function"?e:null}class uc{constructor(){this.indentation=!1,this.selectionStatus=!1,this.languageId=!1,this.languageStatus=!1,this.encoding=!1,this.EOL=!1,this.tabFocusMode=!1,this.columnSelectionMode=!1,this.metadata=!1}combine(e){this.indentation=this.indentation||e.indentation,this.selectionStatus=this.selectionStatus||e.selectionStatus,this.languageId=this.languageId||e.languageId,this.languageStatus=this.languageStatus||e.languageStatus,this.encoding=this.encoding||e.encoding,this.EOL=this.EOL||e.EOL,this.tabFocusMode=this.tabFocusMode||e.tabFocusMode,this.columnSelectionMode=this.columnSelectionMode||e.columnSelectionMode,this.metadata=this.metadata||e.metadata}hasChanges(){return this.indentation||this.selectionStatus||this.languageId||this.languageStatus||this.encoding||this.EOL||this.tabFocusMode||this.columnSelectionMode||this.metadata}}class gc{get selectionStatus(){return this._selectionStatus}get languageId(){return this._languageId}get encoding(){return this._encoding}get EOL(){return this._EOL}get indentation(){return this._indentation}get tabFocusMode(){return this._tabFocusMode}get columnSelectionMode(){return this._columnSelectionMode}get metadata(){return this._metadata}update(e){const t=new uc;switch(e.type){case"selectionStatus":this._selectionStatus!==e.selectionStatus&&(this._selectionStatus=e.selectionStatus,t.selectionStatus=!0);break;case"indentation":this._indentation!==e.indentation&&(this._indentation=e.indentation,t.indentation=!0);break;case"languageId":this._languageId!==e.languageId&&(this._languageId=e.languageId,t.languageId=!0);break;case"encoding":this._encoding!==e.encoding&&(this._encoding=e.encoding,t.encoding=!0);break;case"EOL":this._EOL!==e.EOL&&(this._EOL=e.EOL,t.EOL=!0);break;case"tabFocusMode":this._tabFocusMode!==e.tabFocusMode&&(this._tabFocusMode=e.tabFocusMode,t.tabFocusMode=!0);break;case"columnSelectionMode":this._columnSelectionMode!==e.columnSelectionMode&&(this._columnSelectionMode=e.columnSelectionMode,t.columnSelectionMode=!0);break;case"metadata":this._metadata!==e.metadata&&(this._metadata=e.metadata,t.metadata=!0);break}return t}}const hc=i("singleSelectionRange","Ln {0}, Col {1} ({2} selected)"),pc=i("singleSelection","Ln {0}, Col {1}"),mc=i("multiSelectionRange","{0} selections ({1} characters selected)"),fc=i("multiSelection","{0} selections"),Yo=i("endOfLineLineFeed","LF"),Xo=i("endOfLineCarriageReturnLineFeed","CRLF");let oi=class extends se{constructor(e,t,o,n,a,d,g){super(),this.editorService=e,this.quickInputService=t,this.languageService=o,this.textFileService=n,this.statusbarService=a,this.instantiationService=d,this.contextKeyService=g,this.tabFocusModeElement=this._register(new P),this.columnSelectionModeElement=this._register(new P),this.indentationElement=this._register(new P),this.selectionElement=this._register(new P),this.encodingElement=this._register(new P),this.eolElement=this._register(new P),this.languageElement=this._register(new P),this.metadataElement=this._register(new P),this.currentProblemStatus=this._register(this.instantiationService.createInstance(ni)),this.state=new gc,this.activeEditorListeners=this._register(new bt),this.delayedRender=this._register(new P),this.toRender=null,this.tabFocusMode=d.createInstance(ii),this.registerCommands(),this.registerListeners()}registerListeners(){this._register(this.editorService.onDidActiveEditorChange(()=>this.updateStatusBar())),this._register(this.textFileService.untitled.onDidChangeEncoding(e=>this.onResourceEncodingChange(e.resource))),this._register(this.textFileService.files.onDidChangeEncoding(e=>this.onResourceEncodingChange(e.resource))),this._register(N.runAndSubscribe(q.onDidChangeTabFocus,()=>this.onTabFocusModeChange())),this._register(this.tabFocusMode.onDidChange(()=>this.onTabFocusModeChange()))}registerCommands(){no.registerCommand({id:"changeEditorIndentation",handler:()=>this.showIndentationPicker()})}async showIndentationPicker(){var n;const e=Z(this.editorService.activeTextEditorControl);if(!e)return this.quickInputService.pick([{label:i("noEditor","No text editor active at this time")}]);if((n=this.editorService.activeEditor)!=null&&n.isReadonly())return this.quickInputService.pick([{label:i("noWritableCodeEditor","The active code editor is read-only.")}]);const t=[Q(e.getAction(kn.ID)),Q(e.getAction(Tn.ID)),Q(e.getAction(Dn.ID)),Q(e.getAction(xn.ID)),Q(e.getAction(Pn.ID)),Q(e.getAction(Rn.ID)),Q(e.getAction(_n.ID))].map(a=>({id:a.id,label:a.label,detail:ao.isDefaultVariant()||a.label===a.alias?void 0:a.alias,run:()=>{e.focus(),a.run()}}));t.splice(3,0,{type:"separator",label:i("indentConvert","convert file")}),t.unshift({type:"separator",label:i("indentView","change view")});const o=await this.quickInputService.pick(t,{placeHolder:i("pickAction","Select Action"),matchOnDetail:!0});return o==null?void 0:o.run()}updateTabFocusModeElement(e){if(e){if(!this.tabFocusModeElement.value){const t=i("tabFocusModeEnabled","Tab Moves Focus");this.tabFocusModeElement.value=this.statusbarService.addEntry({name:i("status.editor.tabFocusMode","Accessibility Mode"),text:t,ariaLabel:t,tooltip:i("disableTabMode","Disable Accessibility Mode"),command:"editor.action.toggleTabFocusMode",backgroundColor:ge(Vt),color:ge(Ut)},"status.editor.tabFocusMode",1,100.7)}}else this.tabFocusModeElement.clear()}updateColumnSelectionModeElement(e){if(e){if(!this.columnSelectionModeElement.value){const t=i("columnSelectionModeEnabled","Column Selection");this.columnSelectionModeElement.value=this.statusbarService.addEntry({name:i("status.editor.columnSelectionMode","Column Selection Mode"),text:t,ariaLabel:t,tooltip:i("disableColumnSelectionMode","Disable Column Selection Mode"),command:"editor.action.toggleColumnSelection",backgroundColor:ge(Vt),color:ge(Ut)},"status.editor.columnSelectionMode",1,100.8)}}else this.columnSelectionModeElement.clear()}updateSelectionElement(e){if(!e){this.selectionElement.clear();return}const t={name:i("status.editor.selection","Editor Selection"),text:e,ariaLabel:e,tooltip:i("gotoLine","Go to Line/Column"),command:"workbench.action.gotoLine"};this.updateElement(this.selectionElement,t,"status.editor.selection",1,100.5)}updateIndentationElement(e){if(!e){this.indentationElement.clear();return}const t={name:i("status.editor.indentation","Editor Indentation"),text:e,ariaLabel:e,tooltip:i("selectIndentation","Select Indentation"),command:"changeEditorIndentation"};this.updateElement(this.indentationElement,t,"status.editor.indentation",1,100.4)}updateEncodingElement(e){if(!e){this.encodingElement.clear();return}const t={name:i("status.editor.encoding","Editor Encoding"),text:e,ariaLabel:e,tooltip:i("selectEncoding","Select Encoding"),command:"workbench.action.editor.changeEncoding"};this.updateElement(this.encodingElement,t,"status.editor.encoding",1,100.3)}updateEOLElement(e){if(!e){this.eolElement.clear();return}const t={name:i("status.editor.eol","Editor End of Line"),text:e,ariaLabel:e,tooltip:i("selectEOL","Select End of Line Sequence"),command:"workbench.action.editor.changeEOL"};this.updateElement(this.eolElement,t,"status.editor.eol",1,100.2)}updateLanguageIdElement(e){if(!e){this.languageElement.clear();return}const t={name:i("status.editor.mode","Editor Language"),text:e,ariaLabel:e,tooltip:i("selectLanguageMode","Select Language Mode"),command:"workbench.action.editor.changeLanguageMode"};this.updateElement(this.languageElement,t,"status.editor.mode",1,100.1)}updateMetadataElement(e){if(!e){this.metadataElement.clear();return}const t={name:i("status.editor.info","File Information"),text:e,ariaLabel:e,tooltip:i("fileInfo","File Information")};this.updateElement(this.metadataElement,t,"status.editor.info",1,100)}updateElement(e,t,o,n,a){e.value?e.value.update(t):e.value=this.statusbarService.addEntry(t,o,n,a)}updateState(e){const t=this.state.update(e);t.hasChanges()&&(this.toRender?this.toRender.combine(t):(this.toRender=t,this.delayedRender.value=Bn(()=>{this.delayedRender.clear();const o=this.toRender;this.toRender=null,o&&this.doRenderNow(o)})))}doRenderNow(e){this.updateTabFocusModeElement(!!this.state.tabFocusMode),this.updateColumnSelectionModeElement(!!this.state.columnSelectionMode),this.updateIndentationElement(this.state.indentation),this.updateSelectionElement(this.state.selectionStatus),this.updateEncodingElement(this.state.encoding),this.updateEOLElement(this.state.EOL?this.state.EOL===`\r
`?Xo:Yo:void 0),this.updateLanguageIdElement(this.state.languageId),this.updateMetadataElement(this.state.metadata)}getSelectionLabel(e){if(!(!e||!e.selections)){if(e.selections.length===1)return e.charactersSelected?je(hc,e.selections[0].positionLineNumber,e.selections[0].positionColumn,e.charactersSelected):je(pc,e.selections[0].positionLineNumber,e.selections[0].positionColumn);if(e.charactersSelected)return je(mc,e.selections.length,e.charactersSelected);if(e.selections.length>0)return je(fc,e.selections.length)}}updateStatusBar(){const e=this.editorService.activeEditor,t=this.editorService.activeEditorPane,o=t?re(Z(t.getControl())):void 0;if(this.onColumnSelectionModeChange(o),this.onSelectionChange(o),this.onLanguageChange(o,e),this.onEOLChange(o),this.onEncodingChange(t,o),this.onIndentationChange(o),this.onMetadataChange(t),this.currentProblemStatus.update(o),this.activeEditorListeners.clear(),t&&this.activeEditorListeners.add(t.onDidChangeControl(()=>{this.updateStatusBar()})),o)this.activeEditorListeners.add(o.onDidChangeConfiguration(n=>{n.hasChanged(20)&&this.onColumnSelectionModeChange(o)})),this.activeEditorListeners.add(N.defer(o.onDidChangeCursorPosition)(()=>{this.onSelectionChange(o),this.currentProblemStatus.update(o)})),this.activeEditorListeners.add(o.onDidChangeModelLanguage(()=>{this.onLanguageChange(o,e)})),this.activeEditorListeners.add(N.accumulate(o.onDidChangeModelContent)(n=>{this.onEOLChange(o),this.currentProblemStatus.update(o);const a=o.getSelections();if(a){for(const d of n)for(const g of d.changes)if(a.some(p=>hi.areIntersecting(p,g.range))){this.onSelectionChange(o);break}}})),this.activeEditorListeners.add(o.onDidChangeModelOptions(()=>{this.onIndentationChange(o)}));else if(t instanceof X||t instanceof ee){const n=[];if(t instanceof ee){const a=t.getPrimaryEditorPane();a instanceof X&&n.push(a);const d=t.getSecondaryEditorPane();d instanceof X&&n.push(d)}else n.push(t);for(const a of n)this.activeEditorListeners.add(a.onDidChangeMetadata(()=>{this.onMetadataChange(t)})),this.activeEditorListeners.add(a.onDidOpenInPlace(()=>{this.updateStatusBar()}))}}onLanguageChange(e,t){const o={type:"languageId",languageId:void 0};if(e&&t&&dt(t)){const n=e.getModel();if(n){const a=n.getLanguageId();o.languageId=re(this.languageService.getLanguageName(a))}}this.updateState(o)}onIndentationChange(e){const t={type:"indentation",indentation:void 0};if(e){const o=e.getModel();if(o){const n=o.getOptions();t.indentation=n.insertSpaces?n.tabSize===n.indentSize?i("spacesSize","Spaces: {0}",n.indentSize):i("spacesAndTabsSize","Spaces: {0} (Tab Size: {1})",n.indentSize,n.tabSize):i({key:"tabSize",comment:["Tab corresponds to the tab key"]},"Tab Size: {0}",n.tabSize)}}this.updateState(t)}onMetadataChange(e){const t={type:"metadata",metadata:void 0};(e instanceof X||e instanceof ee)&&(t.metadata=e.getMetadata()),this.updateState(t)}onColumnSelectionModeChange(e){const t={type:"columnSelectionMode",columnSelectionMode:!1};e!=null&&e.getOption(20)&&(t.columnSelectionMode=!0),this.updateState(t)}onSelectionChange(e){const t=Object.create(null);if(e){t.selections=e.getSelections()||[],t.charactersSelected=0;const o=e.getModel();if(o)for(const n of t.selections)typeof t.charactersSelected!="number"&&(t.charactersSelected=0),t.charactersSelected+=o.getCharacterCountInRange(n);if(t.selections.length===1){const n=e.getPosition(),a=new On(t.selections[0].selectionStartLineNumber,t.selections[0].selectionStartColumn,t.selections[0].positionLineNumber,n?e.getStatusbarColumn(n):t.selections[0].positionColumn);t.selections[0]=a}}this.updateState({type:"selectionStatus",selectionStatus:this.getSelectionLabel(t)})}onEOLChange(e){const t={type:"EOL",EOL:void 0};if(e&&!e.getOption(88)){const o=e.getModel();o&&(t.EOL=o.getEOL())}this.updateState(t)}onEncodingChange(e,t){if(e&&!this.isActiveEditor(e))return;const o={type:"encoding",encoding:void 0};if(e&&(t!=null&&t.hasModel())){const n=e.input?Re(e.input):null;if(n){const a=n.getEncoding(),d=typeof a=="string"?z[a]:void 0;d?o.encoding=d.labelShort:o.encoding=a}}this.updateState(o)}onResourceEncodingChange(e){const t=this.editorService.activeEditorPane;if(t){const o=st.getCanonicalUri(t.input,{supportSideBySide:ct.PRIMARY});if(o&&De(o,e)){const n=re(Z(t.getControl()));return this.onEncodingChange(t,n)}}}onTabFocusModeChange(){const e={type:"tabFocusMode",tabFocusMode:q.getTabFocusMode(this.contextKeyService.getContextKeyValue("focusedView")==="terminal"?"terminalFocus":"editorFocus")};this.updateState(e)}isActiveEditor(e){const t=this.editorService.activeEditorPane;return!!t&&t===e}};oi=A([u(0,ce),u(1,vt),u(2,oo),u(3,fi),u(4,bi),u(5,ft),u(6,ui)],oi);let ni=class extends se{constructor(e,t,o){super(),this.statusbarService=e,this.markerService=t,this.configurationService=o,this.editor=void 0,this.markers=[],this.currentMarker=null,this.statusBarEntryAccessor=this._register(new P),this._register(t.onMarkerChanged(n=>this.onMarkerChanged(n))),this._register(N.filter(o.onDidChangeConfiguration,n=>n.affectsConfiguration("problems.showCurrentInStatus"))(()=>this.updateStatus()))}update(e){this.editor=e,this.updateMarkers(),this.updateStatus()}updateStatus(){const e=this.currentMarker;if(this.currentMarker=this.getMarker(),this.hasToUpdateStatus(e,this.currentMarker))if(this.currentMarker){const t=Gn(this.currentMarker.message)[0],o=`${this.getType(this.currentMarker)} ${t}`;this.statusBarEntryAccessor.value||(this.statusBarEntryAccessor.value=this.statusbarService.addEntry({name:i("currentProblem","Current Problem"),text:"",ariaLabel:""},"statusbar.currentProblem",0)),this.statusBarEntryAccessor.value.update({name:i("currentProblem","Current Problem"),text:o,ariaLabel:o})}else this.statusBarEntryAccessor.clear()}hasToUpdateStatus(e,t){return!t||!e?!0:xi.makeKey(e)!==xi.makeKey(t)}getType(e){switch(e.severity){case ne.Error:return"$(error)";case ne.Warning:return"$(warning)";case ne.Info:return"$(info)"}return""}getMarker(){if(!this.configurationService.getValue("problems.showCurrentInStatus")||!this.editor||!this.editor.getModel())return null;const t=this.editor.getPosition();return t&&this.markers.find(o=>hi.containsPosition(o,t))||null}onMarkerChanged(e){if(!this.editor)return;const t=this.editor.getModel();t&&(t&&!e.some(o=>De(t.uri,o))||this.updateMarkers())}updateMarkers(){if(!this.editor)return;const e=this.editor.getModel();e&&(e?(this.markers=this.markerService.read({resource:e.uri,severities:ne.Error|ne.Warning|ne.Info}),this.markers.sort(bc)):this.markers=[],this.updateStatus())}};ni=A([u(0,bi),u(1,Ln),u(2,T)],ni);function bc(l,e){let t=Nn(l.resource.toString(),e.resource.toString());return t===0&&(t=ne.compare(l.severity,e.severity)),t===0&&(t=hi.compareRangesUsingStarts(l,e)),t}let lt=class Zo extends Be{constructor(e,t,o){super(Zo.ID,i("showLanguageExtensions","Search Marketplace Extensions for '{0}'...",e)),this.fileExtension=e,this.commandService=t,this.enabled=o.isEnabled()}async run(){await this.commandService.executeCommand("workbench.extensions.action.showExtensionsForLanguage",this.fileExtension)}};lt.ID="workbench.action.showLanguageExtensions";lt=A([u(1,di),u(2,ya)],lt);class _e extends L{constructor(){super({id:_e.ID,title:{value:i("changeMode","Change Language Mode"),original:"Change Language Mode"},f1:!0,keybinding:{weight:200,primary:eo(2089,43)},precondition:h.not("notebookEditorFocused")})}async run(e){var Ai;const t=e.get(vt),o=e.get(ce),n=e.get(oo),a=e.get(Ca),d=e.get(fi),g=e.get(wa),p=e.get(ft),m=e.get(T),E=e.get(Oe),b=Z(o.activeTextEditorControl);if(!b){await t.pick([{label:i("noEditor","No text editor active at this time")}]);return}const S=b.getModel(),v=st.getOriginalUri(o.activeEditor,{supportSideBySide:ct.PRIMARY});let I,k;S&&(k=S.getLanguageId(),I=re(n.getLanguageName(k)));let M=!!v;(v==null?void 0:v.scheme)===at.untitled&&!((Ai=d.untitled.get(v))!=null&&Ai.hasAssociatedFilePath)&&(M=!1);const D=n.getSortedRegisteredLanguageNames().map(({languageName:J,languageId:U})=>{const $e=n.getExtensions(U).join(" ");let G;return I===J?G=i("languageDescription","({0}) - Configured Language",U):G=i("languageDescriptionConfigured","({0})",U),{label:J,meta:$e,iconClasses:Pi(U),description:G}});D.unshift({type:"separator",label:i("languagesPicks","languages (identifier)")});let O,ie,W;if(M&&v){const J=Ri(v)||_i(v);W=p.createInstance(lt,J),W.enabled&&D.unshift(W),ie={label:i("configureModeSettings","Configure '{0}' language based settings...",I)},D.unshift(ie),O={label:i("configureAssociationsExt","Configure File Association for '{0}'...",J)},D.unshift(O)}const Ie={label:i("autoDetect","Auto Detect")};D.unshift(Ie);const w=await t.pick(D,{placeHolder:i("pickLanguage","Select Language Mode"),matchOnDescription:!0});if(!w)return;if(w===W){W.run();return}if(w===O){v&&this.configureFileAssociation(v,n,t,m);return}if(w===ie){g.openUserSettings({jsonEditor:!0,revealSetting:{key:`[${Fn(k)}]`,edit:!0}});return}const _=o.activeEditor;if(_){const J=dt(_);if(J){let U,$e;if(w===Ie){if(S){const G=st.getOriginalUri(_,{supportSideBySide:ct.PRIMARY});if(G){let oe=re(n.guessLanguageIdByFilepathOrFirstLine(G,S.getLineContent(1)));(!oe||oe==="unknown")&&($e=await a.detectLanguage(G),oe=$e),oe&&(U=n.createById(oe))}}}else{const G=n.getLanguageIdByLanguageName(w.label);U=n.createById(G),v&&a.detectLanguage(v).then(oe=>{const nn=n.getLanguageIdByLanguageName(w.label)||"unknown";if(oe===k&&k!==nn){const an=m.getValue("workbench.editor.preferHistoryBasedLanguageDetection")?"history":"classic";E.publicLog2(Ia,{currentLanguageId:I??"unknown",nextLanguageId:w.label,lineCount:(S==null?void 0:S.getLineCount())??-1,modelPreference:an})}})}if(typeof U<"u"&&(J.setLanguageId(U.languageId,_e.ID),(v==null?void 0:v.scheme)===at.untitled)){const G=m.getValue("workbench.editor.preferHistoryBasedLanguageDetection")?"history":"classic";E.publicLog2("setUntitledDocumentLanguage",{to:U.languageId,from:k??"none",modelPreference:G})}}b.focus()}}configureFileAssociation(e,t,o,n){const a=Ri(e),d=_i(e),g=t.guessLanguageIdByFilepathOrFirstLine(Vn.file(d)),m=t.getSortedRegisteredLanguageNames().map(({languageName:E,languageId:b})=>({id:b,label:E,iconClasses:Pi(b),description:b===g?i("currentAssociation","Current Association"):void 0}));setTimeout(async()=>{const E=await o.pick(m,{placeHolder:i("pickLanguageToConfigure","Select Language Mode to Associate with '{0}'",a||d)});if(E){const b=n.inspect(Bi);let S;a&&d[0]!=="."?S=`*${a}`:S=d;let v=2;b.workspaceValue&&b.workspaceValue[S]&&(v=5);const I=Un(v===5?b.workspaceValue:b.userValue)||Object.create(null);I[S]=E.id,n.updateValue(Bi,I,v)}},50)}}_e.ID="workbench.action.editor.changeLanguageMode";class Ec extends L{constructor(){super({id:"workbench.action.editor.changeEOL",title:{value:i("changeEndOfLine","Change End of Line Sequence"),original:"Change End of Line Sequence"},f1:!0})}async run(e){var m,E;const t=e.get(ce),o=e.get(vt),n=Z(t.activeTextEditorControl);if(!n){await o.pick([{label:i("noEditor","No text editor active at this time")}]);return}if((m=t.activeEditor)!=null&&m.isReadonly()){await o.pick([{label:i("noWritableCodeEditor","The active code editor is read-only.")}]);return}let a=n.getModel();const d=[{label:Yo,eol:0},{label:Xo,eol:1}],g=(a==null?void 0:a.getEOL())===`
`?0:1,p=await o.pick(d,{placeHolder:i("pickEndOfLine","Select End of Line Sequence"),activeItem:d[g]});if(p){const b=Z(t.activeTextEditorControl);b!=null&&b.hasModel()&&!((E=t.activeEditor)!=null&&E.isReadonly())&&(a=b.getModel(),a.pushStackElement(),a.pushEOL(p.eol),a.pushStackElement())}n.focus()}}class vc extends L{constructor(){super({id:"workbench.action.editor.changeEncoding",title:{value:i("changeEncoding","Change File Encoding"),original:"Change File Encoding"},f1:!0})}async run(e){const t=e.get(ce),o=e.get(vt),n=e.get(gi),a=e.get(fi),d=e.get(io),g=Z(t.activeTextEditorControl);if(!g){await o.pick([{label:i("noEditor","No text editor active at this time")}]);return}const p=t.activeEditorPane;if(!p){await o.pick([{label:i("noEditor","No text editor active at this time")}]);return}const m=Re(p.input);if(!m){await o.pick([{label:i("noFileEditor","No file active at this time")}]);return}const E={label:i("saveWithEncoding","Save with Encoding")},b={label:i("reopenWithEncoding","Reopen with Encoding")};if(!ao.isDefaultVariant()){const w="Save with Encoding";w!==E.label&&(E.detail=w);const _="Reopen with Encoding";_!==b.label&&(b.detail=_)}let S;if(m instanceof Fe?S=E:p.input.isReadonly()?S=b:S=await o.pick([b,E],{placeHolder:i("pickAction","Select Action"),matchOnDetail:!0}),!S)return;await qn(50);const v=st.getOriginalUri(p.input,{supportSideBySide:ct.PRIMARY});if(!v||!n.hasProvider(v)&&v.scheme!==at.untitled)return;let I;n.hasProvider(v)&&(I=(await a.readStream(v,{autoGuessEncoding:!0})).encoding);const k=S===b,M=d.getValue(re(v),"files.encoding");let V,D;const O=Object.keys(z).sort((w,_)=>w===M?-1:_===M?1:z[w].order-z[_].order).filter(w=>w===I&&I!==M?!1:!k||!z[w].encodeOnly).map((w,_)=>(w===m.getEncoding()?V=_:z[w].alias===m.getEncoding()&&(D=_),{id:w,label:z[w].labelLong,description:w})),ie=O.slice();I&&M!==I&&z[I]&&(O.unshift({type:"separator"}),O.unshift({id:I,label:z[I].labelLong,description:i("guessedEncoding","Guessed from content")}));const W=await o.pick(O,{placeHolder:k?i("pickEncodingForReopen","Select File Encoding to Reopen File"):i("pickEncodingForSave","Select File Encoding to Save with"),activeItem:ie[typeof V=="number"?V:typeof D=="number"?D:-1]});if(!W||!t.activeEditorPane)return;const Ie=Re(t.activeEditorPane.input);typeof W.id<"u"&&Ie&&await Ie.setEncoding(W.id,k?1:0),g.focus()}}let ai=class extends se{constructor(e,t,o,n,a,d){super(),this.filesConfigurationService=e,this.hostService=t,this.editorService=o,this.editorGroupService=n,this.workingCopyService=a,this.logService=d,this.pendingAutoSavesAfterDelay=new Map,this.lastActiveEditor=void 0,this.lastActiveGroupId=void 0,this.lastActiveEditorControlDisposable=this._register(new bt),this.onAutoSaveConfigurationChange(e.getAutoSaveConfiguration(),!1);for(const g of this.workingCopyService.dirtyWorkingCopies)this.onDidRegister(g);this.registerListeners()}registerListeners(){this._register(this.hostService.onDidChangeFocus(e=>this.onWindowFocusChange(e))),this._register(this.editorService.onDidActiveEditorChange(()=>this.onDidActiveEditorChange())),this._register(this.filesConfigurationService.onAutoSaveConfigurationChange(e=>this.onAutoSaveConfigurationChange(e,!0))),this._register(this.workingCopyService.onDidRegister(e=>this.onDidRegister(e))),this._register(this.workingCopyService.onDidUnregister(e=>this.onDidUnregister(e))),this._register(this.workingCopyService.onDidChangeDirty(e=>this.onDidChangeDirty(e))),this._register(this.workingCopyService.onDidChangeContent(e=>this.onDidChangeContent(e)))}onWindowFocusChange(e){e||this.maybeTriggerAutoSave(4)}onDidActiveEditorChange(){this.lastActiveEditor&&typeof this.lastActiveGroupId=="number"&&this.maybeTriggerAutoSave(3,{groupId:this.lastActiveGroupId,editor:this.lastActiveEditor});const e=this.editorGroupService.activeGroup,t=this.lastActiveEditor=re(e.activeEditor);this.lastActiveGroupId=e.id,this.lastActiveEditorControlDisposable.clear();const o=this.editorService.activeEditorPane;t&&o&&this.lastActiveEditorControlDisposable.add(o.onDidBlur(()=>{this.maybeTriggerAutoSave(3,{groupId:e.id,editor:t})}))}maybeTriggerAutoSave(e,t){if(t!=null&&t.editor.isReadonly()||t!=null&&t.editor.hasCapability(4))return;const o=this.filesConfigurationService.getAutoSaveMode();(e===4&&(o===3||o===4)||e===3&&o===3)&&(this.logService.trace(`[editor auto save] triggering auto save with reason ${e}`),t?this.editorService.save(t,{reason:e}):this.saveAllDirty({reason:e}))}onAutoSaveConfigurationChange(e,t){if(this.autoSaveAfterDelay=typeof e.autoSaveDelay=="number"&&e.autoSaveDelay>=0?e.autoSaveDelay:void 0,t){let o;switch(this.filesConfigurationService.getAutoSaveMode()){case 3:o=3;break;case 4:o=4;break;case 1:case 2:o=2;break}o&&this.saveAllDirty({reason:o})}}saveAllDirty(e){for(const t of this.workingCopyService.dirtyWorkingCopies)t.capabilities&2||t.save(e)}onDidRegister(e){e.isDirty()&&this.scheduleAutoSave(e)}onDidUnregister(e){this.discardAutoSave(e)}onDidChangeDirty(e){e.isDirty()?this.scheduleAutoSave(e):this.discardAutoSave(e)}onDidChangeContent(e){e.isDirty()&&this.scheduleAutoSave(e)}scheduleAutoSave(e){if(typeof this.autoSaveAfterDelay!="number"||e.capabilities&2)return;this.discardAutoSave(e),this.logService.trace(`[editor auto save] scheduling auto save after ${this.autoSaveAfterDelay}ms`,e.resource.toString(),e.typeId);const t=setTimeout(()=>{this.pendingAutoSavesAfterDelay.delete(e),e.isDirty()&&(this.logService.trace("[editor auto save] running auto save",e.resource.toString(),e.typeId),e.save({reason:2}))},this.autoSaveAfterDelay);this.pendingAutoSavesAfterDelay.set(e,ot(()=>{this.logService.trace("[editor auto save] clearing pending auto save",e.resource.toString(),e.typeId),clearTimeout(t)}))}discardAutoSave(e){Kn(this.pendingAutoSavesAfterDelay.get(e)),this.pendingAutoSavesAfterDelay.delete(e)}};ai=A([u(0,Ma),u(1,Aa),u(2,ce),u(3,go),u(4,La),u(5,zn)],ai);let ri=class extends se{constructor(e,t,o,n,a){super(),this.environmentService=t,this.pathService=o,this.textEditorService=n,this.untitledTextEditorService=a,this._register(e.registerHandler(this))}handles(e){return e.resource.scheme===at.untitled&&e.typeId===Pa}isOpen(e,t){return this.handles(e)?t instanceof Fe&&De(e.resource,t.resource):!1}createEditor(e){let t;return this.untitledTextEditorService.isUntitledWithAssociatedResource(e.resource)?t=$n(e.resource,this.environmentService.remoteAuthority,this.pathService.defaultUriScheme):t=e.resource,this.textEditorService.createTextEditor({resource:t,forceUntitled:!0})}};ri=A([u(0,ka),u(1,ho),u(2,Ta),u(3,Da),u(4,xa)],ri);let Ee=class ke extends se{constructor(e,t,o){super(),this.editorResolverService=e,this.environmentService=o,this.configurationRegistry=F.as(Jn.Configuration),(async()=>(await t.whenInstalledExtensionsRegistered(),this.updateDynamicEditorConfigurations(),this.registerListeners()))()}registerListeners(){N.debounce(this.editorResolverService.onDidChangeEditorRegistrations,(e,t)=>t)(()=>this.updateDynamicEditorConfigurations())}updateDynamicEditorConfigurations(){const e=[...this.editorResolverService.getEditors(),...ke.AUTO_LOCK_EXTRA_EDITORS].filter(m=>!ke.AUTO_LOCK_REMOVE_EDITORS.has(m.id)),t=this.editorResolverService.getEditors().filter(m=>m.priority!==qt.exclusive).map(m=>m.id),o=Object.create(null);for(const m of e)o[m.id]={type:"boolean",default:ke.AUTO_LOCK_DEFAULT_ENABLED.has(m.id),description:m.label};const n=Object.create(null);for(const m of e)n[m.id]=ke.AUTO_LOCK_DEFAULT_ENABLED.has(m.id);const a=this.autoLockConfigurationNode;this.autoLockConfigurationNode={...Xe,properties:{"workbench.editor.autoLockGroups":{type:"object",description:i("workbench.editor.autoLockGroups","If an editor matching one of the listed types is opened as the first in an editor group and more than one group is open, the group is automatically locked. Locked groups will only be used for opening editors when explicitly chosen by a user gesture (for example drag and drop), but not by default. Consequently, the active editor in a locked group is less likely to be replaced accidentally with a different editor."),properties:o,default:n,additionalProperties:!1}}};const d=this.defaultBinaryEditorConfigurationNode;this.defaultBinaryEditorConfigurationNode={...Xe,properties:{"workbench.editor.defaultBinaryEditor":{type:"string",default:"",enum:[...t,""],description:i("workbench.editor.defaultBinaryEditor","The default editor for files detected as binary. If undefined, the user will be presented with a picker.")}}};const g=this.editorAssociationsConfigurationNode;this.editorAssociationsConfigurationNode={...Xe,properties:{"workbench.editorAssociations":{type:"object",markdownDescription:i("editor.editorAssociations",'Configure [glob patterns](https://aka.ms/vscode-glob-patterns) to editors (for example `"*.hex": "hexEditor.hexedit"`). These have precedence over the default behavior.'),patternProperties:{".*":{type:"string",enum:t}}}}};const p=this.editorLargeFileConfirmationConfigurationNode;this.editorLargeFileConfirmationConfigurationNode={...Xe,properties:{"workbench.editorLargeFileConfirmation":{type:"number",default:Qn(this.environmentService.remoteAuthority)/to.MB,minimum:1,scope:4,markdownDescription:i("editorLargeFileSizeConfirmation","Controls the minimum size of a file in MB before asking for confirmation when opening in the editor. Note that this setting may not apply to all editor types and environments.")}}},this.configurationRegistry.updateConfigurations({add:[this.autoLockConfigurationNode,this.defaultBinaryEditorConfigurationNode,this.editorAssociationsConfigurationNode,this.editorLargeFileConfirmationConfigurationNode],remove:jn([a,d,g,p])})}};Ee.AUTO_LOCK_DEFAULT_ENABLED=new Set(["terminalEditor"]);Ee.AUTO_LOCK_EXTRA_EDITORS=[{id:"workbench.input.interactive",label:i("interactiveWindow","Interactive Window"),priority:qt.builtin},{id:"mainThreadWebview-markdown.preview",label:i("markdownPreview","Markdown Preview"),priority:qt.builtin}];Ee.AUTO_LOCK_REMOVE_EDITORS=new Set(["vscode-interactive-input","interactive","vscode.markdown.preview.editor"]);Ee=A([u(0,Ra),u(1,_a),u(2,ho)],Ee);let si=class extends se{constructor(e,t,o,n){super(),this.configurationService=e,this.notificationService=t,this._accessibilityService=o,this.statusbarService=n,this.screenReaderNotification=null,this.promptedScreenReader=!1,this.screenReaderModeElement=this._register(new P),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this.onScreenReaderModeChange())),this._register(e.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.accessibilitySupport")&&this.onScreenReaderModeChange()})),no.registerCommand({id:"showEditorScreenReaderNotification",handler:()=>this.showScreenReaderNotification()}),this.updateScreenReaderModeElement(this._accessibilityService.isScreenReaderOptimized())}showScreenReaderNotification(){this.screenReaderNotification||(this.screenReaderNotification=this.notificationService.prompt(Gt.Info,i("screenReaderDetectedExplanation.question","Are you using a screen reader to operate VS Code?"),[{label:i("screenReaderDetectedExplanation.answerYes","Yes"),run:()=>{this.configurationService.updateValue("editor.accessibilitySupport","on",2)}},{label:i("screenReaderDetectedExplanation.answerNo","No"),run:()=>{this.configurationService.updateValue("editor.accessibilitySupport","off",2)}}],{sticky:!0,priority:Zn.URGENT}),N.once(this.screenReaderNotification.onDidClose)(()=>this.screenReaderNotification=null))}updateScreenReaderModeElement(e){if(e){if(!this.screenReaderModeElement.value){const t=i("screenReaderDetected","Screen Reader Optimized");this.screenReaderModeElement.value=this.statusbarService.addEntry({name:i("status.editor.screenReaderMode","Screen Reader Mode"),text:t,ariaLabel:t,command:"showEditorScreenReaderNotification",backgroundColor:ge(Vt),color:ge(Ut)},"status.editor.screenReaderMode",1,100.6)}}else this.screenReaderModeElement.clear()}onScreenReaderModeChange(){this._accessibilityService.isScreenReaderOptimized()&&this.configurationService.getValue("editor.accessibilitySupport")==="auto"&&(this.promptedScreenReader||(this.promptedScreenReader=!0,setTimeout(()=>this.showScreenReaderNotification(),100))),this.screenReaderNotification&&this.screenReaderNotification.close(),this.updateScreenReaderModeElement(this._accessibilityService.isScreenReaderOptimized())}};si=A([u(0,T),u(1,Yn),u(2,Xn),u(3,bi)],si);class wi extends L{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:{value:i("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),original:"Toggle Collapse Unchanged Regions"},icon:f.map,precondition:pe.create("diffEditorVersion",2)})}run(e,...t){const o=e.get(T),n=!o.getValue("diffEditor.experimental.collapseUnchangedRegions");o.updateValue("diffEditor.experimental.collapseUnchangedRegions",n)}}r(wi);c.appendMenuItem(s.EditorTitle,{command:{id:new wi().desc.id,title:i("collapseUnchangedRegions","Show Unchanged Regions"),icon:f.map},order:22,group:"navigation",when:h.and(h.has("config.diffEditor.experimental.collapseUnchangedRegions"),pe.create("diffEditorVersion",2))});c.appendMenuItem(s.EditorTitle,{command:{id:new wi().desc.id,title:i("showUnchangedRegions","Collapse Unchanged Regions"),icon:Et.modify(f.map,"disabled")},order:22,group:"navigation",when:h.and(h.has("config.diffEditor.experimental.collapseUnchangedRegions").negate(),pe.create("diffEditorVersion",2))});class en extends L{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:{value:i("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),original:"Toggle Show Moved Code Blocks"},precondition:pe.create("diffEditorVersion",2)})}run(e,...t){const o=e.get(T),n=!o.getValue("diffEditor.experimental.showMoves");o.updateValue("diffEditor.experimental.showMoves",n)}}r(en);c.appendMenuItem(s.EditorTitle,{command:{id:new en().desc.id,title:i("showMoves","Show Moves"),icon:f.move,toggled:pe.create("config.diffEditor.experimental.showMoves",!0)},order:10,group:"1_diff",when:pe.create("diffEditorVersion",2)});F.as(St.EditorPane).registerEditorPane(ve.create(Ni,Ni.ID,i("textEditor","Text Editor")),[new xe(Fe),new xe(Ba)]);F.as(St.EditorPane).registerEditorPane(ve.create(Fi,Fi.ID,i("textDiffEditor","Text Diff Editor")),[new xe(po)]);F.as(St.EditorPane).registerEditorPane(ve.create(ee,ee.ID,i("binaryDiffEditor","Binary Diff Editor")),[new xe(po)]);F.as(St.EditorPane).registerEditorPane(ve.create(Ft,Ft.ID,i("sideBySideEditor","Side by Side Editor")),[new xe(Ei)]);F.as(Ve.Workbench).registerWorkbenchContribution(ai,2);F.as(Ve.Workbench).registerWorkbenchContribution(oi,2);F.as(Ve.Workbench).registerWorkbenchContribution(si,2);F.as(Ve.Workbench).registerWorkbenchContribution(ri,2);F.as(Ve.Workbench).registerWorkbenchContribution(Ee,2);ea(Vi.ID,Vi,1);const Ii=F.as(ta.Quickaccess),Dt="inEditorsPicker",tn=h.and(xs,h.has(Dt));Ii.registerQuickAccessProvider({ctor:Ui,prefix:Ui.PREFIX,contextKey:Dt,placeholder:i("editorQuickAccessPlaceholder","Type the name of an editor to open it."),helpEntries:[{description:i("activeGroupEditorsByMostRecentlyUsedQuickAccess","Show Editors in Active Group by Most Recently Used"),commandId:mo.ID}]});Ii.registerQuickAccessProvider({ctor:qi,prefix:qi.PREFIX,contextKey:Dt,placeholder:i("editorQuickAccessPlaceholder","Type the name of an editor to open it."),helpEntries:[{description:i("allEditorsByAppearanceQuickAccess","Show All Opened Editors By Appearance"),commandId:fo.ID}]});Ii.registerQuickAccessProvider({ctor:Hi,prefix:Hi.PREFIX,contextKey:Dt,placeholder:i("editorQuickAccessPlaceholder","Type the name of an editor to open it."),helpEntries:[{description:i("allEditorsByMostRecentlyUsedQuickAccess","Show All Opened Editors By Most Recently Used"),commandId:bo.ID}]});r(_e);r(Ec);r(vc);r(Oa);r(Ga);r(Na);r(Fa);r(Va);r(Ua);r(qa);r(Ha);r(Wa);r(za);r(Ka);r($a);r(Eo);r(vo);r(fo);r(bo);r(mo);r(Ja);r(Qa);r(ja);r(Ya);r(Xa);r(Za);r(vi);r(er);r(tr);r(ir);r(or);r(nr);r(ar);r(rr);r(sr);r(cr);r(dr);r(lr);r(ur);r(gr);r(hr);r(pr);r(mr);r(fr);r(br);r(Er);r(vr);r(Sr);r(yr);r(Cr);r(wr);r(Ir);r(Mr);r(Ar);r(Lr);r(kr);r(Tr);r(Dr);r(xr);r(Pr);r(Rr);r(_r);r(Br);r(Or);r(Gr);r(Nr);r(Fr);r(Vr);r(Ur);r(qr);r(Hr);r(Wr);r(zr);r(Kr);r($r);r(Jr);r(Qr);r(jr);r(Yr);r(Xr);r(Zr);r(es);r(ts);r(is);r(os);r(ns);r(as);r(rs);r(So);r(yo);r(Co);r(wo);r(Io);r(Mo);r(Ao);r(Lo);r(ss);r(cs);r(ds);r(ls);r(us);r(gs);r(hs);const ji="workbench.action.quickOpenNavigateNextInEditorPicker";li.registerCommandAndKeybindingRule({id:ji,weight:200+50,handler:Wo(ji,!0),when:tn,primary:2050,mac:{primary:258}});const Yi="workbench.action.quickOpenNavigatePreviousInEditorPicker";li.registerCommandAndKeybindingRule({id:Yi,weight:200+50,handler:Wo(Yi,!1),when:tn,primary:3074,mac:{primary:1282}});ps();c.appendMenuItem(s.EmptyEditorGroup,{command:{id:ko,title:i("unlockGroupAction","Unlock Group"),icon:f.lock},group:"navigation",order:10,when:yt});c.appendMenuItem(s.EmptyEditorGroup,{command:{id:To,title:i("closeGroupAction","Close Group"),icon:f.close},group:"navigation",order:20});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:Ct,title:i("splitUp","Split Up")},group:"2_split",order:10});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:Ue,title:i("splitDown","Split Down")},group:"2_split",order:20});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:wt,title:i("splitLeft","Split Left")},group:"2_split",order:30});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:qe,title:i("splitRight","Split Right")},group:"2_split",order:40});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:Do,title:i("toggleLockGroup","Lock Group"),toggled:yt},group:"3_lock",order:10,when:R});c.appendMenuItem(s.EmptyEditorGroupContext,{command:{id:To,title:i("close","Close")},group:"4_close",order:10,when:R});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:Ct,title:i("splitUp","Split Up")},group:"2_split",order:10});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:Ue,title:i("splitDown","Split Down")},group:"2_split",order:20});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:wt,title:i("splitLeft","Split Left")},group:"2_split",order:30});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:qe,title:i("splitRight","Split Right")},group:"2_split",order:40});c.appendMenuItem(s.EditorTabsBarContext,{command:{id:we.ID,title:i("toggleTabs","Enable Tabs"),toggled:h.has("config.workbench.editor.showTabs")},group:"3_config",order:10});c.appendMenuItem(s.EditorTitleContext,{command:{id:Se,title:i("close","Close")},group:"1_close",order:10});c.appendMenuItem(s.EditorTitleContext,{command:{id:xo,title:i("closeOthers","Close Others"),precondition:ms.notEqualsTo("1")},group:"1_close",order:20});c.appendMenuItem(s.EditorTitleContext,{command:{id:Po,title:i("closeRight","Close to the Right"),precondition:Ro.toNegated()},group:"1_close",order:30,when:He});c.appendMenuItem(s.EditorTitleContext,{command:{id:Si,title:i("closeAllSaved","Close Saved")},group:"1_close",order:40});c.appendMenuItem(s.EditorTitleContext,{command:{id:We,title:i("closeAll","Close All")},group:"1_close",order:50});c.appendMenuItem(s.EditorTitleContext,{command:{id:_o,title:i("reopenWith","Reopen Editor With...")},group:"1_open",order:10,when:Bo});c.appendMenuItem(s.EditorTitleContext,{command:{id:Oo,title:i("keepOpen","Keep Open"),precondition:fs.toNegated()},group:"3_preview",order:10,when:h.has("config.workbench.editor.enablePreview")});c.appendMenuItem(s.EditorTitleContext,{command:{id:Go,title:i("pin","Pin")},group:"3_preview",order:20,when:ye.toNegated()});c.appendMenuItem(s.EditorTitleContext,{command:{id:It,title:i("unpin","Unpin")},group:"3_preview",order:20,when:ye});c.appendMenuItem(s.EditorTitleContext,{command:{id:Ct,title:i("splitUp","Split Up")},group:"5_split",order:10});c.appendMenuItem(s.EditorTitleContext,{command:{id:Ue,title:i("splitDown","Split Down")},group:"5_split",order:20});c.appendMenuItem(s.EditorTitleContext,{command:{id:wt,title:i("splitLeft","Split Left")},group:"5_split",order:30});c.appendMenuItem(s.EditorTitleContext,{command:{id:qe,title:i("splitRight","Split Right")},group:"5_split",order:40});c.appendMenuItem(s.EditorTitleContext,{command:{id:No,title:i("splitInGroup","Split in Group")},group:"6_split_in_group",order:10,when:Fo});c.appendMenuItem(s.EditorTitleContext,{command:{id:Vo,title:i("joinInGroup","Join in Group")},group:"6_split_in_group",order:10,when:ze});c.appendMenuItem(s.EditorTitle,{command:{id:bs,title:i("inlineView","Inline View"),toggled:h.equals("config.diffEditor.renderSideBySide",!1)},group:"1_diff",order:10,when:h.has("isInDiffEditor")});c.appendMenuItem(s.EditorTitle,{command:{id:Es,title:i("showOpenedEditors","Show Opened Editors")},group:"3_open",order:10});c.appendMenuItem(s.EditorTitle,{command:{id:We,title:i("closeAll","Close All")},group:"5_close",order:10});c.appendMenuItem(s.EditorTitle,{command:{id:Si,title:i("closeAllSaved","Close Saved")},group:"5_close",order:20});c.appendMenuItem(s.EditorTitle,{command:{id:we.ID,title:i("toggleTabs","Enable Tabs"),toggled:h.has("config.workbench.editor.showTabs")},group:"7_settings",order:5,when:h.has("config.workbench.editor.showTabs").negate()});c.appendMenuItem(s.EditorTitle,{command:{id:vs,title:i("togglePreviewMode","Enable Preview Editors"),toggled:h.has("config.workbench.editor.enablePreview")},group:"7_settings",order:10});c.appendMenuItem(s.EditorTitle,{command:{id:Do,title:i("lockGroup","Lock Group"),toggled:yt},group:"8_lock",order:10,when:R});function B(l,e,t,o,n){const a={command:{id:l.id,title:l.title,icon:l.icon,precondition:n},group:"navigation",when:e,order:t};o&&(a.alt={id:o.id,title:o.title,icon:o.icon}),c.appendMenuItem(s.EditorTitle,a)}const Mi=1e5,Ke=1e6;B({id:vi.ID,title:i("splitEditorRight","Split Editor Right"),icon:f.splitHorizontal},h.not("splitEditorsVertically"),Mi,{id:Ue,title:i("splitEditorDown","Split Editor Down"),icon:f.splitVertical});B({id:vi.ID,title:i("splitEditorDown","Split Editor Down"),icon:f.splitVertical},h.has("splitEditorsVertically"),Mi,{id:qe,title:i("splitEditorRight","Split Editor Right"),icon:f.splitHorizontal});B({id:Ss,title:i("toggleSplitEditorInGroupLayout","Toggle Layout"),icon:f.editorLayout},ze,Mi-1);B({id:Se,title:i("close","Close"),icon:f.close},h.and(He.toNegated(),Mt.toNegated(),ye.toNegated()),Ke,{id:We,title:i("closeAll","Close All"),icon:f.closeAll});B({id:Se,title:i("close","Close"),icon:f.closeDirty},h.and(He.toNegated(),Mt,ye.toNegated()),Ke,{id:We,title:i("closeAll","Close All"),icon:f.closeAll});B({id:It,title:i("unpin","Unpin"),icon:f.pinned},h.and(He.toNegated(),Mt.toNegated(),ye),Ke,{id:Se,title:i("close","Close"),icon:f.close});B({id:It,title:i("unpin","Unpin"),icon:f.pinnedDirty},h.and(He.toNegated(),Mt,ye),Ke,{id:Se,title:i("close","Close"),icon:f.close});B({id:ko,title:i("unlockEditorGroup","Unlock Group"),icon:f.lock},yt,Ke-1);const Sc=y("diff-editor-previous-change",f.arrowUp,i("previousChangeIcon","Icon for the previous change action in the diff editor.")),yc=y("diff-editor-next-change",f.arrowDown,i("nextChangeIcon","Icon for the next change action in the diff editor.")),on=y("diff-editor-toggle-whitespace",f.whitespace,i("toggleWhitespace","Icon for the toggle whitespace action in the diff editor."));B({id:ys,title:i("navigate.prev.label","Previous Change"),icon:Sc},Ce,10);B({id:Cs,title:i("navigate.next.label","Next Change"),icon:yc},Ce,11);B({id:Uo,title:i("ignoreTrimWhitespace.label","Ignore Leading/Trailing Whitespace Differences"),icon:on},h.and(Ce,h.notEquals("config.diffEditor.ignoreTrimWhitespace",!0)),20);B({id:Uo,title:i("showTrimWhitespace.label","Show Leading/Trailing Whitespace Differences"),icon:Et.modify(on,"disabled")},h.and(Ce,h.notEquals("config.diffEditor.ignoreTrimWhitespace",!1)),20);c.appendMenuItem(s.CommandPalette,{command:{id:Oo,title:{value:i("keepEditor","Keep Editor"),original:"Keep Editor"},category:C.View},when:h.has("config.workbench.editor.enablePreview")});c.appendMenuItem(s.CommandPalette,{command:{id:Go,title:{value:i("pinEditor","Pin Editor"),original:"Pin Editor"},category:C.View}});c.appendMenuItem(s.CommandPalette,{command:{id:It,title:{value:i("unpinEditor","Unpin Editor"),original:"Unpin Editor"},category:C.View}});c.appendMenuItem(s.CommandPalette,{command:{id:Se,title:{value:i("closeEditor","Close Editor"),original:"Close Editor"},category:C.View}});c.appendMenuItem(s.CommandPalette,{command:{id:ws,title:{value:i("closePinnedEditor","Close Pinned Editor"),original:"Close Pinned Editor"},category:C.View}});c.appendMenuItem(s.CommandPalette,{command:{id:We,title:{value:i("closeEditorsInGroup","Close All Editors in Group"),original:"Close All Editors in Group"},category:C.View}});c.appendMenuItem(s.CommandPalette,{command:{id:Si,title:{value:i("closeSavedEditors","Close Saved Editors in Group"),original:"Close Saved Editors in Group"},category:C.View}});c.appendMenuItem(s.CommandPalette,{command:{id:xo,title:{value:i("closeOtherEditors","Close Other Editors in Group"),original:"Close Other Editors in Group"},category:C.View}});c.appendMenuItem(s.CommandPalette,{command:{id:Po,title:{value:i("closeRightEditors","Close Editors to the Right in Group"),original:"Close Editors to the Right in Group"},category:C.View},when:Ro.toNegated()});c.appendMenuItem(s.CommandPalette,{command:{id:Is,title:{value:i("closeEditorGroup","Close Editor Group"),original:"Close Editor Group"},category:C.View},when:R});c.appendMenuItem(s.CommandPalette,{command:{id:_o,title:{value:i("reopenWith","Reopen Editor With..."),original:"Reopen Editor With..."},category:C.View},when:Bo});c.appendMenuItem(s.MenubarRecentMenu,{group:"1_editor",command:{id:Eo.ID,title:i({key:"miReopenClosedEditor",comment:["&& denotes a mnemonic"]},"&&Reopen Closed Editor"),precondition:h.has("canReopenClosedEditor")},order:1});c.appendMenuItem(s.MenubarRecentMenu,{group:"z_clear",command:{id:vo.ID,title:i({key:"miClearRecentOpen",comment:["&& denotes a mnemonic"]},"&&Clear Recently Opened")},order:1});c.appendMenuItem(s.MenubarViewMenu,{group:"2_appearance",title:i({key:"miEditorLayout",comment:["&& denotes a mnemonic"]},"Editor &&Layout"),submenu:s.MenubarLayoutMenu,order:2});c.appendMenuItem(s.MenubarLayoutMenu,{group:"1_split",command:{id:Ct,title:{original:"Split Up",value:i("miSplitEditorUpWithoutMnemonic","Split Up"),mnemonicTitle:i({key:"miSplitEditorUp",comment:["&& denotes a mnemonic"]},"Split &&Up")}},order:1});c.appendMenuItem(s.MenubarLayoutMenu,{group:"1_split",command:{id:Ue,title:{original:"Split Down",value:i("miSplitEditorDownWithoutMnemonic","Split Down"),mnemonicTitle:i({key:"miSplitEditorDown",comment:["&& denotes a mnemonic"]},"Split &&Down")}},order:2});c.appendMenuItem(s.MenubarLayoutMenu,{group:"1_split",command:{id:wt,title:{original:"Split Left",value:i("miSplitEditorLeftWithoutMnemonic","Split Left"),mnemonicTitle:i({key:"miSplitEditorLeft",comment:["&& denotes a mnemonic"]},"Split &&Left")}},order:3});c.appendMenuItem(s.MenubarLayoutMenu,{group:"1_split",command:{id:qe,title:{original:"Split Right",value:i("miSplitEditorRightWithoutMnemonic","Split Right"),mnemonicTitle:i({key:"miSplitEditorRight",comment:["&& denotes a mnemonic"]},"Split &&Right")}},order:4});c.appendMenuItem(s.MenubarLayoutMenu,{group:"2_split_in_group",command:{id:No,title:{original:"Split in Group",value:i("miSplitEditorInGroupWithoutMnemonic","Split in Group"),mnemonicTitle:i({key:"miSplitEditorInGroup",comment:["&& denotes a mnemonic"]},"Split in &&Group")}},when:Fo,order:1});c.appendMenuItem(s.MenubarLayoutMenu,{group:"2_split_in_group",command:{id:Vo,title:{original:"Join in Group",value:i("miJoinEditorInGroupWithoutMnemonic","Join in Group"),mnemonicTitle:i({key:"miJoinEditorInGroup",comment:["&& denotes a mnemonic"]},"Join in &&Group")}},when:ze,order:1});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:So.ID,title:{original:"Single",value:i("miSingleColumnEditorLayoutWithoutMnemonic","Single"),mnemonicTitle:i({key:"miSingleColumnEditorLayout",comment:["&& denotes a mnemonic"]},"&&Single")}},order:1});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:yo.ID,title:{original:"Two Columns",value:i("miTwoColumnsEditorLayoutWithoutMnemonic","Two Columns"),mnemonicTitle:i({key:"miTwoColumnsEditorLayout",comment:["&& denotes a mnemonic"]},"&&Two Columns")}},order:3});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Co.ID,title:{original:"Three Columns",value:i("miThreeColumnsEditorLayoutWithoutMnemonic","Three Columns"),mnemonicTitle:i({key:"miThreeColumnsEditorLayout",comment:["&& denotes a mnemonic"]},"T&&hree Columns")}},order:4});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:wo.ID,title:{original:"Two Rows",value:i("miTwoRowsEditorLayoutWithoutMnemonic","Two Rows"),mnemonicTitle:i({key:"miTwoRowsEditorLayout",comment:["&& denotes a mnemonic"]},"T&&wo Rows")}},order:5});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Io.ID,title:{original:"Three Rows",value:i("miThreeRowsEditorLayoutWithoutMnemonic","Three Rows"),mnemonicTitle:i({key:"miThreeRowsEditorLayout",comment:["&& denotes a mnemonic"]},"Three &&Rows")}},order:6});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Mo.ID,title:{original:"Grid (2x2)",value:i("miTwoByTwoGridEditorLayoutWithoutMnemonic","Grid (2x2)"),mnemonicTitle:i({key:"miTwoByTwoGridEditorLayout",comment:["&& denotes a mnemonic"]},"&&Grid (2x2)")}},order:7});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Ao.ID,title:{original:"Two Rows Right",value:i("miTwoRowsRightEditorLayoutWithoutMnemonic","Two Rows Right"),mnemonicTitle:i({key:"miTwoRowsRightEditorLayout",comment:["&& denotes a mnemonic"]},"Two R&&ows Right")}},order:8});c.appendMenuItem(s.MenubarLayoutMenu,{group:"3_layouts",command:{id:Lo.ID,title:{original:"Two Columns Bottom",value:i("miTwoColumnsBottomEditorLayoutWithoutMnemonic","Two Columns Bottom"),mnemonicTitle:i({key:"miTwoColumnsBottomEditorLayout",comment:["&& denotes a mnemonic"]},"Two &&Columns Bottom")}},order:9});c.appendMenuItem(s.MenubarGoMenu,{group:"1_history_nav",command:{id:"workbench.action.navigateToLastEditLocation",title:i({key:"miLastEditLocation",comment:["&& denotes a mnemonic"]},"&&Last Edit Location"),precondition:h.has("canNavigateToLastEditLocation")},order:3});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"1_sideBySide",command:{id:Ms,title:i({key:"miFirstSideEditor",comment:["&& denotes a mnemonic"]},"&&First Side in Editor")},when:h.or(ze,Ce),order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"1_sideBySide",command:{id:As,title:i({key:"miSecondSideEditor",comment:["&& denotes a mnemonic"]},"&&Second Side in Editor")},when:h.or(ze,Ce),order:2});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"2_any",command:{id:"workbench.action.nextEditor",title:i({key:"miNextEditor",comment:["&& denotes a mnemonic"]},"&&Next Editor")},order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"2_any",command:{id:"workbench.action.previousEditor",title:i({key:"miPreviousEditor",comment:["&& denotes a mnemonic"]},"&&Previous Editor")},order:2});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"3_any_used",command:{id:"workbench.action.openNextRecentlyUsedEditor",title:i({key:"miNextRecentlyUsedEditor",comment:["&& denotes a mnemonic"]},"&&Next Used Editor")},order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"3_any_used",command:{id:"workbench.action.openPreviousRecentlyUsedEditor",title:i({key:"miPreviousRecentlyUsedEditor",comment:["&& denotes a mnemonic"]},"&&Previous Used Editor")},order:2});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"4_group",command:{id:"workbench.action.nextEditorInGroup",title:i({key:"miNextEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Next Editor in Group")},order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"4_group",command:{id:"workbench.action.previousEditorInGroup",title:i({key:"miPreviousEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Previous Editor in Group")},order:2});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"5_group_used",command:{id:"workbench.action.openNextRecentlyUsedEditorInGroup",title:i({key:"miNextUsedEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Next Used Editor in Group")},order:1});c.appendMenuItem(s.MenubarSwitchEditorMenu,{group:"5_group_used",command:{id:"workbench.action.openPreviousRecentlyUsedEditorInGroup",title:i({key:"miPreviousUsedEditorInGroup",comment:["&& denotes a mnemonic"]},"&&Previous Used Editor in Group")},order:2});c.appendMenuItem(s.MenubarGoMenu,{group:"2_editor_nav",title:i({key:"miSwitchEditor",comment:["&& denotes a mnemonic"]},"Switch &&Editor"),submenu:s.MenubarSwitchEditorMenu,order:1});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFirstEditorGroup",title:i({key:"miFocusFirstGroup",comment:["&& denotes a mnemonic"]},"Group &&1")},order:1});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusSecondEditorGroup",title:i({key:"miFocusSecondGroup",comment:["&& denotes a mnemonic"]},"Group &&2")},order:2});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusThirdEditorGroup",title:i({key:"miFocusThirdGroup",comment:["&& denotes a mnemonic"]},"Group &&3"),precondition:R},order:3});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFourthEditorGroup",title:i({key:"miFocusFourthGroup",comment:["&& denotes a mnemonic"]},"Group &&4"),precondition:R},order:4});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"1_focus_index",command:{id:"workbench.action.focusFifthEditorGroup",title:i({key:"miFocusFifthGroup",comment:["&& denotes a mnemonic"]},"Group &&5"),precondition:R},order:5});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"2_next_prev",command:{id:"workbench.action.focusNextGroup",title:i({key:"miNextGroup",comment:["&& denotes a mnemonic"]},"&&Next Group"),precondition:R},order:1});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"2_next_prev",command:{id:"workbench.action.focusPreviousGroup",title:i({key:"miPreviousGroup",comment:["&& denotes a mnemonic"]},"&&Previous Group"),precondition:R},order:2});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusLeftGroup",title:i({key:"miFocusLeftGroup",comment:["&& denotes a mnemonic"]},"Group &&Left"),precondition:R},order:1});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusRightGroup",title:i({key:"miFocusRightGroup",comment:["&& denotes a mnemonic"]},"Group &&Right"),precondition:R},order:2});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusAboveGroup",title:i({key:"miFocusAboveGroup",comment:["&& denotes a mnemonic"]},"Group &&Above"),precondition:R},order:3});c.appendMenuItem(s.MenubarSwitchGroupMenu,{group:"3_directional",command:{id:"workbench.action.focusBelowGroup",title:i({key:"miFocusBelowGroup",comment:["&& denotes a mnemonic"]},"Group &&Below"),precondition:R},order:4});c.appendMenuItem(s.MenubarGoMenu,{group:"2_editor_nav",title:i({key:"miSwitchGroup",comment:["&& denotes a mnemonic"]},"Switch &&Group"),submenu:s.MenubarSwitchGroupMenu,order:2});let Xi=class extends ia{constructor(e,t,o){super(t),this.editorService=e,this.configurationService=o,this.registerCodeEditorOpenHandler(this.doOpenCodeEditor.bind(this)),this.registerCodeEditorOpenHandler(this.doOpenCodeEditorFromDiff.bind(this))}getActiveCodeEditor(){var o;const e=this.editorService.activeTextEditorControl;if(Ye(e))return e;if(Oi(e))return e.getModifiedEditor();const t=(o=this.editorService.activeEditorPane)==null?void 0:o.getControl();return Gi(t)&&Ye(t.activeCodeEditor)?t.activeCodeEditor:null}async doOpenCodeEditorFromDiff(e,t,o){var a;const n=this.editorService.activeTextEditorControl;if(!o&&Oi(n)&&e.options&&e.resource&&t===n.getModifiedEditor()&&n.getModel()&&De(e.resource,(a=n.getModel())==null?void 0:a.modified.uri)){const d=n.getModifiedEditor();return qo(e.options,d,0),d}return null}async doOpenCodeEditor(e,t,o){var d,g,p,m;if(!((g=(d=this.configurationService.getValue().workbench)==null?void 0:d.editor)==null?void 0:g.enablePreviewFromCodeNavigation)&&t&&!((p=e.options)!=null&&p.pinned)&&!o&&!De((m=t.getModel())==null?void 0:m.uri,e.resource)){for(const E of this.editorService.visibleEditorPanes)if(Z(E.getControl())===t){E.group.pinEditor();break}}const a=await this.editorService.openEditor(e,o?Ho:Ls);if(a){const E=a.getControl();if(Ye(E))return E;if(Gi(E)&&Ye(E.activeCodeEditor))return E.activeCodeEditor}return null}};Xi=A([u(0,ce),u(1,te),u(2,T)],Xi);class Cc{constructor(e){this.editor=e,this.onDidChangeControl=N.None,this.onDidChangeSizeConstraints=N.None,this.onDidFocus=N.None,this.onDidBlur=N.None,this.input=void 0,this.options=void 0,this.group=void 0,this.scopedContextKeyService=void 0,this.getViewState=le,this.isVisible=le,this.hasFocus=le,this.getId=le,this.getTitle=le,this.focus=le}get minimumWidth(){return zi.width}get maximumWidth(){return Ki.width}get minimumHeight(){return zi.height}get maximumHeight(){return Ki.height}getControl(){return this.editor}}function zc(l,e,t){async function o(n,a,d){const g=Wi(n)?a:n.options;ks(a)&&(d=a);const p=Ts(n)||Wi(n)?n.resource:void 0;if(p==null||!l.canHandleResource(p))return e(n,a,d);let m;if(m=oa.get(na).listCodeEditors().find(b=>b instanceof aa&&b.getModel()!=null&&b.getModel().uri.toString()===p.toString()),m==null){const b=await e(n,a,d);if(b!=null)return b;const S=await l.createModelReference(p);if(m=await(t==null?void 0:t(S,g,d===Ho)),m==null){S.dispose();return}}return g!=null&&qo(g,m,1),((g==null?void 0:g.preserveFocus)??!1)||(m.focus(),m.getContainerDomNode().scrollIntoView()),new Cc(m)}return o}export{yi as A,ti as B,kc as C,Y as E,Kt as P,Ps as T,j as W,Pe as a,xc as b,Ji as c,$i as d,Tt as e,me as f,$ as g,_c as h,Qi as i,X as j,fe as k,Xi as l,zc as w};
