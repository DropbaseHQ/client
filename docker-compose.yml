services:
  server:
    image: dropbase-server
    build: ./server
    platform: linux/amd64 # required on Apple Silicon for pyscopg2 authentication
    ports:
      - 8000:8000 # this should be reflected in client/.env
  pylsp:
    image: dropbase-pylsp
    build: 
      context: .
      dockerfile: ./python-lsp-server/Dockerfile
    ports:
      - 8001:8000 # this should be reflected in client/.env
